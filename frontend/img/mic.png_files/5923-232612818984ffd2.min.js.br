"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e2b608ea-db08-5890-a7bf-3874b1aa2b4a")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[5923],{629300:(e,t,n)=>{n.d(t,{RG:()=>r,d4:()=>o,dR:()=>i,xy:()=>a});let i="prototype_animation_panel--transitionLeftCol--33VAT",r="prototype_animation_panel--previewPane--q9Wvl",a="prototype_animation_panel--animationPanel--9dIh2",o="prototype_animation_panel--scrubIcon--EpWvf"},294044:(e,t,n)=>{n.d(t,{$l:()=>S,BP:()=>P,BX:()=>_,DM:()=>w,G_:()=>k,Gl:()=>h,Gu:()=>M,I_:()=>A,It:()=>j,Iw:()=>I,KY:()=>T,LW:()=>z,Li:()=>g,Lp:()=>m,M9:()=>v,O8:()=>f,Ob:()=>K,Oe:()=>V,PB:()=>i,PE:()=>y,QK:()=>r,Ti:()=>C,U3:()=>F,Ym:()=>o,Yo:()=>O,Ze:()=>b,_2:()=>R,aB:()=>W,d4:()=>$,dU:()=>p,eU:()=>d,ft:()=>U,h2:()=>G,kE:()=>N,oM:()=>a,rn:()=>x,sQ:()=>u,vE:()=>s,vs:()=>E,w1:()=>H,wu:()=>l,x:()=>B,x1:()=>D,xm:()=>L,zX:()=>c});let i="prototype_interaction_panel--variableSelectorDropdown--UOYMn",r="prototype_interaction_panel--inactiveLabel--6uytx transform_panel--inactiveLabel--fPCxr raw_components--iconInsideBorderFocusWithin--2g7fO",a="prototype_interaction_panel--scrollOptionsInput--NNU-R",o="prototype_interaction_panel--timestampContainer--P9Uid",s="prototype_interaction_panel--timestamp--Ay3G7",l="prototype_interaction_panel--addActionRow--PByUm",c="prototype_interaction_panel--addActionRowUI3Hover--rVXoJ",u="prototype_interaction_panel--interactionSelectDropdown--HG9ew",p="prototype_interaction_panel--ui3TwoColSecondaryInputContainer--DQJ3R ui3_modal_rows--ui3LabelOneInputRow--kpsQB ui3_modal_rows--_row--x9xQX ui3_rows--_row--DnZFk ui3_rows--_grid--cP2Wu",_="prototype_interaction_panel--ui3TwoColDropdownRow--5aWMH",d="prototype_interaction_panel--ui3TwoColDropdownContainer--pq-AI",h="prototype_interaction_panel--durationInputUI3--lInao",m="prototype_interaction_panel--inputWithIconUI3--TPVTd",S="prototype_interaction_panel--actionRow--WzbzF",T="prototype_interaction_panel--actionRowUI3--qr-7o",I="prototype_interaction_panel--actionRowUI3Hover--aY-qg",A="prototype_interaction_panel--actionRowUI3ConditionalHover--lbjuo",w="prototype_interaction_panel--actionRowUI3Nested--VoFza",E="prototype_interaction_panel--actionRowUI3NestedHover--9uL8f",v="prototype_interaction_panel--actionRowUI3NestedSelectedHover--cJRBw",g="prototype_interaction_panel--actionVerboseTitle--HKv2H",N="prototype_interaction_panel--actionVerboseTitleUI3--TTKpR",f="prototype_interaction_panel--actionVerboseTitleNarrow--KFbW0 prototype_interaction_panel--actionVerboseTitle--HKv2H",y="prototype_interaction_panel--actionRowSelectedUI3--JgKW1",b="prototype_interaction_panel--conditionalActionRowBorder--p80fK",x="prototype_interaction_panel--actionTitleRow--DxGK3",M="prototype_interaction_panel--actionTitleRowUI3--LSxu3",R="prototype_interaction_panel--childIcon--RLZ-K",C="prototype_interaction_panel--conditionalActionRow--YQRe3",O="prototype_interaction_panel--conditionalActionRowUI3--2s-yJ",D="prototype_interaction_panel--createActionButton--6BFXc raw_components--iconButtonEnabled--WmVk5 raw_components--_iconButton---ybo6",P="prototype_interaction_panel--createActionDropdownOption--qX5xI",L="prototype_interaction_panel--createActionRow--zskZs",F="prototype_interaction_panel--createActionRowUI3--lySxj",U="prototype_interaction_panel--topLevelActionRowDivider--TriUY prototype_interaction_panel--actionRowDivider--bqH58",j="prototype_interaction_panel--conditionalActionRowDivider--9pjgS prototype_interaction_panel--actionRowDivider--bqH58",B="prototype_interaction_panel--dividerHorizontalUI3--OjPRj",V="prototype_interaction_panel--actionRowUI3TwoCol--oZabn",G="prototype_interaction_panel--actionRowUI3TwoColSelected--md39i",K="prototype_interaction_panel--conditionalActionRowUI3TwoCol--ot0Li",z="prototype_interaction_panel--emptyActionUI3TwoCol--NVK62 prototype_interaction_panel--actionRowUI3TwoCol--oZabn",k="prototype_interaction_panel--prototypeOptionRow--T9fgO",W="prototype_interaction_panel--prototypeOptionLabel--NBKGh",H="prototype_interaction_panel--prototypeOptionInput--MNAjz",$="prototype_interaction_panel--scrubIcon--F5CjH"},592532:(e,t,n)=>{n.d(t,{n:()=>i});let i=new class{parse(e,t){let n=[];if(e.split(/[ ,]+/g).forEach(e=>{if(!e.length)return;let t=parseFloat(e);if(!isFinite(t))throw Error("Could not parse easing function input");n.push(t)}),4!==n.length)throw Error("Could not parse easing function input");return n.forEach((e,t)=>{t%2==0&&(n[t]=Math.min(Math.max(e,0),1))}),n}format(e){return null==e?"":e.map(e=>parseFloat(e.toFixed(2))).join(", ")}}},825923:(e,t,n)=>{n.d(t,{Mk:()=>X,Um:()=>J,X7:()=>$,sP:()=>Q});var i=n(104076),r=n(716976),a=n(237420),o=n(989941),s=n(452981),l=n(302727),c=n(336518),u=n(224781),p=n(337534),_=n(381531),d=n(671170),h=n(815346),m=n(326763),S=n(795033),T=n(641518),I=n(192075),A=n(241421),w=n(819851),E=n(968169),v=n(553065),g=n(205088),N=n(863995),f=n(349311),y=n(950241),b=n(566016),x=n(407443),M=n(561970),R=n(577841),C=n(818706),O=n(737139),D=n(467216),P=n(788613),L=n(132263),F=n(294044),U=n(629300),j=["LINEAR","SELECT_DIVIDER","EASE_IN","EASE_OUT","EASE_IN_AND_OUT","EASE_IN_BACK","EASE_OUT_BACK","EASE_IN_AND_OUT_BACK","CUSTOM_BEZIER","SELECT_DIVIDER","GENTLE","QUICK","BOUNCY","SLOW","CUSTOM_SPRING"];let B={scrollTo:["INSTANT","SCROLL_ANIMATE"],nonScrollTo:["INSTANT","DISSOLVE","SMART_ANIMATE","SELECT_DIVIDER","MOVE","MOVE_OUT","PUSH","SLIDE","SLIDE_OUT"]};function V(e,t,n,i){let r="DRAG"!==e||"INSTANT"!==n&&"DISSOLVE"!==n,a=!1;switch(t){case"NAVIGATE":a="SCROLL_ANIMATE"!==n;break;case"OVERLAY":a=["INSTANT","DISSOLVE","MOVE"].indexOf(n??"")>=0;break;case"SCROLL_TO":a=!i&&["INSTANT","SCROLL_ANIMATE"].indexOf(n??"")>=0;break;case"SWAP":a=["INSTANT","DISSOLVE","MOVE","SMART_ANIMATE"].indexOf(n??"")>=0;break;case"SWAP_STATE":a=["INSTANT","DISSOLVE","SMART_ANIMATE"].indexOf(n??"")>=0}return a&&r}let G="RIGHT";function K(e){switch(e.behavior){case"INSTANT":return{transitionType:"INSTANT_TRANSITION"};case"DISSOLVE":return{transitionType:"DISSOLVE"};case"FADE":return{transitionType:"FADE"};case"PUSH":case"SLIDE":case"MOVE":if(!e.direction)return{transitionType:`${e.behavior}_FROM_${G}`};return{transitionType:`${e.behavior}_FROM_${e.direction}`};case"SLIDE_OUT":case"MOVE_OUT":if(!e.direction)return{transitionType:`${e.behavior}_TO_${G}`};return{transitionType:`${e.behavior}_TO_${e.direction}`};case"SMART_ANIMATE":return{transitionType:"SMART_ANIMATE"};case"SCROLL_ANIMATE":return{transitionType:"SCROLL_ANIMATE"};default:return{}}}function z(e){switch(e.easing){case"EASE_IN":return{easingType:"IN_CUBIC"};case"EASE_OUT":return{easingType:"OUT_CUBIC"};case"EASE_IN_AND_OUT":return{easingType:"INOUT_CUBIC"};case"LINEAR":return{easingType:"LINEAR"};case"EASE_IN_BACK":return{easingType:"IN_BACK_CUBIC"};case"EASE_OUT_BACK":return{easingType:"OUT_BACK_CUBIC"};case"EASE_IN_AND_OUT_BACK":return{easingType:"INOUT_BACK_CUBIC"};case"CUSTOM_BEZIER":return{easingType:"CUSTOM_CUBIC"};case"GENTLE":return{easingType:"GENTLE_SPRING"};case"QUICK":return{easingType:"SPRING_PRESET_ONE"};case"BOUNCY":return{easingType:"SPRING_PRESET_TWO"};case"SLOW":return{easingType:"SPRING_PRESET_THREE"};case"CUSTOM_SPRING":return{easingType:"CUSTOM_SPRING"};default:return{}}}function k(e){return"GENTLE"===e||"QUICK"===e||"BOUNCY"===e||"SLOW"===e||"CUSTOM_SPRING"===e}function W(e,t){switch(e.easing){case"EASE_IN":return{easingFunction:[.42,0,1,1]};case"EASE_OUT":return{easingFunction:[0,0,.58,1]};case"EASE_IN_AND_OUT":return{easingFunction:[.42,0,.58,1]};case"LINEAR":return{easingFunction:[0,0,1,1]};case"EASE_IN_BACK":return{easingFunction:[.3,-.05,.7,-.5]};case"EASE_OUT_BACK":return{easingFunction:[.45,1.45,.8,1]};case"EASE_IN_AND_OUT_BACK":return{easingFunction:[.7,-.4,.4,1.4]};case"CUSTOM_BEZIER":return!(0,v.hS)(e.easingFunction)||t?{easingFunction:[0,0,.58,1]}:{easingFunction:e.easingFunction};case"GENTLE":return{easingFunction:[1,100,15,0]};case"QUICK":return{easingFunction:[1,300,20,0]};case"BOUNCY":return{easingFunction:[1,600,15,0]};case"SLOW":return{easingFunction:[1,80,20,0]};case"CUSTOM_SPRING":return!(0,v.hS)(e.easingFunction)||t?{easingFunction:[1,100,15,0]}:{easingFunction:(0,M.w_)(e.easingFunction)};default:return{}}}function H(e,t){if((0,v.hS)(e.easing)){if(k(e.easing)){let n=W(e,t).easingFunction;if(n&&(0,v.hS)(n))return{transitionDuration:(0,M.J5)(n)}}else if(t)return{transitionDuration:.3}}if((0,v.hS)(e.duration))return e.duration?{transitionDuration:e.duration}:{}}function $({transition:e,interactionType:t,navigationType:n,recordingKey:l,isNarrowPanel:c,stateManagementVersion:u,updateSelectionProperties:_}){let d=(0,a.wA)(),h=(0,E.EU)(),m=(0,S.md)(R.x),A=(t,n)=>{let i=e.easingFunction;if((0,v.hS)(i)){let e=(0,x.PQ)(t,(0,M.w_)(i)),r=(0,M.J5)(e);_({easingFunction:e,transitionDuration:r}),D.BG.trigger("restartSpringAnimation"),n===N.zk.YES&&d((0,g._P)({name:"Prototype Spring Animations Set Custom Value",params:{editedValue:"DURATION",...(0,x.F4)(e)}}))}},j=(0,v.E7)(e.behavior),B=(0,v.E7)(n),G="NAVIGATE"===B,$="INSTANT"!==e.behavior&&"DISSOLVE"!==e.behavior&&"SMART_ANIMATE"!==e.behavior&&"SCROLL_ANIMATE"!==e.behavior,X=(0,w.cJ)(),Y="INSTANT"!==e.behavior&&V(t,B,(0,v.E7)(e.behavior),X),q=Y&&!m,ee=!e.isSpringTransition||"INSTANT"===e.behavior,et="INSTANT"===e.behavior,en=r.useId(),ei=(0,i.jsx)(J,{ariaLabelledBy:en,className:U.dR,property:e.easing,onChange:t=>{d((0,g._P)({name:"Prototype Transition Easing Changed",params:{newEasing:t}}));let n={...e,easing:t},i=e.easing,r=!(0,v.hS)(i)||k(t)!==k(i);_({...z(n),...W(n,r),...H(n,r)}),setTimeout(()=>{k(t)?D.BG.trigger("restartSpringAnimation"):D.$2.trigger("activateBezierAnimation")},0)},recordingKey:T.Pt(l,"easingDropdown")}),er=(0,i.jsxs)(i.Fragment,{children:[ee&&(0,i.jsx)(y.W4,{className:F.Lp,"data-tooltip":(0,I.t)("proto.animation_panel.easing_duration_tooltip"),"data-tooltip-type":f.Ib.TEXT,dispatch:d,inputClassName:F.Gl,onValueChange:t=>{d((0,g._P)({name:"Prototype Transition Duration Changed",params:{newDuration:t}})),_({...H({...e,duration:t})})},recordingKey:T.Pt(l,"durationInput"),scrubMultiplier:.004166666666666667,tooltipForScreenReadersOnly:!0,value:e.duration,wheelMultiplier:h/10,children:(0,i.jsx)(p.L,{className:U.d4})}),!et&&(0,v.hS)(e.easing)&&k(e.easing)&&(0,v.hS)(e.easingFunction)&&(0,i.jsx)(L.y.Consumer,{children:([e])=>(0,i.jsx)(y.W4,{className:F.Lp,"data-tooltip":(0,I.t)("proto.animation_panel.easing_duration_tooltip"),"data-tooltip-type":f.Ib.TEXT,dispatch:d,inputClassName:F.Gl,onValueChange:A,recordingKey:T.Pt(l,"springDurationInput"),scrubMultiplier:.004166666666666667,tooltipForScreenReadersOnly:!0,value:(0,x.xX)((0,M.w_)(e)),wheelMultiplier:h/10,children:(0,i.jsx)(p.L,{className:U.d4})})})]}),ea=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(C.A,{label:(0,I.t)("proto.curve"),labelId:en,input:ei}),(0,i.jsx)(C.A,{label:(0,I.t)("proto.duration"),input:er})]}),eo=r.useId(),es=(0,i.jsx)(Z,{ariaLabelledBy:eo,interactionType:t,navigationType:B,property:e.behavior,onChange:t=>{d((0,g._P)({name:"Prototype Transition Type Changed",params:{newType:t,oldType:(0,v._W)(e.behavior,"MIXED"),smartAnimateMatchingLayers:(0,v._W)(e.shouldSmartAnimate,null)}}));let n={...e,behavior:t};_({...K(n),...z(n),...W(n),...H(n),...function(e,t){if((0,v.hS)(e.preserveScroll)&&1!==t)return{transitionPreserveScroll:e.preserveScroll}}(n,u),...function(e){if((0,v.hS)(e.resetVideoPosition))return{transitionResetVideoPosition:e.resetVideoPosition}}(n)})},recordingKey:T.Pt(l,"behaviorDropdown")}),el=$?(0,i.jsx)(Q,{property:e.direction?e.direction:null,onChange:t=>{d((0,g._P)({name:"Prototype Transition Direction Changed",params:{newDirection:t,oldDirection:(0,v._W)(e.direction,"MIXED")}})),_({...K(e.direction?{...e,direction:t}:{...e,direction:t,behavior:"MOVE"})})},recordingKey:T.Pt(l,"directionControl")}):null,ec=(0,i.jsx)(C.A,{label:(0,I.t)("proto.animation"),labelId:eo,input:es}),eu=$&&(0,i.jsx)(C.A,{label:(0,I.t)("proto.direction"),input:el}),ep=(0,i.jsx)(o.S,{onChange:t=>{let n=(0,v.E7)(e.behavior);d((0,g._P)({name:"Smart Animate Changed",params:{newValue:t,transitionType:n}})),_({...function(e){if((0,v.hS)(e.shouldSmartAnimate))return{transitionShouldSmartAnimate:e.shouldSmartAnimate}}({...e,shouldSmartAnimate:t})})},checked:!0===e.shouldSmartAnimate,mixed:(0,v.gl)(e.shouldSmartAnimate),recordingKey:T.Pt(l,"transition-should-smart-animate"),label:(0,i.jsx)(s.J,{children:(0,I.tx)("proto.animation_panel.animate_matching_layers")})}),e_=(0,i.jsx)(P.TN,{children:ep});return(0,i.jsxs)(O.Zk,{className:U.xy,children:[ec,Y&&!et&&G&&("MOVE"==j||"MOVE_OUT"==j||"PUSH"==j||"SLIDE"==j||"SLIDE_OUT"==j)&&e_,eu,(0,i.jsxs)(L.O,{easingFunction:(0,v.hS)(e.easingFunction)?e.easingFunction:null,children:[Y&&!et&&ea,Y&&!et&&("CUSTOM_BEZIER"===e.easing||"CUSTOM_SPRING"===e.easing)&&(0,v.hS)(e.easingFunction)&&(0,i.jsx)(b.R,{easingType:e.easing,easingFunction:e.easingFunction,duration:e.duration,updateSelectionProperties:_,recordingKey:T.Pt(l,"easingEditor"),isNarrowPanel:c})]}),q&&(0,i.jsxs)("div",{className:U.RG,children:[!ee&&(0,i.jsx)(D.SA,{transition:e,isNarrowPanel:c,isUI3:!0}),ee&&(0,i.jsx)(D.ub,{transition:e,isNarrowPanel:c,isUI3:!0})]})]})}class X{formatImpl(e){if(null==e)return"";switch(e){case"LINEAR":return(0,I.t)("proto.easing_behavior.linear");case"EASE_IN":return(0,I.t)("proto.easing_behavior.bezier_ease_in");case"EASE_OUT":return(0,I.t)("proto.easing_behavior.bezier_ease_out");case"EASE_IN_AND_OUT":return(0,I.t)("proto.easing_behavior.bezier_ease_in_and_out");case"EASE_IN_BACK":return(0,I.t)("proto.easing_behavior.bezier_ease_in_back");case"EASE_OUT_BACK":return(0,I.t)("proto.easing_behavior.bezier_ease_out_back");case"EASE_IN_AND_OUT_BACK":return(0,I.t)("proto.easing_behavior.bezier_ease_in_and_out_back");case"CUSTOM_BEZIER":return(0,I.t)("proto.easing_behavior.bezier_custom");case"GENTLE":return(0,I.t)("proto.easing_behavior.spring_gentle");case"QUICK":return(0,I.t)("proto.easing_behavior.spring_quick");case"BOUNCY":return(0,I.t)("proto.easing_behavior.spring_bouncy");case"SLOW":return(0,I.t)("proto.easing_behavior.spring_slow");case"CUSTOM_SPRING":return(0,I.t)("proto.easing_behavior.spring_custom");default:return new A._r().format(e)}}format(e){return this.formatImpl(e)}}let Y=new X,q=new A.el;function Z(e){let{navigationType:t,property:n,onChange:a,interactionType:o}=e,s="SCROLL_TO"===t?B.scrollTo:B.nonScrollTo,u=r.useMemo(()=>{if((0,v.gl)(n))return;let e=(0,v.E7)(n);return e?String(e):void 0},[n]),p=r.useCallback(e=>{e&&a(e)},[a]);return(0,i.jsxs)(l.Root,{value:u,onChange:p,recordingKey:T.Pt(e,"select"),children:[(0,i.jsx)(l.Trigger,{"data-testid":"transition-select",label:(0,i.jsx)(c.q,{children:(0,I.t)("proto.animation")}),width:"fill",children:(0,i.jsx)(i.Fragment,{children:u?q.format(u):(0,v.gl)(n)?(0,I.t)("design_systems.instance_panel.mixed"):void 0})}),(0,i.jsx)(l.Container,{children:s.map((e,n)=>"SELECT_DIVIDER"===e?(0,i.jsx)(l.Separator,{},n):(0,i.jsx)(l.Option,{value:e,disabled:!V(o,t,e),children:q.format(e)},e))})]})}function J(e){let{property:t,onChange:n}=e,a=r.useMemo(()=>{if((0,v.gl)(t))return;let e=(0,v.E7)(t);return e?String(e):void 0},[t]),o=r.useCallback(e=>{e&&n(e)},[n]);return(0,i.jsxs)(l.Root,{value:a,onChange:o,recordingKey:T.Pt(e,"select"),children:[(0,i.jsx)(l.Trigger,{label:(0,i.jsx)(c.q,{children:(0,I.t)("proto.curve")}),width:"fill",children:(0,i.jsx)(i.Fragment,{children:a?Y.format(a):(0,v.gl)(t)?(0,I.t)("design_systems.instance_panel.mixed"):void 0})}),(0,i.jsx)(l.Container,{children:j.map((e,t)=>"SELECT_DIVIDER"===e?(0,i.jsx)(l.Separator,{},t):(0,i.jsx)(l.Option,{value:e,disabled:!1,children:Y.format(e)},t))})]})}class Q extends r.PureComponent{render(){return(0,i.jsxs)(u.bL,{onChange:this.props.onChange,recordingKey:this.props.recordingKey,value:(0,v.hS)(this.props.property)?this.props.property??"LEFT":void 0,legend:(0,i.jsx)(c.q,{children:(0,I.t)("proto.animation_panel.transition_direction")}),children:[(0,i.jsx)(u.c$,{value:"RIGHT",icon:(0,i.jsx)(_.m,{}),"aria-label":(0,I.t)("proto.animation_panel.transition_direction.left")}),(0,i.jsx)(u.c$,{value:"LEFT",icon:(0,i.jsx)(d.H,{}),"aria-label":(0,I.t)("proto.animation_panel.transition_direction.right")}),(0,i.jsx)(u.c$,{value:"TOP",icon:(0,i.jsx)(h.t,{}),"aria-label":(0,I.t)("proto.animation_panel.transition_direction.down")}),(0,i.jsx)(u.c$,{value:"BOTTOM",icon:(0,i.jsx)(m.G,{}),"aria-label":(0,I.t)("proto.animation_panel.transition_direction.up")})]})}}Q.displayName="TransitionDirectionControl"},132263:(e,t,n)=>{n.d(t,{O:()=>s,y:()=>o});var i=n(104076),r=n(716976);let a=[0,0,0,0],o=r.createContext([a,()=>{}]);function s({easingFunction:e,children:t}){let[n,s]=r.useState(e||a);return r.useEffect(()=>{e&&s(e)},[e]),e?(0,i.jsx)(o.Provider,{value:[n,s],children:t}):(0,i.jsx)(i.Fragment,{children:t})}},566016:(e,t,n)=>{n.d(t,{R:()=>Y});var i=n(104076),r=n(716976),a=n(237420),o=n(641518),s=n(192075),l=n(592532),c=n(819851),u=n(205088),p=n(863995),_=n(349311),d=n(950241),h=n(813371),m=n(132263),S=n(818706),T=n(467216),I=n(788613),A=n(983500),w=n(361170),E=n(373547),v=n(423006),g=n(392260);let N="prototype_easing_editor--springInput--PEy5a",f=r.memo(function(e){var t=(0,A.jz)("208px");e.isNarrowPanel&&(t=(0,A.jz)("184px"));let n=(t-100)/2,a=new w.Mi(n,n+100),s=new w.Mi(n+100,n),l=(0,E.yM)(),c=l?.colorIcon||g.PN,u=l?.colorBg||g.Vm,p=l?.colorIconTertiary||g.c7,_=l.colorIconBrand,{tempBezierValues:d,setTempBezierValues:h,updateSelectionProperties:m}=e,S=r.useRef(null),[N,f]=r.useState(null);r.useLayoutEffect(()=>{if(null!==N)return document.addEventListener("mousemove",R,!0),document.addEventListener("mouseup",C,!0),()=>{document.removeEventListener("mousemove",R,!0),document.removeEventListener("mouseup",C,!0)}}),r.useLayoutEffect(()=>{S.current&&L(S.current)});let R=e=>{if(e.stopPropagation(),null===N||!S.current)return;let t=1===N.index?new w.Mi(0,0):new w.Mi(1,1),i=y(P(new w.Mi(e.clientX,e.clientY)),N.mouseDownT,t,n,100);1===N.index?h([i.x,i.y,d[2],d[3]]):2===N.index&&h([d[0],d[1],i.x,i.y])},C=o.rf(e.recordingKey,"mouseup",e=>{if(e.stopPropagation(),null===N||!S.current)return;let t=1===N.index?new w.Mi(0,0):new w.Mi(1,1),i=y(P(new w.Mi(e.clientX,e.clientY)),N.mouseDownT,t,n,100);1===N.index?m({easingFunction:[i.x,i.y,d[2],d[3]]}):2===N.index&&m({easingFunction:[d[0],d[1],i.x,i.y]}),f(null),T.$2.trigger("activateBezierAnimation")},{recordMetadata:e=>{let t=P(new w.Mi(e.clientX,e.clientY));return{left:t.x,top:t.y}},playbackMetadata:e=>{let t=D(new w.Mi(e.left,e.top));return{clientX:t.x,clientY:t.y}}}),O=o.rf(e.recordingKey,"mousedown",e=>{e.stopPropagation();let t=P(new w.Mi(e.clientX,e.clientY)),i=b(new w.Mi(d[0],d[1]),n,100),r=b(new w.Mi(d[2],d[3]),n,100);if(5>w.Mi.distance(t,i)){f({index:1,mouseDownT:1}),T.$2.trigger("resetBezierAnimation");return}if(5>w.Mi.distance(t,r)){f({index:2,mouseDownT:1}),T.$2.trigger("resetBezierAnimation");return}if(x(t,a,10)){m({easingFunction:[0,0,d[2],d[3]]});return}if(x(t,s,10)){m({easingFunction:[d[0],d[1],1,1]});return}let[o,l]=M(t,a,i);if(o<5){f({index:1,mouseDownT:l}),T.$2.trigger("resetBezierAnimation");return}let[c,u]=M(t,s,r);if(c<5){f({index:2,mouseDownT:u}),T.$2.trigger("resetBezierAnimation");return}if(function(e,t,n,i){let[r]=M(e,n,i);return r<5}(t,0,a,s)){m({easingFunction:[0,0,1,1]});return}},{recordMetadata:e=>{let t=P(new w.Mi(e.clientX,e.clientY));return{left:t.x,top:t.y}},playbackMetadata:e=>{let t=D(new w.Mi(e.left,e.top));return{clientX:t.x,clientY:t.y}}});function D(e){let t=S.current.getBoundingClientRect();return new w.Mi(t.left+e.x,t.top+e.y)}function P(e){let t=S.current.getBoundingClientRect();return new w.Mi(e.x-t.left,e.y-t.top)}let L=e=>{let i=e.getContext("2d");if(!i)return;let r=window.devicePixelRatio||1;e.width=r*t,e.height=r*t,e.style.width=t+"px",e.style.height=t+"px",i.scale(r,r);let o=new w.Mi(a.x,s.y),l=new w.Mi(s.x,a.y),h=b(new w.Mi(d[0],d[1]),n,100),m=b(new w.Mi(d[2],d[3]),n,100);i.lineWidth=1,i.clearRect(0,0,t,t),i.strokeStyle=p,i.beginPath(),i.moveTo(o.x,o.y),i.lineTo(a.x,a.y),i.lineTo(l.x,l.y),i.stroke(),i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(s.x,s.y),i.stroke(),i.setLineDash([13,6]),i.lineDashOffset=6,i.beginPath(),i.moveTo(o.x,o.y),i.lineTo(s.x,s.y),i.lineTo(l.x,l.y),i.stroke(),i.fillStyle=c,i.beginPath(),i.arc(a.x,a.y,2,0,2*Math.PI,!1),i.fill(),i.beginPath(),i.arc(s.x,s.y,2,0,2*Math.PI,!1),i.fill(),i.strokeStyle=c,i.setLineDash([]),i.beginPath(),i.moveTo(a.x,a.y),i.lineTo(h.x,h.y),i.stroke(),i.beginPath(),i.moveTo(s.x,s.y),i.lineTo(m.x,m.y),i.stroke(),i.beginPath(),i.moveTo(a.x,a.y),i.bezierCurveTo(h.x,h.y,m.x,m.y,s.x,s.y),i.stroke();let S=(e,t)=>{switch(null!==N&&e===N.index?"SELECTED":1===e?0===d[0]&&0===d[1]?"RESET":"NORMAL":1===d[2]&&1===d[3]?"RESET":"NORMAL"){case"RESET":i.strokeStyle=c,i.fillStyle=u;break;case"NORMAL":i.strokeStyle=u,i.fillStyle=c;break;case"SELECTED":i.strokeStyle=u,i.fillStyle=_}i.lineWidth=1,i.beginPath(),i.arc(t.x,t.y,4.5,0,2*Math.PI),i.fill(),i.stroke()};S(1,h),S(2,m)},F=(0,i.jsx)("div",{className:e.isNarrowPanel?"prototype_easing_editor--bezierCurveContainerNarrow--3m-Op prototype_easing_editor--bezierCurveContainer--Myl0y":"prototype_easing_editor--bezierCurveContainer--Myl0y",children:(0,i.jsx)("canvas",{ref:S,onMouseDown:O})});return(0,i.jsx)(I.TN,{appendedClassName:v.Rk,children:F})});function y(e,t,n,i,r){let a=new w.Mi((e.x-i)/r,(i+r-e.y)/r);t=Math.max(.01,t);let o=a.subtract(n).divide(new w.Mi(t,t)).add(n);return new w.Mi(Math.max(Math.min(o.x,1),0),o.y)}function b(e,t,n){return new w.Mi(t+n*e.x,t+n*(1-e.y))}function x(e,t,n){return w.Mi.distance(e,t)<n/2}function M(e,t,n){let i=w.Mi.dot(w.Mi.subtract(e,t),w.Mi.subtract(n,t))/w.Mi.distance(t,n)**2;i=Math.min(Math.max(i,0),1);let r=w.Mi.add(t,w.Mi.scale(i,w.Mi.subtract(n,t)));return[w.Mi.distance(e,r),i]}var R=n(88314),C=n(240803),O=n(511570),D=n.n(O);class P{constructor(e=1,t=0){this.m00=e,this.m10=t}translate(e){return this.m10+=e,this}scale(e){return this.m00*=e,this.m10*=e,this}static fromRangeMapping(e,t,n,i){return new P().translate(-e).scale((i-n)/(t-e)).translate(n)}static fromConstant(e){return new P().scale(0).translate(e)}static invert(e){return new P(1/e.m00,-e.m10/e.m00)}transformValue(e){return e*this.m00+this.m10}transformDirection(e){return e*this.m00}}class L{constructor(e,t){this.transform1=e,this.transform2=t}transformValue(e){return this.transform2.transformValue(this.transform1.transformValue(e))}}class F{constructor({hardLimit:e,threshold:t,initialValue:n,slowFunction:i,slowFunctionInverse:r}){this.slowFunction=i,this.slowFunctionInverse=r,this.mapToSlowSpace=P.fromRangeMapping(t,e,0,-1),this.mapToSlowSpaceInverse=P.invert(this.mapToSlowSpace),this.initialValueInSlowSpace=this.mapToSlowSpace.transformValue(n)}transformValue(e){let t=this.mapToSlowSpace.transformValue(e);t>this.initialValueInSlowSpace&&(this.initialValueInSlowSpace=t);let n=this.slowFunctionInverse(this.initialValueInSlowSpace)-this.initialValueInSlowSpace;return this.mapToSlowSpaceInverse.transformValue(this.slowFunction(t+n))}}function U(e){return e>=0?e:1/(1-e)-1}function j(e){return e>=0?e:1-1/(e+1)}class B extends F{constructor({hardLimit:e,threshold:t,initialValue:n}){super({hardLimit:e,threshold:t,initialValue:n,slowFunction:U,slowFunctionInverse:j})}}var V=n(407443),G=n(561970);let K="prototype_easing_spring_curve--springvisHandle--0mFVz",z="prototype_easing_spring_curve--springvisHandleActive--5RaLT";function k(e){return{x:(0,R.qE)(e.x,0,1),y:(0,R.qE)(e.y,0,2)}}function W(e,t){return(0,V._J)((0,V.my)(k(e),t),V.kM)}function H(e){return{handle:e,offset:null}}function $(e){let[t,n]=r.useState({width:e.isNarrowPanel?182:215,height:e.isNarrowPanel?114:128}),o=t.width,s=t.height,l=(0,r.useRef)(null);r.useEffect(()=>{let e=new ResizeObserver(e=>{for(let t of e){let{width:e,height:i}=t.contentRect;n({width:e,height:i})}});return l.current&&e.observe(l.current),()=>{e.disconnect()}},[]);let c=P.fromRangeMapping(0,1,8,o-8),u=P.fromRangeMapping(2,0,8,s-8),p=P.invert(c),_=P.invert(u),d=p.transformDirection(1),[h,m]=(0,r.useState)(null),S=(0,a.wA)(),I=(0,r.useCallback)(e=>{let t=l.current.getBoundingClientRect();return{x:p.transformValue(e.clientX-t.left),y:_.transformValue(e.clientY-t.top)}},[p,_]),A=e.value,w=(0,G.Y1)(A),E=w&&k((0,V.im)(A)),v=w&&(0,V.xX)(A),{onChange:g,onInput:N}=e;(0,r.useEffect)(()=>{if(!h)return;let e=e=>{e.stopPropagation();let t=I(e);if(E){if(h.offset)N(W({x:h.offset.x.transformValue(t.x),y:h.offset.y.transformValue(t.y)},A));else if("SPRING_HANDLE"===h.handle){let e={x:new P().translate(E.x-t.x),y:new P().translate(E.y-t.y)};m({...h,offset:{x:new L(e.x,new B({hardLimit:0,threshold:.15,initialValue:E.x})),y:new L(e.y,new B({hardLimit:2,threshold:1.8,initialValue:E.y}))}})}else if("SCALE_BACKGROUND"===h.handle){let e=t.x>E.x?{x:new P().scale(E.x/t.x),y:P.fromConstant(E.y)}:{x:new P().translate(E.x-t.x),y:P.fromConstant(E.y)};m({...h,offset:{x:new L(e.x,new B({hardLimit:0,threshold:.08,initialValue:E.x})),y:e.y}})}else if("DURATION_HANDLE"===h.handle&&v){let e={x:new P().translate(v-t.x).scale(E.x/v),y:P.fromConstant(E.y)};m({...h,offset:{x:new L(e.x,new B({hardLimit:0,threshold:.08,initialValue:E.x})),y:e.y}})}}else N(W(t,A)),m({...h,handle:"SPRING_HANDLE"})},t=e=>{e.stopPropagation(),m(null),(0,G.Y1)(A)&&g(A,h.handle)},n=e=>{e.stopPropagation()},i=e=>{e.stopPropagation()};return document.addEventListener("pointermove",e),document.addEventListener("pointerup",t),document.addEventListener("mousemove",i,!0),document.addEventListener("mouseup",n,!0),()=>{document.removeEventListener("pointermove",e),document.removeEventListener("pointerup",t),document.removeEventListener("mousemove",i,!0),document.removeEventListener("mouseup",n,!0)}},[h,A,E,v,S,I,g,N]);let f=(0,r.useCallback)(e=>{g(W(I(e),A),"DOUBLE_CLICK")},[g,A,I]),y={cursor:"ew-resize"};return(0,i.jsx)(C.o,{eventListeners:["onMouseDown"],display:"contents",children:(0,i.jsx)("div",{className:"prototype_easing_spring_curve--springvisContainer--6iDnn",ref:l,children:(0,i.jsxs)("svg",{width:o,height:s,viewBox:`0 0 ${o} ${s}`,onDoubleClick:f,children:[(0,i.jsx)("line",{className:"prototype_easing_spring_curve--springvisGuideline--aYSpJ",x1:c.transformValue(0),y1:u.transformValue(1),x2:c.transformValue(1),y2:u.transformValue(1)}),w&&E&&v&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{className:"prototype_easing_spring_curve--springvisSpringCurve--aOLEK",fill:"none",style:{transition:"none"},d:function(e,t,n,i){let r=`M ${t.transformValue(0)},${n.transformValue(0)}`;for(let a=0;a<=1;a+=i){let i=(0,G.Zp)(e,a);if(isNaN(i))return"";r+=`L ${t.transformValue(a)},${n.transformValue(i)}`}return r}(A,c,u,d)}),(0,i.jsx)("rect",{className:D()(K,h&&("DURATION_HANDLE"===h.handle||"SCALE_BACKGROUND"===h.handle)&&z),x:c.transformValue(v)-2.5,y:u.transformValue(1)-7.5,width:5,height:15,rx:2.5,ry:2.5}),(0,i.jsx)("circle",{className:D()(K,h&&"SPRING_HANDLE"===h.handle&&z),cx:c.transformValue(E.x),cy:u.transformValue(E.y),r:5})]}),(0,i.jsx)("rect",{x:0,y:0,width:o,height:s,fill:"transparent",style:y,onPointerDown:()=>{m(H("SCALE_BACKGROUND")),T.BG.trigger("resetSpringAnimation")}}),v&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("circle",{cx:c.transformValue(v),cy:u.transformValue(1),r:20,fill:"transparent",style:y,onPointerDown:()=>{m(H("DURATION_HANDLE")),T.BG.trigger("resetSpringAnimation")}})}),E&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("circle",{cx:c.transformValue(E.x),cy:u.transformValue(E.y),r:20,fill:"transparent",onPointerDown:()=>{m(H("SPRING_HANDLE")),T.BG.trigger("resetSpringAnimation")}})})]})})})}function X(e){if(!(0,G.Y1)(e)){let t=e[G.hD.STIFFNESS],n=e[G.hD.DAMPING];e[G.hD.MASS]>0||(e[G.hD.MASS]=1),t>0||(e[G.hD.STIFFNESS]=V.wH.MIN_STIFFNESS),n>0||(e[G.hD.DAMPING]=V.wH.MIN_DAMPING)}return e}let Y=r.memo(function(e){let t=(0,a.wA)(),n=(0,c.cJ)(),r=t=>{e.updateSelectionProperties({easingFunction:t}),T.$2.trigger("activateBezierAnimation")},A=(n,i,r)=>{let a=(0,G.J5)(n);e.updateSelectionProperties({easingFunction:n,transitionDuration:a}),T.BG.trigger("restartSpringAnimation"),r===p.zk.YES&&t((0,u._P)({name:"Prototype Spring Animations Set Custom Value",params:{editedValue:i,...(0,V.F4)(n)}}))},w=(t,n)=>{let r=(0,i.jsx)($,{value:t,onInput:n,onChange:(e,t)=>{A(e,t,p.zk.YES)},recordingKey:o.Pt(e,"springCurve"),isNarrowPanel:e.isNarrowPanel});return(0,i.jsx)(I.TN,{appendedClassName:v.Rk,children:r})},E=n=>{let r=(0,i.jsx)(d.$j,{bigNudgeAmount:10,className:N,"data-tooltip":(0,s.t)("proto.easing_editor.spring_stiffness"),"data-tooltip-type":_.Ib.TEXT,dispatch:t,id:"easing-editor-spring-stiffness-input",max:V.wH.MAX_STIFFNESS,min:V.wH.MIN_STIFFNESS,onValueChange:(e,t)=>{let i=X(n.slice());i[G.hD.STIFFNESS]=e,A(i,"STIFFNESS",t)},recordingKey:o.Pt(e,"springStiffnessInput"),smallNudgeAmount:1,tooltipForScreenReadersOnly:!0,value:n[G.hD.STIFFNESS]});return(0,i.jsx)(S.A,{label:(0,s.t)("proto.easing_editor.spring_stiffness"),input:r})},g=n=>{let r=(0,i.jsx)(d.$j,{bigNudgeAmount:10,className:N,"data-tooltip":(0,s.t)("proto.easing_editor.spring_damping"),"data-tooltip-type":_.Ib.TEXT,dispatch:t,id:"easing-editor-spring-damping-input",max:V.wH.MAX_DAMPING,min:V.wH.MIN_DAMPING,onValueChange:(e,t)=>{let i=X(n.slice());i[G.hD.DAMPING]=e,A(i,"DAMPING",t)},recordingKey:o.Pt(e,"springDampingInput"),smallNudgeAmount:1,tooltipForScreenReadersOnly:!0,value:n[G.hD.DAMPING]});return(0,i.jsx)(S.A,{label:(0,s.t)("proto.easing_editor.spring_damping"),input:r})},y=n=>{let r=(0,i.jsx)(d.$j,{bigNudgeAmount:10,className:N,"data-tooltip":(0,s.t)("proto.easing_editor.spring_mass"),"data-tooltip-type":_.Ib.TEXT,dispatch:t,id:"easing-editor-spring-mass-input",max:V.wH.MAX_MASS,min:V.wH.MIN_MASS,onValueChange:(e,t)=>{let i=X(n.slice());i[G.hD.MASS]=e,A(i,"MASS",t)},recordingKey:o.Pt(e,"springMassInput"),smallNudgeAmount:1,tooltipForScreenReadersOnly:!0,value:n[G.hD.MASS]});return(0,i.jsx)(S.A,{label:(0,s.t)("proto.easing_editor.spring_mass"),input:r})},b=t=>{let n=(0,i.jsx)(h.nA,{className:"prototype_easing_editor--input--2fhlq",formatter:l.n,property:t,onChange:r,recordingKey:o.Pt(e,"cubicBezierFunctionInput")});return(0,i.jsx)(S.A,{label:(0,s.t)("proto.easing_behavior.bezier"),input:n})},x=(t,n)=>(0,i.jsx)(f,{tempBezierValues:t,setTempBezierValues:n,updateSelectionProperties:e.updateSelectionProperties,recordingKey:o.Pt(e,"cubicBezierCurve"),isNarrowPanel:e.isNarrowPanel});return(0,i.jsx)(m.y.Consumer,{children:([t,r])=>(0,i.jsx)("div",{children:"CUSTOM_BEZIER"===e.easingType?n?(0,i.jsxs)(i.Fragment,{children:[b(t),x(t,r)]}):(0,i.jsxs)(i.Fragment,{children:[x(t,r),b(t)]}):"CUSTOM_SPRING"===e.easingType?n?(0,i.jsxs)(i.Fragment,{children:[E(t),g(t),y(t),w(t,r)]}):(0,i.jsxs)(i.Fragment,{children:[w(t,r),E(t),g(t),y(t)]}):null})})})},407443:(e,t,n)=>{n.d(t,{F4:()=>T,PQ:()=>S,_J:()=>_,im:()=>c,kM:()=>p,my:()=>u,wH:()=>a,xX:()=>h});var i=n(88314),r=n(561970);class a{}a.MAX_W0=1e3,a.MIN_W0=.1,a.MAX_ZETA=1,a.MIN_ZETA=1e-4,a.MIN_MASS=.01,a.MIN_STIFFNESS=.01,a.MIN_DAMPING=.01,a.MAX_MASS=100,a.MAX_STIFFNESS=1e4,a.MAX_DAMPING=1e3;let o=Math.PI/a.MAX_W0;function s(e){let t=e[r.hD.STIFFNESS],n=e[r.hD.DAMPING],i=e[r.hD.MASS];return{frequency:Math.sqrt(t/i),zeta:n/(2*Math.sqrt(t*i))}}function l({frequency:e,zeta:t},n){let o=n[r.hD.MASS]>0?(0,i.qE)(n[r.hD.MASS],a.MIN_MASS,a.MAX_MASS):1,s=e*e*o,l=2*t*Math.sqrt(s*o),c=n.slice();return c[r.hD.MASS]=o,c[r.hD.STIFFNESS]=s,c[r.hD.DAMPING]=l,c}function c(e){return function({frequency:e,zeta:t}){return{x:Math.max(Math.PI/e,0),y:2-2*Math.pow((0,i.qE)(t,0,1),.87)}}(s(e))}function u(e,t){return l({frequency:(0,i.qE)(Math.PI/Math.max(o,e.x),a.MIN_W0,a.MAX_W0),zeta:(0,i.qE)(Math.pow((2-e.y)/2,1.1494252873563218),a.MIN_ZETA,a.MAX_ZETA)},t)}let p=3;function _(e,t){return e[r.hD.STIFFNESS]=d(e[r.hD.STIFFNESS],t),e[r.hD.DAMPING]=d(e[r.hD.DAMPING],t),e}function d(e,t){return+e.toPrecision(t)}function h(e){let{frequency:t,zeta:n}=s(e);return m/(t*n)}let m=6;function S(e,t){let n=s(t).zeta;return _(l({frequency:m/e/n,zeta:n},t),4)}function T(e){let t=c(e),n=h(e);return{mass:e[r.hD.MASS],stiffness:e[r.hD.STIFFNESS],damping:e[r.hD.DAMPING],handleX:t.x,handleY:t.y,duration:n}}},561970:(e,t,n)=>{function i(e,t){return function(e,t,n,i,r){let a,o,s;let l=Math.sqrt(t/e),c=n/(2*Math.sqrt(t*e));return c<1?(a=l*Math.sqrt(1-c*c),o=1,s=(c*l+-i)/a):(a=0,o=1,s=-i+l),1-(r=c<1?Math.exp(-r*c*l)*(o*Math.cos(a*r)+s*Math.sin(a*r)):(o+s*r)*Math.exp(-r*l))}(e[0],e[1],e[2],e[3],t)}function r(e){return function(e,t){let n=e[1],i=e[2],r=e[0],a=e[3],o=Math.sqrt(n/r),s=Math.min(.9999,i/(2*Math.sqrt(n*r))),l=o*Math.sqrt(1-s*s);return(-Math.log(.001)+Math.log(1+(s*o+Math.abs(a))/l))/(s*o)}(e,0)}n.d(t,{J5:()=>r,Y1:()=>o,Zp:()=>i,hD:()=>a,w_:()=>s});var a=(e=>(e[e.MASS=0]="MASS",e[e.STIFFNESS=1]="STIFFNESS",e[e.DAMPING=2]="DAMPING",e[e.INITIAL_VELOCITY=3]="INITIAL_VELOCITY",e))(a||{});function o(e){let t=e[1],n=e[2],i=e[0];return t>0&&n>0&&i>0}function s(e){return o(e)?e:[1,100,10,0]}},577841:(e,t,n)=>{n.d(t,{x:()=>i});let i=(0,n(795033).eU)(!1)},467216:(e,t,n)=>{n.d(t,{H_:()=>w,SA:()=>N,ub:()=>b,$2:()=>v,BG:()=>g});var i=n(104076),r=n(716976),a=n(690062),o=n(621579),s=n(983500),l=n(592532),c=n(553065),u=n(850977);function p(){return performance.now()}var _=n(561970);let d="transition_preview--previewPanel--Gp-aI",h="transition_preview--belowInactive--DBGgj transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",m="transition_preview--belowActive--69cT1 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",S="transition_preview--blueHeaderShort--FqI0m transition_preview--_blueHeader--Xlxtt transition_preview--_previewItem--o2gce",T="transition_preview--blueHeaderTall--atMMg transition_preview--_blueHeader--Xlxtt transition_preview--_previewItem--o2gce",I="transition_preview--smartAnimateRowItem--aMXQ8";var A=(e=>(e[e.BLANK=0]="BLANK",e[e.ACTIVE=1]="ACTIVE",e[e.INACTIVE=2]="INACTIVE",e[e.ACTIVE_RESETTABLE=3]="ACTIVE_RESETTABLE",e))(A||{}),w=(e=>(e[e.STATIC=0]="STATIC",e[e.ANIMATING=1]="ANIMATING",e[e.RETURN_TO_START=2]="RETURN_TO_START",e))(w||{});let E=(0,s.jz)("40px"),v=new o.b("activateBezierCustomAnimationPreview"),g=new o.b("activateSpringCustomAnimationPreview");function N({transition:e,isNarrowPanel:t}){let[n,a,o,s,l]=function(e,t={delayBeforeAnimation:0,delayAfterAnimation:0}){let{delayBeforeAnimation:n=0,delayAfterAnimation:i=0}=t,a=(0,_.w_)(e),[o,s,l,c]=function(e){let[t,n]=(0,r.useState)(!1),[i,a]=(0,r.useState)(0),[o,s]=(0,r.useState)(0);return(0,u.N)((0,r.useCallback)(()=>{let t=(p()-i)/1e3;t>e?(s(e),n(!1)):s(t)},[i,s,n,e]),t),[o,t,(0,r.useCallback)(()=>{n(!0),a(p()),s(0)},[a,n,s]),(0,r.useCallback)(()=>{n(!1),s(0)},[n,s])]}(n+(0,_.J5)(a)+i);return[o<n?0:(0,_.Zp)(a,o-n),o,s,l,c]}((0,c._W)(e.easingFunction,[1,100,10,0]),{delayBeforeAnimation:.1,delayAfterAnimation:1});r.useEffect(()=>{g.on("restartSpringAnimation",()=>{s()});let e=()=>{l()};return g.on("resetSpringAnimation",e),()=>{g.removeListener("resetSpringAnimation",e)}},[s,l]);let[h,m]=r.useState(t?80:124),S=r.useRef(null);r.useEffect(()=>{let e=new ResizeObserver(e=>{for(let t of e){let{width:e}=t.contentRect;m(e-2*E-54)}});return S.current&&e.observe(S.current),()=>{e.disconnect()}},[]);let T={transform:`translateX(${n*h}px)`,transition:"none"};0!==a&&o||(T={transform:"none",transition:"transform 0.2s ease-out"});let I=(0,r.useCallback)(()=>{o||s()},[o,s]),A=(0,i.jsx)("div",{className:"transition_preview--springBoxItem--Uej9X",style:T});return(0,i.jsx)("div",{className:d,onMouseEnter:I,onMouseLeave:l,children:(0,i.jsx)("div",{ref:S,className:"transition_preview--ui3ContainerSpring--5ReEi",children:A})})}var f=(e=>(e[e.RESET_INSTANT=0]="RESET_INSTANT",e[e.RESET_WITH_EASE=1]="RESET_WITH_EASE",e[e.PLAY_TO_END=2]="PLAY_TO_END",e))(f||{});let y=class e extends r.PureComponent{constructor(t){super(t),this.executor=new a.W,this.cursorIsOverUs=!1,this.transitionToNextFrame=()=>{if(1===this.state.frameIndex&&!this.cursorIsOverUs){this.executor.scheduleOnce(()=>{this.setState({status:2})},2);return}let e=(this.state.frameIndex+1)%2;this.setState({status:1,frameIndex:e});let t=1e3*(0===this.state.frameIndex?(0,c._W)(this.props.transition.duration,1):2);this.executor.scheduleOnce(this.transitionToNextFrame,t)},this.startAnimation=()=>{this.setState({status:1,frameIndex:0}),this.executor.reset(),this.executor.scheduleOnce(()=>{this.setState({status:1,frameIndex:1}),this.transitionToNextFrame()},0)},this.onMouseEnter=()=>{this.cursorIsOverUs=!0,this.startAnimation()},this.onMouseLeave=()=>{this.cursorIsOverUs=!1,this.executor.reset(),this.setState({status:2})},this.startAnimationNew=()=>{this.setAnimationStateNew(0),this.executor.scheduleOnce(()=>{this.setAnimationStateNew(2),this.executor.scheduleOnce(()=>{this.setAnimationStateNew(1)},1e3*(0,c._W)(this.props.transition.duration,0)+e.BEZIER_RETURN_TO_START_WAIT_TIME)},e.BEZIER_BEFORE_ANIMATION_WAIT_TIME)},this.resetAnimationNew=()=>{this.setAnimationStateNew(1)},this.setAnimationStateNew=e=>{this.executor.reset(),this.setState({status:0===e?1:3,frameIndex:2===e?1:0})},this.isAnimationRunningNew=()=>!((3===this.state.status||1===this.state.status||2===this.state.status)&&0===this.state.frameIndex),this.onMouseEnterNew=()=>{this.isAnimationRunningNew()||this.startAnimationNew()},this.onMouseLeaveNew=()=>{this.resetAnimationNew()},this.isAnyTransitionInfoMixed(t.transition)?this.state={status:0,frameIndex:0}:this.state={status:3,frameIndex:0},v.on("activateBezierAnimation",this.startAnimationNew),v.on("resetBezierAnimation",this.resetAnimationNew)}buildKeyFramesForNonSmartTransition(e){let t={top:0,left:0,opacity:1};switch(e.behavior){case"SMART_ANIMATE":throw Error(`Invalid transition behavior ${e.behavior}`);case"INSTANT":case"DISSOLVE":return[{below:t,above:{...t,opacity:0}},{below:{...t,opacity:0},above:t}];case"SCROLL_ANIMATE":return[{below:t,above:{...t,left:1}},{below:{...t,left:-.25,opacity:.25},above:t}];case"SLIDE":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:{...t,left:.25,opacity:.25},above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:{...t,left:-.25,opacity:.25},above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:{...t,top:.25,opacity:.25},above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:{...t,top:-.25,opacity:.25},above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"SLIDE_OUT":switch(e.direction){case"LEFT":return[{below:{...t,left:-.25,opacity:.25},above:t},{below:t,above:{...t,left:1}}];case"RIGHT":return[{below:{...t,left:.25,opacity:.25},above:t},{below:t,above:{...t,left:-1}}];case"TOP":return[{below:{...t,top:-.25,opacity:.25},above:t},{below:t,above:{...t,top:1}}];case"BOTTOM":return[{below:{...t,top:.25,opacity:.25},above:t},{below:t,above:{...t,top:-1}}];default:throw Error(`Invalid direction: ${e.direction}`)}case"PUSH":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:{...t,left:1},above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:{...t,left:-1},above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:{...t,top:1},above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:{...t,top:-1},above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"MOVE":switch(e.direction){case"LEFT":return[{below:t,above:{...t,left:-1}},{below:t,above:t}];case"RIGHT":return[{below:t,above:{...t,left:1}},{below:t,above:t}];case"TOP":return[{below:t,above:{...t,top:-1}},{below:t,above:t}];case"BOTTOM":return[{below:t,above:{...t,top:1}},{below:t,above:t}];default:throw Error(`Invalid direction: ${e.direction}`)}case"MOVE_OUT":switch(e.direction){case"LEFT":return[{below:t,above:t},{below:t,above:{...t,left:1}}];case"RIGHT":return[{below:t,above:t},{below:t,above:{...t,left:-1}}];case"TOP":return[{below:t,above:t},{below:t,above:{...t,top:1}}];case"BOTTOM":return[{below:t,above:t},{below:t,above:{...t,top:-1}}];default:throw Error(`Invalid direction: ${e.direction}`)}default:throw Error(`Invalid behavior: ${e.behavior}`)}}cssEasingFunction(e){if("INSTANT"!==e.behavior)switch(e.easing){case"EASE_IN":return"ease-in";case"EASE_OUT":return"ease-out";case"EASE_IN_AND_OUT":return"ease-in-out";case"LINEAR":return"linear";case"EASE_IN_BACK":return"cubic-bezier(0.3, -0.05, 0.7, -0.5)";case"EASE_OUT_BACK":return"cubic-bezier(0.45, 1.45, 0.8, 1)";case"EASE_IN_AND_OUT_BACK":return"cubic-bezier(0.7, -0.4, 0.4, 1.4)";case"CUSTOM_BEZIER":let t=(0,c.E7)(e.easingFunction);if(t&&4===t.length)return"cubic-bezier("+l.n.format(t)+")"}return""}cssDuration(e){return"INSTANT"===e.behavior?0:(0,c._W)(e.duration,.3)}rectangleStateToCSSStyle(t,n,i,r,a){let o=this.cssEasingFunction(t),s=this.cssDuration(t);return{transition:2===i?e.BEZIER_RETURN_TO_START_EASING:0===i?"unset":`all ${s}s ${o}`,top:18+60*n.top,left:(r?a?79:65:a?79:81)+54*n.left,opacity:n.opacity}}isAnyTransitionInfoMixed(e){let t=!(0,c.hS)(e.behavior),n=!(0,c.hS)(e.easing),i=!(0,c.hS)(e.duration),r=!(0,c.hS)(e.direction);return t||n||i||r}UNSAFE_componentWillReceiveProps(e){this.isAnyTransitionInfoMixed(e.transition)?(this.executor.reset(),this.setState({status:0})):this.props.transition&&this.props.transition.behavior===e.transition.behavior&&this.props.transition.easing===e.transition.easing&&this.props.transition.duration===e.transition.duration&&this.props.transition.direction===e.transition.direction||this.startAnimationNew()}componentWillUnmount(){v.removeListener("activateBezierAnimation",this.startAnimationNew),v.removeListener("resetBezierAnimation",this.resetAnimationNew),this.executor.reset()}renderSimpleScreenToScreenAnimationPreview(t,n,r,a,o,s,l,c){let u=S,p=T,_=this.props.transition.behavior;("MOVE_OUT"===_||"SLIDE_OUT"===_)&&(u=T,p=S);let h=(0,i.jsx)("div",{className:u}),m=(0,i.jsx)("div",{className:p}),I=null;if(this.props.transition.shouldSmartAnimate){h=null,m=null;let t=this.cssEasingFunction(o),n=this.cssDuration(o),r={transition:2===s?e.BEZIER_RETURN_TO_START_EASING:0===s?"unset":`all ${n}s ${t}`};I=(0,i.jsx)("div",{className:this.state.frameIndex?T:S,style:r})}("DISSOLVE"===_||"INSTANT"===_)&&(m=h=I=null);let A=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:t,style:n,children:h}),(0,i.jsx)("div",{className:r,style:a,children:m}),(0,i.jsx)("div",{className:c?"transition_preview--screenContainerNarrow--ugQN- transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",children:I}),(0,i.jsx)("div",{className:c?"transition_preview--screenBorderNarrow--EB6kk transition_preview--screenContainerNarrow--ugQN- transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--screenBorder--Fz-dz transition_preview--screenContainer--iuLzq transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce"})]});return(0,i.jsx)("div",{className:d,onMouseEnter:this.onMouseEnterNew,onMouseLeave:this.onMouseLeaveNew,children:l?(0,i.jsx)("div",{className:"transition_preview--ui3Container--2qKB0",children:A}):A})}renderSmartAnimateTransition(t){let n=1===this.state.frameIndex?1:3===this.state.status?2:0,r=this.cssDuration(this.props.transition),a=this.cssEasingFunction(this.props.transition),o=2===n?e.BEZIER_RETURN_TO_START_EASING:0===n?"unset":`all ${r}s ${a}`;if(0===this.state.frameIndex||1===this.state.frameIndex){let e=0===this.state.frameIndex?12:20,n=0===this.state.frameIndex?"rgba(0, 0, 0, 0.06)":"var(--color-bg-brand)",r=(0,i.jsxs)("div",{className:t?"transition_preview--smartAnimateContainerNarrow--0x3xY transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":"transition_preview--smartAnimateContainer--SuYj0 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce",children:[(0,i.jsx)("div",{className:I,style:{transition:o,height:e,background:n}}),(0,i.jsx)("div",{className:I}),(0,i.jsx)("div",{className:I})]});return(0,i.jsx)("div",{className:d,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:r})}throw Error("Invalid state.frameIndex")}render(){let e=0===this.state.status||2===this.state.status?h:m,t="PUSH"===this.props.transition.behavior,n=0===this.state.status||2===this.state.status?t?h:"transition_preview--aboveInactive--b8PZf transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce":t?m:"transition_preview--aboveActive--Wbtj2 transition_preview--previewFrame--WAa8e transition_preview--_previewItem--o2gce";if(0===this.state.status||(0,c.gl)(this.props.transition.behavior))return null;if("SMART_ANIMATE"===this.props.transition.behavior)return this.renderSmartAnimateTransition(this.props.isNarrowPanel);{let t=this.buildKeyFramesForNonSmartTransition(this.props.transition)[this.state.frameIndex],i=1===this.state.frameIndex?1:3===this.state.status?2:0;return this.renderSimpleScreenToScreenAnimationPreview(e,this.rectangleStateToCSSStyle(this.props.transition,t.below,i,this.props.isNarrowPanel,this.props.isUI3),n,this.rectangleStateToCSSStyle(this.props.transition,t.above,i,this.props.isNarrowPanel,this.props.isUI3),this.props.transition,i,this.props.isUI3,this.props.isNarrowPanel)}}};y.displayName="TransitionPreview",y.BEZIER_BEFORE_ANIMATION_WAIT_TIME=100,y.BEZIER_RETURN_TO_START_WAIT_TIME=1500,y.BEZIER_RETURN_TO_START_EASING="all ease-out 200ms";let b=y}}]);

//# debugId=e2b608ea-db08-5890-a7bf-3874b1aa2b4a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f695da755526e966524d3a207f8e1d2f4d77a41b/5923-232612818984ffd2.min.js.map