"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="42cd529b-fcfe-5f8b-930f-e2126a23efde")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[3659],{573552:(e,t,r)=>{r.d(t,{$E:()=>h,$I:()=>c,Fu:()=>l,H0:()=>D,HW:()=>g,ON:()=>s,R2:()=>T,SN:()=>R,Tk:()=>A,VL:()=>u,WH:()=>p,Wf:()=>n,Y2:()=>_,Z$:()=>P,cx:()=>i,e0:()=>N,et:()=>C,fL:()=>L,fn:()=>x,g1:()=>o,hD:()=>j,jG:()=>E,kL:()=>a,lO:()=>v,m4:()=>w,nN:()=>b,n_:()=>O,o1:()=>d,oF:()=>y,rs:()=>k,uU:()=>S,vl:()=>f,vq:()=>I,xB:()=>m});let a="shapes_sidebar--container--xAuta",i="shapes_sidebar--shadowContainer--WvEo9",s="shapes_sidebar--searchBar--MubYN",n="shapes_sidebar--sidebarTileGrayScale--xWZIx",o="shapes_sidebar--swtTileSvgContainer--poVFu",l="shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",d="shapes_sidebar--shapesSidebarTileSmall--fkS0G shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",c="shapes_sidebar--lockedShapesSidebarTile--Qlofk shapes_sidebar--shapesSidebarTileBase--OjIj-",p="shapes_sidebar--shapesSidebarLibraryCard--o7xRQ",u="shapes_sidebar--shapesSidebarLibraryCardIcon--4Ezxx",b="shapes_sidebar--shapesSidebarLibraryCardChevron--NzXfj",g="shapes_sidebar--shapesSidebarLibraryCardContent--vekjC",m="shapes_sidebar--shapesSidebarLibraryCardDetail--C1fkj",h="shapes_sidebar--sidebarSwtSvg--LuGXO",_="shapes_sidebar--sidebarSwtSvgSmall--x3KA0",f="shapes_sidebar--connectorSvgSmall--G0OLS",y="shapes_sidebar--mindmapSvgSmall--yXIGT",x="shapes_sidebar--selectedShapesSidebarTileLarge--2oNQb shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",T="shapes_sidebar--selectedShapesSidebarTileSmall--dbzsB shapes_sidebar--selectedShapesSidebarTile--O3B8N shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",S="shapes_sidebar--sectionButton--Dip98",j="shapes_sidebar--connectorSpawnAnimation--RWzF1",w="shapes_sidebar--inlineUpsellContainer--oQyNT",v="shapes_sidebar--sidebarThumbnailSvg--15Iw-",I="shapes_sidebar--shapesSidebarLibraryItemTile--rL5X6 shapes_sidebar--shapesLibraryItemTile--AKDo-",C="shapes_sidebar--shapesInstanceSwapperTile--smcPa shapes_sidebar--shapesLibraryItemTile--AKDo-",k="shapes_sidebar--mainContainer--UBayg",E="shapes_sidebar--scrollContainer--3o1hT",O="shapes_sidebar--virtualLibraryCardSectionHeaderRow--MPOsC shapes_sidebar--virtualTileRowBase--3qhlc",D="shapes_sidebar--fourWideVirtualTileRow--e51ZL shapes_sidebar--virtualTileRowBase--3qhlc",A="shapes_sidebar--fiveWideVirtualTileRow--Qnei- shapes_sidebar--virtualTileRowBase--3qhlc",L="shapes_sidebar--virtualUpsellBannerRow--sHlj6 shapes_sidebar--virtualTileRowBase--3qhlc",N="shapes_sidebar--virtualUpsellBannerDividerRow--hbdgY shapes_sidebar--virtualUpsellBannerRow--sHlj6 shapes_sidebar--virtualTileRowBase--3qhlc",R="shapes_sidebar--topSplitPanel--h8FCi",P="shapes_sidebar--splitPanelsContainer--EgyRq"},715858:(e,t,r)=>{r.d(t,{AP:()=>P,DG:()=>B,DK:()=>F,Hm:()=>U,O7:()=>R,QI:()=>M});var a=r(104076),i=r(716976),s=r(237420);if(443==r.j)var n=r(475477);if(443==r.j)var o=r(962856);var l=r(795033);r(120440);var d=r(653899),c=r(837975),p=r(755444),u=r(816565),b=r(192075);if(443==r.j)var g=r(585481);if(443==r.j)var m=r(621689);if(443==r.j)var h=r(805800);var _=r(147046),f=r(443192),y=r(244205),x=r(373547),T=r(90844),S=r(422872),j=r(863154),w=r(381059),v=r(143277),I=r(381888),C=r(116450),k=r(61102),E=r(226492),O=r(909342),D=r(654200),A=r(441030),L=r(382827),N=r(253021);function R(){let e=(0,N.XF)(),{show:t,isShowing:r,complete:d}=(0,S.e)({overlay:A.SAR,priority:v.N.DEFAULT_MODAL}),c=(0,l.Xr)(m.Tw),g=(0,s.wA)(),h=(0,L.EI)(),T=(0,l.md)(j.LZ),w=()=>{g?.(_.sf({view:"recentsAndSharing"}))};(0,i.useEffect)(()=>{e||(t(),c(!1))},[e,c,t]);let I="dark"===(0,x.DP)();return T||!h?null:(0,a.jsx)(C._l,{description:(0,a.jsx)("span",{style:{whiteSpace:"pre-line"},children:(0,a.jsx)("span",{children:(0,b.tx)("cooper.onboarding.from_concept_to_creation_design",{learnMoreLink:(0,a.jsx)(n.N,{newTab:!0,href:"https://help.figma.com/hc/articles/31271566667543",children:(0,b.tx)("cooper.onboarding.learn_more")})})})}),disclaimerFooter:(0,a.jsx)("span",{children:(0,b.tx)("cooper.onboarding.this_beta_is_a_free",{betaTermsLink:(0,a.jsx)(n.N,{newTab:!0,href:"https://www.figma.com/product-specific-terms/",children:(0,b.tx)("cooper.onboarding.figma_beta_terms")})})}),isShowing:r,media:(0,a.jsx)(u.oW,{src:(0,p.ck)(I?"e612d68148023be0522bcd3b3251aaa6bb7c716d":"31fcc873278da276aab06196bdcb7e377d28ab6e"),alt:(0,b.t)("cooper.onboarding.welcome.image_alt"),width:332}),onClose:w,preventUserClose:!0,primaryCta:{type:"button",label:(0,b.tx)("cooper.onboarding.welcome.primary_cta"),onClick:()=>{g?.(f.b({[N.WW]:!0})),d(),c(!0)},ctaTrackingDescriptor:y.c.TRY_IT_OUT},secondaryCta:{type:"button",label:(0,b.tx)("cooper.onboarding.welcome.secondary_cta"),onClick:w,ctaTrackingDescriptor:y.c.CLOSE},title:(0,a.jsxs)("div",{className:"x78zum5 x6s0dn4 x1pulhmw",children:[(0,b.tx)("cooper.onboarding.meet_figma_buzz"),(0,a.jsx)("div",{className:"x78zum5 x2lah0s",children:(0,a.jsx)(o.E,{variant:"brandOutline",size:"lg",children:(0,b.tx)("general.beta")})})]}),trackingContextName:"Slides Onboarding > Welcome"})}function P({hasMappings:e}){let{show:t,isShowing:r,complete:s}=(0,S.e)({overlay:A.jk,priority:v.N.DEFAULT_MODAL}),n=(0,h.N)(),o=n.length?n[0]:null;return(0,d.h)(()=>{t()}),(0,i.useEffect)(()=>{e&&s()},[e,s]),r&&!o&&s(),(0,a.jsx)(k.rq,{arrowPosition:D.F_.RIGHT_BODY,description:(0,b.tx)("cooper.onboarding.simply_select_text_or_an",{connectDataBold:(0,a.jsx)("p",{className:"x1xlr1w8",children:(0,b.t)("cooper.onboarding.connect_data_bold")}),spaceChar:(0,a.jsx)(a.Fragment,{children:"\xa0"})}),isCanvasNode:!0,isShowing:r,media:(0,a.jsx)(I.y,{src:(0,p.ck)("3d9047607fffbfc98f0176cecba9d57fad7cac48"),alt:(0,b.t)("cooper.onboarding.bulk_create.image_alt"),aspectRatio:240/135}),onClose:s,onTargetLost:s,primaryCta:{label:(0,b.tx)("general.got_it"),onClick:s,type:"button",ctaTrackingDescriptor:y.c.GOT_IT},shouldDisableAnimation:!0,targetKey:o??"",title:(0,b.tx)("cooper.onboarding.select_a_text_or_image"),trackingContextName:"Slides Onboarding > Bulk Create Callout"})}function M(){let{show:e,isShowing:t,complete:r,uniqueId:i}=(0,S.e)({overlay:A.ODB,priority:v.N.DEFAULT_MODAL}),s=(0,h.N)(),n=s.length?s[0]:null;return t&&!n&&r(),(0,T.E)(i,N.qA,()=>{e()}),(0,a.jsx)(k.rq,{arrowPosition:D.F_.RIGHT_BODY,description:(0,b.tx)("cooper.onboarding.internal_templates_let_you_update",{lineBreak:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("br",{}),(0,a.jsx)("br",{})]})}),isCanvasNode:!0,isShowing:t,onClose:r,onTargetLost:r,pointToLeftEdge:!0,pointToTopEdge:!0,primaryCta:{label:(0,b.tx)("general.got_it"),onClick:r,type:"button",ctaTrackingDescriptor:y.c.GOT_IT},shouldDisableAnimation:!0,targetKey:n??"",title:(0,b.tx)("cooper.onboarding.edit_content_unlock_if_needed"),trackingContextName:"Slides Onboarding > Inserted Locked Template"})}function B(){let{show:e,isShowing:t,complete:r,uniqueId:i}=(0,S.e)({overlay:A.QKV,priority:v.N.DEFAULT_MODAL});return(0,T.E)(i,N.Mt,()=>{e()}),(0,a.jsx)(k.rq,{arrowPadding:8,description:(0,b.tx)("cooper.onboarding.templates_help_your_team_stay"),isShowing:t,media:(0,a.jsx)(I.y,{src:(0,p.ck)("7c5445059896c65ae2098087f34d2f35cc5a8b20"),alt:(0,b.t)("cooper.onboarding.overlay_image_alt"),aspectRatio:240/135}),onClose:r,onTargetLost:r,primaryCta:{label:(0,b.tx)("general.got_it"),onClick:r,type:"button",ctaTrackingDescriptor:y.c.GOT_IT},targetKey:N.D9,title:(0,b.tx)("cooper.onboarding.publish_templates_to_your_team"),trackingContextName:"Slides Onboarding > Publishing Overview"})}function U(){let e=(0,L.EI)(),{show:t,isShowing:r,complete:i}=(0,S.e)({overlay:A.njP,priority:v.N.OVERRIDING_MODAL}),n=(0,s.d4)(e=>{let t=e.selectedView;return"sendToBuzzFileKey"in t&&!!t.sendToBuzzFileKey});return(0,c.R)(()=>t(),[n,e],()=>n&&e),(0,a.jsx)(E.X,{description:(0,b.tx)("cooper.templates.import_from_design.overlay.subtitle"),isShowing:r,media:(0,a.jsx)(u.oW,{className:"xafpxmx x1fb2l0r x2lah0s xgwsg93",src:(0,p.ck)("f154d729096e62f801de754ea07c93c45ffc2565")}),onClose:i,position:O.Q.BOTTOM_RIGHT,primaryCta:{label:(0,b.tx)("general.got_it"),onClick:i,type:"button",ctaTrackingDescriptor:y.c.GOT_IT,trackingProperties:{trackingDescriptor:y.c.GOT_IT}},testId:"buzz-import-from-design-education",title:(0,b.tx)("cooper.templates.import_from_design.overlay.title"),trackingContextName:"Buzz Import From Design Education",width:240})}function F(){let e=(0,l.md)(w.mp),t=(0,L.EI)(),r=(0,l.md)(m.Tw),s=(0,l.md)(j.LZ),{show:n,isShowing:o,complete:d,uniqueId:c}=(0,S.e)({overlay:A.SLM,priority:v.N.SECONDARY_MODAL},[e]),p=(0,l.Xr)(g.Lk);return(0,i.useEffect)(()=>{!t||r||s||n({canShow:e=>(0,N.a$)(e,N.S)})},[t,r,s,n]),(0,T.E)(c,N.fZ,()=>{o&&d()}),(0,a.jsx)(k.rq,{arrowPosition:D.F_.RIGHT_BODY,description:(0,b.tx)("cooper.onboarding.plugins.body"),isShowing:o,onClose:d,onTargetLost:d,primaryCta:{label:(0,b.tx)("cooper.onboarding.plugins.primary_cta"),onClick:()=>{p(g.x.PLUGINS),d()},type:"button",ctaTrackingDescriptor:y.c.OPEN_PLUGIN_PANEL},secondaryCta:{label:(0,b.tx)("cooper.onboarding.plugins.secondary_cta"),onClick:d,type:"button",ctaTrackingDescriptor:y.c.CLOSE},targetKey:N.Dl,title:(0,b.tx)("cooper.onboarding.plugins.title"),trackingContextName:"Buzz Plugin Education"})}},285226:(e,t,r)=>{r.d(t,{V7:()=>o,kg:()=>n});var a=r(951002);let i=["Table","CodeBlock","MindMap","Text","Section"],s=["Timer","Image","Link"];function n(e){return"string"==typeof e&&i.includes(e)}function o(e){return n(e)||"string"==typeof e&&s.includes(e)?e:"object"==typeof e&&e.id&&e.name&&e.img?"FaceStamp":void(0,a.xb)(e)}},819222:(e,t,r)=>{r.r(t),r.d(t,{ShareButton:()=>et});var a=r(104076),i=r(716976),s=r(237420),n=r(689161),o=r(374546),l=r(511570),d=r.n(l),c=r(983500),p=r(755444),u=r(449572),b=r(513369),g=r(681398),m=r(967782),h=r(352630),_=r(192075),f=r(253021),y=r(715858),x=r(549571),T=r(742549),S=r(50536),j=r(366535),w=r(111297),v=r(637286),I=r(819851),C=r(958251),k=r(225417),E=r(74620),O=r(521255),D=r(211862),A=r(944350),L=r(59849),N=r(853039),R=r(904017),P=r(382137),M=r(176203),B=r(349311),U=r(946996),F=r(386216),z=r(497461),K=r(323440),G=r(428758),q=r(778612),$=r(93605),Y=r(147799),H=r(337726),W=r(437984),X=r(127082),V=r(819574),J=r(263222),Q=r(404343),Z=r(106181),ee=(e=>(e.PRIMARY="primary",e.SECONDARY="secondary",e.DISABLED="disabled",e.LOADING="loading",e.OPEN_SESSION="openSession",e.PERSONAL_DRAFT_DISABLED="personalDraftDisabled",e.HAS_CURRENT_UPGRADE_REQUEST="hasCurrentUpgradeRequest",e))(ee||{});function et({editingFile:e,user:t,isFileInWorkshop:r,appendedClassname:o,noContainerRightMargin:l}){let h=(0,T.l7)(),w=(0,I.my)(),z=(0,C.wR)(e.editorType),{hasPendingRequest:H,getUpgradePathway:J,getHasProvisionalAccess:ee}=(0,P.wH)({folderId:e.folderId}),et=e.editorType===A._Y.WHITEBOARD&&!!e.org?.figjamDisabledAt,ea=w===M.nT.Slides&&(0,b.oA)(e.org?.isSlidesDisabled),ei=w===M.nT.Sites&&!!e.org?.isSitesDisabled,en=w===M.nT.Cooper&&!!e.org?.isCooperDisabled,eo=(0,X.aI)(),el=!!e.org||(0,N.XX)(e.team),ed=e.isTryFile,ec=(0,E.aV)(),ep=(0,s.wA)(),eu=D.Cq({useSinatraType:!0})?.url,[eb,eg]=(0,i.useState)(null),em=!e.teamId&&!e.parentOrgId&&e.folderId===t?.personal_drafts_folder_id&&!ed,eh=ee(z),{userLacksLicenseAccess:e_}=(0,P.KI)({fileKey:e.key,userId:t?.id??null,enabled:!!e&&!!t}),ef=e_(e.editorType??A._Y.DESIGN),ey=e.folderId===t?.drafts_folder_id&&ef&&H(z)&&!eh&&J(z)!==U.J.AUTO_PATHWAY,ex=t?.id===e.creatorId,eT=(0,q.vt)(e.team?.id),eS=(0,F.jn)(),ej=(0,u.bc)(L.kQI,{id:e.team?.id||""},{enabled:!!e.team}),ew="loaded"===ej.status&&!!ej.data.team?.hasPermission,ev=!!e.team&&eT||!!e.team&&eS,eI=e.editorType===A._Y.FIGMAKE&&!eo,eC=(0,R.X$)("ShareButton").unwrapOr(null),ek=eC?.tier===A.Ag.PRO,eE=(0,x.xo)(),eO=(0,u.Rs)((0,L.OCJ)({fileKey:e.key}));(0,v.xf)(e);let eD=(0,X.Oc)(),eA=(e.canView&&e.canEdit,(0,i.useCallback)(()=>{if(!ec&&!et&&!ea&&!ei&&!en&&!eI&&!em&&e){if(ed){let t;void 0!==eu&&(ep(S.S({url:eu})),t=!0),ep((0,j.to)({type:Y.p,data:{fileKey:e.key,alreadyCopied:t}}))}else(0,m.YQ)({id:"multiplayer_toolbar_share_button"}),ep((0,j.to)({type:$.g_,data:{fileKey:e.key,source:k.nk.fullscreenToolbar,isLockedTeam:ev}}))}},[ec,et,ea,ei,en,em,ed,eI,ev,eu,e,ep])),eL=(0,O.m0)();if((0,i.useEffect)(()=>{eL&&(eL._share_file=()=>{eA()})},[eL,eA]),g.Ay.isMeetDevice||(!ed||!r)&&!t)return null;let eN=r&&!ed&&el,eR=!!(0,p.tl)().org_id&&(0,p.tl)().org_id===e.parentOrgId;if(ev&&"loading"===ej.status)return null;let eP=eI?"disabled":ed?"secondary":et||ea||ei||en?"disabled":ec?"loading":eN?"openSession":em?"personalDraftDisabled":ey?"hasCurrentUpgradeRequest":ev&&ew&&!e.canEdit||eE?"secondary":"primary",eM=eI?(0,_.t)("fullscreen.toolbar.multiplayer.sharing_figmake_files_disabled"):et?(0,_.t)("fullscreen.toolbar.multiplayer.sharing_fig_jam_files_disabled_by_your_organization"):ea?(0,_.t)("fullscreen.toolbar.multiplayer.sharing_slides_files_disabled_by_your_organization"):ei?(0,_.t)("fullscreen.toolbar.multiplayer.sharing_sites_files_disabled_by_your_organization"):en?(0,_.t)("fullscreen.toolbar.multiplayer.sharing_buzz_files_disabled_by_your_organization"):eN?(0,_.t)("fullscreen.toolbar.multiplayer.open_session_in_progress"):em?W.r:ey?(0,_.t)("fullscreen.toolbar.multiplayer.sharing_has_current_upgrade_request"):null,eB={"data-tooltip-is-current-user-file-owner":JSON.stringify(ex),"data-tooltip-type":em?B.Ib.SPECIAL:B.Ib.TEXT,"data-tooltip-interactive":!!em,"data-tooltip":eM,"data-tooltip-show-immediately":!0,"data-tooltip-offset-y":em?0:6},eU=w===M.nT.Whiteboard,eF=eU||h||eD,ez=eF?Z.lT:Z.m,eK=e.hasEditRole&&(0,b.oA)(e.hasEditRole),eG=0;eO&&"loaded"===eO.status&&eO.data.file?.fileRoleRequests&&(eG=eO.data.file.fileRoleRequests.length);let eq=eK&&eG>0,e$=eq?(0,_.t)("fullscreen.toolbar.multiplayer.share_pending_requests",{numRequests:eG}):void 0,eY=!ec&&!eM&&eb&&ex&&(eR||ek),eH=eU?(0,c.jz)(Q.M$q):void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:d()(ez,l&&Z.Cj),ref:eg,"data-onboarding-key":f.D9,children:[(0,a.jsx)(eF?es:er,{variant:eP,onClick:eA,tooltipProps:eB,appendedClassname:o,ariaLabel:e$}),eq&&(0,a.jsx)(V.$,{numEditRequests:eG,isLegacyPosition:!eF}),(0,a.jsx)(n.T,{children:eK&&!eM&&eb&&(0,a.jsx)(K.F,{target:eb,windowPadding:eH,trackingProperties:{planId:eC?.key.parentId,planType:eC?.key.type}})})]}),eY&&(0,a.jsx)(G.q,{file:e,target:eb}),(0,a.jsx)(y.DG,{})]})}function er({variant:e,onClick:t,tooltipProps:r,appendedClassname:i,ariaLabel:s}){let n=(0,z.k)(),o="openSession"===e,l=d()(n?Z.cR:Z.OI,{[Z.Mg]:"disabled"===e,[Z.A9]:"loading"===e,[Z.LF]:o,[Z.z_]:"personalDraftDisabled"===e,[Z.MI]:"secondary"===e},Z.uX,i);return(0,a.jsxs)(w.$z,{type:"button",className:l,onClick:t,"data-onboarding-key":H.v4,...r,dataTestId:"multiplayer-toolbar-share-button",trackingProperties:{buttonVariant:e},disabled:ei(e),"aria-label":s,children:[o&&(0,a.jsx)(J.r,{}),(0,_.tx)("fullscreen.toolbar.multiplayer.share")]})}let ea=["disabled","personalDraftDisabled","loading","hasCurrentUpgradeRequest"];function ei(e){return ea.includes(e)}function es({variant:e,onClick:t,tooltipProps:r,ariaLabel:i}){let s={primary:"primary",secondary:"secondary",disabled:"disabled",loading:"disabled",openSession:"primary",personalDraftDisabled:"disabled",hasCurrentUpgradeRequest:"disabled"}[e],n=null;return"openSession"===e&&(n=(0,a.jsx)(o.U,{})),(0,a.jsx)(h.c,{disabled:ei(e),variant:"disabled"!==s?s:void 0,iconPrefix:n,onClick:t,trackingProperties:{buttonVariant:e},"aria-label":i,htmlAttributes:{...r,"data-testid":"multiplayer-toolbar-share-button","data-onboarding-key":H.v4},children:(0,_.tx)("fullscreen.toolbar.multiplayer.share")})}},705292:(e,t,r)=>{r.d(t,{I:()=>C,Q:()=>k});var a=r(104076),i=r(716976),s=r(754245),n=r(237420),o=r(684742),l=r(266808),d=r(511570),c=r.n(d),p=r(361170),u=r(816565),b=r(999473),g=r(192075),m=r(475034),h=r(354114),_=r(568563),f=r(592726),y=r(872769),x=r(349311),T=r(25080),S=r(410187),j=r(550538),w=r(222525),v=r(556668);function I({children:e,mini:t,user:r}){return t?(0,a.jsx)("div",{className:c()(v.HG,v.ET),children:e}):(0,a.jsx)("div",{"data-tooltip-type":x.Ib.TEXT,"data-tooltip":r.name||r.handle||"","data-tooltip-timeout-delay":"500","data-tooltip-show-below":!0,"data-tooltip-offset-y":"-20",className:v.HG,children:e})}function C({user:e,hideName:t,mini:r,searchQuery:s,triggeredFrom:o}){let d=e.hi_res_img_url||e.img_url,c=`${d}?c=1`,u=(0,T.$L)(e.id,T.us),g=(0,S.LL)(c,e.name||e.handle||"",u),x=(0,f.TA)(),w=(0,j.b)(),C=(0,n.wA)(),A=i.useCallback(()=>{C(m.F9({currentUserId:x??void 0,storeInRecentsKey:y.$A.FigJam,item:{id:e.id,user:e,type:y.vt.FaceStamp}}))},[x,C,e]),{dragState:L,onInsertableResourcePointerDown:N}=(0,_.Z)({iconSrc:g,insertAction:t=>{let{dropPosition:r}=t,a=t.pointerPercentageOffset?t.pointerPercentageOffset.x:0,i=t.pointerPercentageOffset?t.pointerPercentageOffset.y:0,s=new p.Mi(50,50),n=r.subtract(new p.Mi(a*s.x,i*s.y)).subtract(new p.Mi(5,5));(0,S.xG)(g,n.x,n.y,e.id,"drag",l.zkO.USER),A(),w()},clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:w,resource:{id:e.id,name:e.name||"",img:g},triggeredFrom:o,searchQuery:s,mini:r});return r&&!g?null:(0,a.jsx)(I,{mini:r,user:e,children:g?(0,a.jsxs)(b.n.recordableDiv,{className:v.RX,onPointerDown:N,children:[(0,a.jsx)(O,{stampImageUrl:g,username:e.handle||"",onClick:()=>{let t=h.Y5.getViewportInfo();(0,S.xG)(g,t.offsetX,t.offsetY,e.id,"click",l.zkO.USER),A(),w()},dragging:null!==L,mini:r}),(0,a.jsx)(D,{dragState:L,imageUrl:g}),!t&&(0,a.jsx)(E,{username:e.name||e.handle||""})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k,{mini:r}),!t&&(0,a.jsx)(E,{username:""})]})})}function k({mini:e}={}){return(0,a.jsxs)("div",{className:c()(v.HG,{[v.ET]:e,[v.M4]:!e}),children:[(0,a.jsx)("div",{className:c()(v.eP,v.iE)}),!e&&(0,a.jsx)("div",{className:c()(v.t$,v.OP)})]})}function E({username:e}){return(0,a.jsx)("div",{title:e,className:v.OP,children:e})}function O(e){return(0,a.jsx)(o.E,{className:v.RT,recordingKey:"facestamp",onClick:e.onClick,htmlAttributes:{"data-testid":`facestamp-${e.username}${e.mini?"-mini":""}`},children:(0,a.jsx)(u.oW,{draggable:!1,src:e.stampImageUrl,className:c()(v.iE,{[v.Jy]:e.dragging,[v.dG]:e.mini}),alt:(0,g.t)("whiteboard.face_stamps.aria_label",{userName:e.username})})})}function D(e){if(!e.dragState?.dragPosition||!e.dragState.grabbedPointerPercentageOffset)return null;let t=function(){let{zoomScale:e}=h.Y5.getViewportInfo();return new p.Mi(50,50).scale(e)}(),r=e.dragState.dragPosition.subtract(new p.Mi(e.dragState.grabbedPointerPercentageOffset.x*t.x,e.dragState.grabbedPointerPercentageOffset.y*t.y));return(0,s.createPortal)((0,a.jsx)(u.oW,{alt:"",className:c()(w.$J,{[w.Yg]:e.dragState.isDraggingOverCanvas}),style:{left:r.x,top:r.y,width:t.x,height:t.y},src:e.imageUrl}),document.getElementById("fullscreen-root"))}},314788:(e,t,r)=>{r.d(t,{U5:()=>c,d0:()=>d,d2:()=>u,qK:()=>b});var a=r(716976),i=r(237420),s=r(481173),n=r(211862),o=r(469229),l=r(872769);function d(){let e=!!n.q5()?.org,t=(0,i.d4)(e=>(0,o.zg)(e.selectedView)&&!e.user);return!!(e&&!t)}function c(e,t=20){let r=u(e),s=(0,i.d4)(e=>e.faceStamps);return a.useMemo(()=>{let e=new Map;return r.forEach(t=>{e.set(t.id,t)}),s.forEach(t=>{e.set(t.id,t)}),Array.from(e.values()).slice(0,t)},[t,r,s])}let p=(e,t)=>(e.name||"").toLowerCase().includes(t.toLowerCase())||(e.handle||"").toLowerCase().includes(t.toLowerCase())||(e.email||"").toLowerCase().split("@")[0].includes(t.toLowerCase());function u(e){let t=(0,i.d4)(e=>e.recentlyUsed.faceStamps[l.$A.FigJam]);return a.useMemo(()=>t.map(e=>e.user).filter(t=>!e||p(t,e)),[t,e])}function b(){let e=(0,i.d4)(e=>e.recentlyUsed.faceStamps),t=d(),r=(0,s.o)();return a.useMemo(()=>r&&t?e.figjam.map(e=>e.user):[],[r,e,t])}},48292:(e,t,r)=>{r.d(t,{G0:()=>F,Lf:()=>P,Ox:()=>L,Sn:()=>R,Yx:()=>E,fQ:()=>z,j6:()=>M,l7:()=>B,m_:()=>U,ue:()=>A,v7:()=>N,vh:()=>D});var a=r(104076),i=r(237420),s=r(266808),n=r(170627),o=r(641518),l=r(999473),d=r(192075),c=r(562086),p=r(366535),u=r(475034),b=r(521255),g=r(841e3);if(443==r.j)var m=r(285226);var h=r(380388),_=r(872769),f=r(994847),y=r(299479),x=r(249915),T=r(240660),S=r(550538),j=r(159048),w=r(403607),v=r(880820),I=r(517178),C=r(576551);let k="figjam_universal_inserts";function E(e){let t=function(e){switch(e){case"Table":return s.NLJ.TABLE;case"CodeBlock":return s.NLJ.CODE_BLOCK;case"MindMap":return s.NLJ.SHAPE_WHITEBOARD_MINDMAP_TREE_NUCLEUS;case"Text":return s.NLJ.TYPE;case"Section":return s.NLJ.SECTION;default:throw Error(`Unknown tool: ${e}`)}}(e),r=()=>{n.l7.user("click-insert-tool",()=>s.glU.createNodeAtViewportCenterFromTool(t))};return{insertToolWithDragAction:e=>{let{dropPosition:a,isClick:i}=e;i?r():n.l7.user("drag-insert-tool",()=>s.glU.createNodeFromTool(t,a.x,a.y))},insertToolOnClickAction:r}}function O(e){let t;let r=(0,S.b)(),s=(0,i.wA)(),d=(0,i.d4)(e=>e.user?.id),{tabManager:c,searchQuery:p}=(0,x.cX)();(0,m.kg)(e.resourceType)&&(t=e.resourceType);let b=!!(0,h.AE)(e.resourceType),y=t&&(0,_.ds)(t)&&b,j=()=>{y&&t&&s(u.ay({currentUserId:d,storeInRecentsKey:_.$A.FigJam,item:{id:t,type:_.vt.WhiteboardTool}})),r()},w=r=>{if(t){let{insertToolWithDragAction:e,insertToolOnClickAction:a}=E(t);r?e(r):a()}e.onInsert?.(),j()},v=e=>{w(e)},I=()=>{w()};e.editScopeLabel&&(v=n.nc.user(e.editScopeLabel,v),I=n.nc.user(e.editScopeLabel,I));let{dragState:C,onInsertableResourcePointerDown:k}=(0,h.Ik)({resource:e.resourceType,insertAction:v,clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:j,triggeredFrom:(0,f.V)(c.activeTab),searchQuery:p,icon:b?void 0:e.icon});return(0,a.jsxs)(l.n.div,{onPointerDown:e.disableDragAndDrop?void 0:k,"data-testid":"draggable-insert-action",children:[(0,a.jsx)(T.t,{text:e.text,description:e.description,onClick:I,iconComponent:e.icon,recordingKey:o.Pt("inserts","more",e.recordingKey)}),(0,a.jsx)(g.M,{dragState:C,icon:b?void 0:e.icon})]})}function D(){return(0,a.jsx)(O,{resourceType:"Table",text:(0,d.t)("whiteboard.inserts.table_title"),description:(0,d.t)("whiteboard.inserts.table_description"),recordingKey:"table",icon:y.fM()})}function A(){return(0,a.jsx)(O,{resourceType:"Text",text:(0,d.t)("whiteboard.inserts.text_title"),description:(0,d.t)("whiteboard.inserts.text_description"),recordingKey:"text",icon:y.mn()})}function L(){let e=(0,S.b)();return(0,a.jsx)(T.t,{text:(0,d.t)("whiteboard.inserts.stamp_title"),description:(0,d.t)("whiteboard.inserts.stamp_description"),onClick:()=>{(0,C.X)({source:k}),e()},iconComponent:y.Qp(),recordingKey:o.Pt("inserts","more","stamp")})}function N(){let e=(0,S.b)();return(0,a.jsx)(T.t,{text:(0,d.t)("whiteboard.inserts.comments_title"),description:(0,d.t)("whiteboard.inserts.comments_description"),onClick:()=>{e(),s.glU.triggerActionInUserEditScope("set-tool-comments",{source:k})},iconComponent:y.G$(),recordingKey:o.Pt("inserts","more","comments")})}function R(){return(0,a.jsx)(O,{resourceType:"Section",text:(0,d.t)("whiteboard.inserts.section_title"),description:(0,d.t)("whiteboard.inserts.section_description"),recordingKey:"section",icon:y.mO()})}function P(){let e=(0,I.V)();return(0,a.jsx)(T.t,{text:(0,d.t)("whiteboard.inserts.quick_actions_v2"),description:(0,d.t)("whiteboard.inserts.quick_actions_v2_description"),onClick:e,iconComponent:(0,a.jsx)(w.C,{}),recordingKey:o.Pt("inserts","more","quick-actions-v2")})}function M(){return(0,a.jsx)(O,{resourceType:"CodeBlock",text:(0,d.t)("whiteboard.inserts.code_block_title"),description:(0,d.t)("whiteboard.inserts.code_block_description"),recordingKey:"codeBlock",icon:y.NI()})}function B(){return(0,a.jsx)(O,{resourceType:"MindMap",text:(0,d.t)("whiteboard.inserts.mind_map_title"),description:(0,d.t)("whiteboard.inserts.mind_map_description"),recordingKey:"mindMap",icon:y.V6(),editScopeLabel:"insert-mindmap"})}function U(){let e=(0,v.MR)();return(0,a.jsx)(O,{resourceType:"Timer",text:(0,d.t)("whiteboard.inserts.timer_title"),description:(0,d.t)("whiteboard.inserts.timer_description"),recordingKey:"timer",icon:y.YA(),onInsert:()=>{e({source:v.OO.INSERTS_MENU})}})}function F(){let e=(0,i.wA)(),t=b.BI()?.shouldOptimizeForIpadApp;return(0,a.jsx)(O,{resourceType:"Image",text:(0,d.t)("whiteboard.inserts.media_title"),description:(0,d.t)("whiteboard.inserts.media_description"),recordingKey:"images",icon:y.v8(),onInsert:()=>{s.glU.triggerAction("set-tool-default",null),s.glU.triggerAction("place",{source:"MEDIA_MODAL"}),e(c.qC({open:!0}))},disableDragAndDrop:t})}function z(){let e=(0,i.wA)();return(0,a.jsx)(O,{resourceType:"Link",text:(0,d.t)("whiteboard.inserts.links_title"),description:(0,d.t)("whiteboard.inserts.links_description"),recordingKey:"links",icon:y.Bo(),onInsert:()=>{s.glU.triggerAction("set-tool-default",null),e(p.$O({type:j.Zc.type,data:{shouldMountCenter:!0}}))}})}},610029:(e,t,r)=>{r.d(t,{q:()=>$,x:()=>K});var a=r(104076),i=r(716976),s=r(237420),n=r(795033),o=r(511570),l=r.n(o),d=r(755444),c=r(1188),p=r(236631),u=r(891943),b=r(411017),g=r(835258),m=r(851461),h=r(288747),_=r(592726),f=r(530299),y=r(436648),x=r(872769),T=r(349311),S=r(598430),j=r(233067),w=r(544452),v=r(914837),I=r(53251),C=r(851669),k=r(942385),E=r(734264),O=r(183507),D=r(378410),A=r(488922),L=r(362073),N=r(404343),R=r(231704),P=r(43857);let M=N.YCy,B=[{src:(0,d.ck)("9cd2eb2ff31cb221dce81ca1e67aa51e12b24166"),zIndex:0,width:50,height:50,translateStart:{x:42,y:36},rotateStart:-15,translateEnd:{x:42,y:36},rotateEnd:-15},{src:(0,d.ck)("276fdbb8f6edbcb958f84235ebfc58b63eab0fc2"),zIndex:1,width:50,height:50,translateStart:{x:95,y:36},rotateStart:15,translateEnd:{x:95,y:36},rotateEnd:15},{src:(0,d.ck)("94db9cf93e2a26f927d5f1a7f066f8b045985011"),zIndex:2,width:50,height:50,translateStart:{x:42,y:66},rotateStart:-10,translateEnd:{x:42,y:66},rotateEnd:-10},{src:(0,d.ck)("004b50b1460d47029608e9aaa66c09c1c94c6741"),zIndex:3,width:50,height:50,translateStart:{x:95,y:66},rotateStart:10,translateEnd:{x:95,y:66},rotateEnd:10}];function U({recentItems:e,toolbarIconScale:t,isModalOpen:r}){let i=(0,v.ws)(e);return(0,a.jsx)("div",{className:l()(P.z6,P.ac,R.JY),style:{width:112*t},children:B.map((e,s)=>{var n,o;let l=i[s];return(0,a.jsx)(z,{zIndex:M+1+e.zIndex,width:e.width*t,height:e.height*t,isModalOpen:r,transform:(n={x:e.translateStart.x*t,y:e.translateStart.y*t},o=e.rotateStart,`translate(calc(-50% + ${n.x}px), calc(-50% + ${n.y}px)) rotate(${o}deg)`),children:l?(0,a.jsx)(C.E,{item:l,width:e.width*t,height:e.height*t,disableTooltips:!0}):(0,a.jsx)("img",{src:e.src,alt:"",className:R.VF})},l?.id||e.src)})})}function F({onClick:e,isSelected:t,isHovered:r}){return(0,a.jsx)("div",{className:p.s.flex.itemsCenter.justifyCenter.mx20.h40.w40.$,children:(0,a.jsx)(O.I,{toolType:"universal-insert-collage",recordingKey:(0,w.hx)("universal-insert-plus"),isSelected:t,hasOpenSubmenu:!1,onClick:e,"data-tooltip-type":T.Ib.LOOKUP,"data-tooltip":"browse-all-resources-dlt","data-tooltip-offset-y":-2,children:(0,a.jsx)(k.gd,{toolType:"universal-insert-collage",inactiveIcon:(0,a.jsx)(D.nX,{}),hoveredIcon:(0,a.jsx)(D.ZH,{}),activeIcon:(0,a.jsx)(D.cs,{}),isSelected:t,isHovered:r})})})}function z({zIndex:e,width:t,height:r,transform:i,isModalOpen:s,children:n}){return(0,a.jsx)("div",{className:l()(R.s,{[R.r3]:s}),style:{zIndex:e,width:t,height:r,transform:i},children:(0,a.jsx)("div",{className:R.f_,children:n})})}function K(e,t){let[r,a]=(0,i.useState)(!1),s=(0,i.useRef)(!1),n=(0,i.useRef)([]);return n.current=t,(0,i.useEffect)(()=>{e||s.current||(s.current=!0,async function(){let e=[];for(let t of n.current)t&&e.push(new Promise(e=>{let r=new Image;r.src=t,r.addEventListener("load",()=>e()),r.addEventListener("error",()=>e())}));await Promise.all(e),a(!0)}())},[e]),r}function G({toolbarIconScale:e}){let t=(0,_.TA)(),[r,o]=(0,i.useState)(!1),l=(0,s.wA)(),d=(0,v.NT)(),c=(0,n.md)(j.c5),p=(0,m.XM)(),T=(0,h.sZ)(),I=(0,s.d4)(e=>e.universalInsertModal.showing),k=(0,b.fG)(),D=(0,L.r)(I,c?.stage!=="FULL"?y.pL.MORE:void 0);(0,i.useEffect)(()=>{l(S.cd.fetchTemplatesMetadata({key:x.$A.FigJam,orgId:T?.id})),l(S.cd.fetchWidgetsMetadata({key:x.$A.FigJam})),o(!0)},[l,T?.id]);let N=(0,f.oh)(u.fC),M=(0,f.oh)(S.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:x.$A.FigJam})),B=(0,f.oh)(S.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:x.$A.FigJam})),z=K(!r||N||M||B,d.map(e=>(0,C.h)(e,k,t??void 0)))?d.map(e=>e.id||"").sort((e,t)=>e.localeCompare(t)).join(""):"loading",G=p&&c?.stage==="MINIMIZED_ZERO"||c?.stage==="MINIMIZED"||c?.stage==="CUT_OFF";return(0,a.jsx)(E.XN,{alignment:"CENTER",children:(0,a.jsx)(O.I,{toolType:"universal-insert-collage",recordingKey:(0,w.hx)("universal-insert-collage"),isSelected:I,className:g.pb.isGoogleClassroomIntegration()?P.vy:P.qs,onClick:D,ariaLabel:"browse-all-resources-dlt",onboardingKey:A.yl,"data-does-not-dismiss-modal":!0,hasOpenSubmenu:I,children:t=>(0,a.jsx)(E.ti,{isSelected:t,noScaleAnimation:!0,isRightEdge:!0,children:(0,a.jsxs)("div",{className:R.Ge,"data-element-target":A.b,"data-cancel-insertable-resource-drag-and-drop":!0,children:[!G&&(0,a.jsx)(U,{recentItems:d,toolbarIconScale:e,isModalOpen:I},z),(0,a.jsx)(F,{onClick:D,isSelected:I,isHovered:t})]})})})})}function q(){return(0,a.jsx)(E.XN,{alignment:"CENTER",children:(0,a.jsx)("div",{"data-element-target":A.b,className:R.V6,children:(0,a.jsx)(I.Hm,{})})})}let $=(0,i.memo)(function({toolbarIconScale:e}){return(0,a.jsx)(c.tH,{fallback:(0,a.jsx)(q,{}),boundaryKey:"UniversalInsertCollage",children:(0,a.jsx)(G,{toolbarIconScale:e})})})}}]);

//# debugId=42cd529b-fcfe-5f8b-930f-e2126a23efde

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f695da755526e966524d3a207f8e1d2f4d77a41b/3659-847a81af8a2cfd92.min.js.map