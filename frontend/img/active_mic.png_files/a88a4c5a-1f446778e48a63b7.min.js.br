
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="15df4799-c76b-5bbd-9f0b-e6068077c20f")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[7872],{304271:(e,t,n)=>{"use strict";n.d(t,{G:()=>l,w:()=>a});var i=n(795033),s=n(381059),r=n(235711);let l=(0,i.eU)(e=>{let t=e((0,r.Fu)("has_prompted_in_figma_make")),n=e(s.zk);return!!t.data||!!n?.prompted_in_make});function a(){return(0,i.md)(l)}},732134:(e,t,n)=>{"use strict";n.r(t),n.d(t,{DesignView:()=>dG});var i=n(104076),s=n(716976),r=n(237420),l=n(638004),a=n(266808),o=n(812714),d=n(452157),u=n(434511),x=n(140490),c=n(394549),p=n(1188),m=n(192075),h=n(295539),f=n(651116),g=n(58212),y=n(21791),k=n(249586),j=n(54092),_=n(211862),v=n(4460);let b="send_to_buzz_from_design";function C(){return!function(){let e=(0,r.wA)(),t=(0,j.Zr)("paste-selection-into-buzz-from-design"),n=(0,s.useRef)(t),[i,l]=(0,s.useState)(!1),a=(0,r.d4)(_.tB),o=(0,r.d4)(v.vx),d=(0,r.d4)(e=>e.selectedView),u=(0,r.d4)(e=>{let t=e.selectedView;return"sendToBuzzFileKey"in t?t.sendToBuzzFileKey:void 0});(0,s.useEffect)(()=>{let s=!n.current&&t,r=n.current&&!t;if(!u){n.current=t;return}s&&!i&&((0,k.qD)({name:"Send to Buzz Toast"}),e(g.F.enqueue({type:b,message:(0,m.t)("cooper.templates.use_in_buzz.visual_bell.title"),timeoutOverride:1/0,onDismiss:()=>((0,k.Cu)({trackingContext:"Send to Buzz Toast",text:"Dismiss"}),l(!0),!1),button:{text:(0,m.t)("cooper.templates.use_in_buzz.visual_bell.button"),action:()=>((0,k.Cu)({trackingContext:"Send to Buzz Toast",text:"Send to Buzz"}),(0,y.q_)({previousBuzzFileKey:u,openFile:a,fileVersion:o,selectedView:d,dispatch:e}))}}))),r&&e(g.F.dequeue({matchType:b})),n.current=t},[t,e,d,a,o,u,i])}(),null}var E=n(715858),S=n(892816),T=n(795033),I=n(755444),w=n(248518),N=n(549571),L=n(913772),A=n(459494),R=n(244205),O=n(90844),M=n(422872),F=n(863154),z=n(381059),D=n(472955),P=n(143277),q=n(381888),G=n(226492),$=n(909342),B=n(19877),V=n(441030);let H=(0,T.eU)(!1);function U(){return(0,i.jsx)(x.u,{label:"ContextualUpsellOverlay",children:(0,i.jsx)(K,{})})}function K(){let e=(0,T.md)(F.LZ),t=(0,N._I)(),n=(0,N.U4)(),l=(0,L.J)(),a=(0,B.U)("upsell"),o=(0,T.Xr)(H),{show:d,complete:u,exportId:x,activeId:c,showing:p}=function(){let e=(0,T.md)(z.NT),t=(0,A.lS)(),{show:n,complete:i,isShowing:s,uniqueId:r}=(0,M.e)({overlay:V.Nh9,priority:P.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:()=>!0}},[e]),{show:l,complete:a,isShowing:o,uniqueId:d}=(0,M.e)({overlay:V.L6E,priority:P.N.DEFAULT_MODAL,experiment:{check:t,predicate:e=>e,postCheck:()=>!0}},[e]);return{show:e=>"export"===e?l:n,complete:()=>s?i():a(),measureId:r,exportId:d,activeId:o?r:d,showing:o?"export":s?"measure":void 0}}();!function(e,t){let n=s.useRef(t);s.useEffect(()=>{n.current=t},[t]);let i=(0,r.d4)(e=>e.usedKeyboardShortcuts["measure-to-selection"]||0),l=s.useRef(i);s.useEffect(()=>{let e=t=>{t.key&&(window.removeEventListener("keyup",e),n.current("measure"))};i>l.current&&window.addEventListener("keyup",e)},[i]),(0,O.E)(e,"copy_as_completed",e=>{t("export")}),(0,O.E)(e,"export_completed",e=>{t("export")})}(x,i=>{d(i)({canShow:i=>!t&&n&&l&&e&&"developer"===(0,w.HB)(i),onShow:()=>{(0,D.o9)()}})}),(0,O.E)(c,"Enter Inspect Mode",()=>{p&&u()});let h="export"===p?(0,m.tx)("upsell.dev_mode.contextual_overlay.export_title"):(0,m.tx)("upsell.dev_mode.contextual_overlay.measure_title"),f="export"===p?(0,m.tx)("upsell.dev_mode.contextual_overlay.export_description"):(0,m.tx)("upsell.dev_mode.contextual_overlay.measure_description");return(0,i.jsx)(G.X,{description:f,forceEditorTheme:"dev-handoff",isShowing:!!p,media:(0,i.jsx)(q.y,{src:"export"===p?(0,I.ck)("2ec45ec3c5b501ef6e755fde6a2edfb39d2218cb"):(0,I.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:u,position:$.Q.BOTTOM_RIGHT,primaryCta:{label:(0,m.tx)("upsell.dev_mode.contextual_overlay.cta"),onClick:()=>{a("handoff"),o(!0),u()},ctaTrackingDescriptor:R.c.OPEN_DEV_MODE,type:"button"},testId:"dev-mode-contextual-upsell-tooltip",title:h,trackingContextName:"Dev Mode Contextual Upsell Tooltip",width:240})}var W=n(406790),Z=n(276800),X=n(929302),Y=n(950187),Q=n(268389),J=n(76618),ee=n(790009),et=n(980852),en=n(120440),ei=n(190028),es=n(236631),er=n(202913),el=n(432777),ea=n(514549),eo=n(760848),ed=n(404898),eu=n(260745),ex=n(111297),ec=n(74620),ep=n(141524),em=n(6449),eh=n(144638);function ef(){return(0,i.jsx)(x.u,{label:"DeveloperRFDUpsellOverlay",children:(0,i.jsx)(eg,{})})}function eg(){let e=(0,ed.w_)(),t=(0,ec.aV)(),[n,r]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(!t){let e=function(){let e;let t=(0,et.getActiveTSSceneGraph)(),n=t=>{if(t)for(let i of t.childrenNodes)(i.isTopLevelFrame()||"CANVAS"===i.type)&&(i.hasReadyStatus?e?e.getStatusInfo().lastUpdateUnixTimestamp<i.getStatusInfo().lastUpdateUnixTimestamp&&(e=i):e=i:("SECTION"===i.type||"CANVAS"===i.type)&&n(i))};return n(t?.getRoot()),e?.getStatusInfo()}();e&&r(e)}},[t]);let l=(0,ep.wW)(n&&"userId"in n?n.userId:null),a=!!n&&ei.A.unix(n.lastUpdateUnixTimestamp).isAfter((0,ei.A)().subtract(60,"day")),o=(0,B.U)("upsell"),d=(0,T.md)(F.LZ),u=(0,N._I)(),x=(0,N.U4)(),c=(0,T.md)(z.NT),p=(0,L.J)(),{show:h,complete:f,isShowing:g,uniqueId:y}=(0,M.e)({overlay:V.koo,priority:P.N.OVERRIDING_MODAL},[c]);(0,s.useEffect)(()=>{h({canShow:n=>p&&d&&!u&&!e.loading&&!e.hasPendingRequest&&a&&x&&!t&&"developer"===(0,w.HB)(n),onShow:()=>{(0,D.o9)()}})},[h,u,x,d,t,c,p,e,a]),(0,O.E)(y,"Enter Inspect Mode",()=>{g&&f()});let{primaryButtonProps:k,secondaryButtonProps:j}=(0,ed.BC)({entryPoint:eu.i$.Upsell,dismissModal:f,onRequestAccess:()=>{o("handoff")}}),_=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:eh.XQ,children:(0,i.jsx)(J.O,{})}),(0,i.jsx)("span",{className:es.s.textBodyMediumStrong.$,children:(0,m.tx)("dev_handoff.status.mark_status_sentence_part.ready_for_dev")})]}),{imgSrc:v,modalContent:b}=(0,ea.L)(),C=(0,el.W)(),E=X.hS({open:!0,onClose:Z.lQ,preventUserClose:!0,recordingKey:"dev-mode-paywall-modal"});return(0,i.jsx)(em.M,{testId:"rfd-upsell-upsell",isShowing:g,children:(0,i.jsxs)(ee.J,{brand:"dev-handoff",children:[(0,i.jsx)(er.OM,{}),(0,i.jsx)(ex.fu,{name:"RFD Upsell Modal",properties:{...C,primaryCtaTrackingDescriptor:k?.trackingDescriptor,secondaryCtaTrackingDescriptor:j?.trackingDescriptor},enabled:C?.gracePeriod!==void 0,children:(0,i.jsx)(Y.bL,{width:392,manager:E,children:(0,i.jsxs)(Q.Wk,{children:[(0,i.jsx)("div",{className:eh.XV,children:(0,i.jsx)("div",{className:"xh8yej3 xysyzu8 xt970qd x1hr3lfm x1sdyfia",children:l.loading?"":(0,m.tx)("dev_handoff.upsell.user_marked_a design",{userName:(0,i.jsx)("span",{className:"xb3r6kr xlyipyv xuxw1ft",children:l.user?.name||l.user?.handle}),status:_})})}),(0,i.jsx)("div",{className:es.s.py8.px16.$,children:(0,i.jsx)(eo.E,{imgSrc:v,content:b,modalType:"RFD Upsell Modal",primaryButtonProps:{...k,type:"request_access"},secondaryButtonProps:j?{...j,type:"not_now"}:void 0})})]})})})]})})}var ey=n(449572),ek=n(742549),ej=n(847282),e_=n(59849),ev=n(59975),eb=n(61102),eC=n(643330),eE=n(337726);function eS(){return(0,i.jsx)(x.u,{label:"ViewerDevModeStatusChangedTooltipOverlay",children:(0,i.jsx)(eT,{})})}function eT(){let e=(0,ek.X0)(),t=(0,_.tS)(),n=(0,B.U)("upsell"),s=(0,ey.bc)(e_.ErZ,{key:t||""},{enabled:!!t}),{show:r,isShowing:l,complete:a,uniqueId:o}=(0,M.e)({overlay:V.wRw,priority:P.N.OVERRIDING_MODAL-1},[s]);(0,O.E)(o,"ui3_finished_entering_design_mode",()=>{(0,ej.QL)("rfd-notif")&&r({canShow:e=>!e.file?.hasPermission,onShow:()=>{(0,D.o9)()}})});let d=e?{targetKey:ev.o5,arrowPosition:eC.F_.LEFT_TITLE}:{targetKey:eE.oR,arrowPosition:eC.F_.BOTTOM};return(0,i.jsx)(eb.rq,{...d,description:(0,m.tx)("upsell.view_only_developer_notifications.tooltip_description"),forceEditorTheme:"dev-handoff",isShowing:l,media:(0,i.jsx)(q.y,{src:(0,I.ck)("dc592aac8a3238672f1f3eb8711f656496538b15"),alt:"",aspectRatio:480/270}),onClose:a,testId:"viewer-dev-mode-status-changed-tooltip",primaryCta:{ctaTrackingDescriptor:R.c.TRY_DEV_MODE,label:(0,m.tx)("upsell.view_only_developer_notifications.tooltip_cta"),onClick:()=>{a(),n("handoff")},type:"button"},title:(0,m.tx)("upsell.view_only_developer_notifications.tooltip_title"),trackingContextName:"viewer_dev_mode_status_changed_tooltip"})}var eI=n(285626),ew=n(709545),eN=n(239223),eL=n(968169),eA=n(772523),eR=n(508011),eO=n(962212),eM=n(537307),eF=n(521255),ez=n(587277),eD=n(490499),eP=n(411916),eq=n(331497),eG=n(40452),e$=n(176203),eB=n(122010),eV=n(375380),eH=n(131003),eU=n(299117),eK=n(219199),eW=n(484495),eZ=n(248043),eX=n(944350),eY=n(904017),eQ=n(816565),eJ=n(352630),e0=n(219532);function e1({onClick:e,complete:t}){return(0,i.jsx)(ee.J,{brand:"dev-handoff",children:(0,i.jsxs)("div",{"data-testid":"dev-mode-demo-file-entrypoint-popup",className:"x6sy6il x1dgp85l xqyf9gi x1mxnbhz x1xtplfa x10l6tqk xrv6xtj x9f619 x1p3pnes x1tk3asg x78zum5 xdt5ytf x1dipnxa xbj06nx xl56j7k x1i71x30",children:[(0,i.jsx)("div",{className:"x10l6tqk x1psp13h xbyvkye",children:(0,i.jsx)(e0.Jn,{emphasized:!0,onClick:t})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"x13saxwh xg4jxnz x1h94l6n x1uvdjgy x39l7i4 x1ihwiht",children:(0,m.tx)("dev_mode_playground_file.still_curious_about_dev_mode")}),(0,i.jsx)("div",{children:(0,m.tx)("dev_mode_demo_file.check_out_our_interactive_test")})]}),(0,i.jsx)(eJ.e6,{trackingProperties:{trackingDescriptor:R.c.DEMO_FILE_THUMBNAIL},onClick:e,className:"x11g6tue xzjbwwf x3w9dv2",children:(0,i.jsx)(eQ.oW,{className:"xb3r6kr",alt:"A graphic showing the demo file thumbnail",src:(0,I.ck)("eab479b46c1a94910464200211143d64fe917ae1")})}),(0,i.jsx)("div",{children:(0,i.jsx)(eJ.e6,{trackingProperties:{trackingDescriptor:R.c.CHECK_IT_OUT},onClick:e,className:"xmkeg23 x1y0btm7 x15r24av x19y5rnk x78zum5 xx99whi xl56j7k x6s0dn4 x4wtjwi x11g6tue x1qxcl5b x1tk3asg",children:(0,m.tx)("dev_mode_playground_file.check_it_out")})})]})})}function e2(){let e=(0,eY.No)().unwrapOr(null),t=e?.tier===eX.Ag.STARTER,n=(0,N._I)(),r=(0,N.U4)(),l=(0,eW.w)(),a=(0,T.md)(er.YU),o=(0,ed.w_)(),d=(0,I.tl)().dev_mode_demo_file_key,{isShowing:u,show:x,complete:c}=(0,M.e)({overlay:V.E5y,priority:P.N.DEFAULT_MODAL});return(s.useEffect(()=>{x({canShow:()=>!!(!o.loading&&!o.hasPendingRequest&&r&&!n&&a&&"developer"===l&&!t&&d)})},[n,r,d,o,u,l,a,t,x]),u)?(0,i.jsx)(em.M,{isShowing:u,children:(0,i.jsx)(ex.fu,{name:"DevModeDemoFileEntryPoint",children:(0,i.jsx)(e1,{onClick:()=>{d&&eK.Ay.redirect((0,eZ.jN)({file:{key:d},isDevHandoff:!0}),"_blank"),c()},complete:c})})}):null}var e3=n(221602),e5=n(915707),e4=n(381643),e7=n(235711),e8=n(719097),e6=n(643077),e9=n(592726),te=n(304271),tt=n(930011),tn=n(835307),ti=n(208740);function ts(e,t){let n=Date.now();return e.getTime()<=n-864e5*t}let tr=(0,e4.J9)([(0,e7.Fu)("seen_figmake_promo_overlay"),(0,e7.Fu)("seen_figmake_file_creation_tooltip")],([e,t])=>!!(e&&ts(new Date(e.updatedAt),14))&&(!t||ts(new Date(t.updatedAt),3))),tl=(0,e7.r1)("has_created_figma_make_file"),ta=(0,e7.Fu)("seen_figma_make_upsell_in_design_editor_overlay"),to=(0,e4.J9)([z.n1,z.fu,(0,tt.Ji)(!0)],([e,t,n],i)=>{let s=n?.seatTypeLicenseTypes,r=!s?.includes(eX.G_.DESIGN),l=i(e8.UQ),a=i(te.G);return(e||r||l&&t)&&!a});var td=n(373547);function tu({isShowing:e,onClose:t,onCtaClick:n,trackingContextName:s,testId:r,title:l,description:a}){let o="dark"===(0,td.DP)(),d=o?(0,I.ck)("1a369818117cc7e77826ee246da5938968f29e43"):(0,I.ck)("c427705996f20b17615206adc93b3171f6646529");return(0,i.jsx)(em.M,{isShowing:e,children:(0,i.jsx)(ex.fu,{name:s,children:(0,i.jsx)(ee.J,{brand:"seascape",children:(0,i.jsxs)("div",{"data-testid":r,className:"x10l6tqk x1g84rlc x1u31bsw xqyf9gi x9f619 xrv6xtj xgk9eko x1mxnbhz xu5wzci x1tk3asg xho2vqm xdz8niu x1bw29jc xshklg3 xskzprw x78zum5 xdt5ytf xl56j7k x1i71x30 x1dipnxa x1vamu9a",children:[(0,i.jsx)("div",{className:"x10l6tqk x1psp13h xbyvkye",children:(0,i.jsx)(e0.Jn,{onClick:t,trackingProperties:{action:"close",trackingContext:s},emphasized:!0,dataTestId:`${r}-close`})}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xg2d0mh",children:[(0,i.jsx)("div",{className:"x1l3kr2 x1mnx3iv xo8tsow xeefxrb xdjnq2g",children:l}),(0,i.jsx)("div",{children:a})]}),(0,i.jsx)(eJ.e6,{"data-testid":`${r}-asset`,trackingProperties:{trackingDescriptor:R.c.FIGMA_MAKE_UPSELL_ASSET,trackingContext:s},onClick:n,...{0:{className:"x1ypdohk x18dl8mb x78zum5 xl56j7k x6s0dn4 xm3q4nm xb3r6kr x168yufr xgk9eko xsks9tx x1ailfhc"},1:{className:"x1ypdohk x18dl8mb x78zum5 xl56j7k x6s0dn4 xm3q4nm xb3r6kr x168yufr xgk9eko xsks9tx x1oa4r"}}[!!o<<0],children:(0,i.jsx)("video",{className:"x5yr21d xl1xv1r",src:d,"aria-label":(0,m.t)("upsell.figma_make_upsell_in_design_editor.image_alt"),autoPlay:!0,loop:!0,muted:!0})}),(0,i.jsx)(ee.J,{brand:"seascape",mode:"dark",children:(0,i.jsx)(eJ.e6,{"data-testid":`${r}-cta`,trackingProperties:{trackingDescriptor:R.c.TRY_IT_NOW,trackingContext:s},onClick:n,className:"xi0y1te xvzdmf2 x19y5rnk xx99whi x4wtjwi xeq5yr9 xpvyfi4 xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up",children:(0,m.tx)("upsell.figma_make_upsell_in_design_editor.button_title")})})]})})})})}function tx(){let e=function(){let e=(0,T.md)(tr),t=(0,T.md)(tl),n=(0,eY.No)(),i=(0,eY.px)(),l=i.unwrapOr(null)?.draftsFolderId??void 0,a=(0,e3.nt)(l),d=(0,T.md)(to),u=(0,T.md)(ta),x=(0,A.DB)(),c=(0,ec.aV)(),p=(0,r.d4)(e=>e.mirror.appModel.currentPage),h=(0,tn.Fk)((e,t)=>!(0,e6.zC)(e,t),p),f=(0,_.q5)(),g=(0,_.tS)(),y=(0,e9.iZ)(),k=!!f&&!!g,j=(0,s.useRef)(null),{isShowing:v,show:b,complete:C}=(0,M.e)({overlay:V.qiY,priority:P.N.DEFAULT_MODAL},[e,t,n,a,d,u]);s.useEffect(()=>{l&&!c&&k&&y&&b({canShow:(e,t,n,i,s,r)=>{let l=n.tier===eX.Ag.STARTER&&!(0,o.kc)().bake_starter_limit,a=e&&!l&&null!==i&&(0,e3.d6)(i,eX._Y.FIGMAKE),d=k&&y.id===f?.creatorId,u=a&&s&&h&&!d&&x();return null===j.current&&(!a||r||s?u?j.current="targeted":j.current="none":j.current="generic"),"generic"===j.current&&!t||"targeted"===j.current}})},[b,l,x,c,k,f?.creatorId,y,h,j]);let{newFileFrom:E,contextClicked:S,trackingContextName:I,testId:w,title:N,description:L}=function(e){let t={generic:{newFileFrom:ti.f6.FIGMAKE_POPOUT_UPSELL_IN_DESIGN_EDITOR,contextClicked:"figmake_popout_upsell_in_design_editor_created",trackingContextName:"FigmaMakeUpsellInDesignEditor",testId:"figma-make-upsell-in-design-editor-overlay",title:(0,m.tx)("upsell.figma_make_upsell_in_design_editor.title"),description:(0,m.tx)("upsell.figma_make_upsell_in_design_editor.description")},targeted:{newFileFrom:ti.f6.FIGMAKE_POPOUT_UPSELL_IN_DESIGN_EDITOR_NON_DESIGNER_SOMEONE_ELSES_FILE,contextClicked:"figmake_popout_upsell_in_design_editor_nondesigner_someone_elses_file_created",trackingContextName:"FigmaMakeUpsellInDesignEditorNondesignerSomeoneElsesFile",testId:"figma-make-upsell-in-design-editor-overlay-nondesigner-someone-elses-file",title:(0,m.tx)("upsell.figma_make_upsell_in_design_editor.nondesigner_someone_elses_file.title"),description:(0,m.tx)("upsell.figma_make_upsell_in_design_editor.nondesigner_someone_elses_file.description")}};return e?t.targeted:t.generic}("targeted"===j.current);return{isShowing:v,onClose:C,onCtaClick:(0,e5.$)({folderId:l,isDraftsFolder:!0,editorType:eX._Y.FIGMAKE,forceOpenNewTab:!0,newFileFrom:E,contextClicked:S}),trackingContextName:I,testId:w,title:N,description:L}}();return(0,i.jsx)(x.u,{label:"FigmaMakeUpsellInDesignEditorOverlay",children:(0,i.jsx)(tu,{...e})})}var tc=n(450259),tp=n(443192),tm=n(174730),th=n(615782),tf=n(420680),tg=n(225654),ty=n(511570),tk=n.n(ty),tj=n(883765),t_=n(653899),tv=n(833805),tb=n(101880),tC=n(967782),tE=n(504307),tS=n(141773),tT=n(373235),tI=n(395556),tw=n(289050),tN=n(844182),tL=n(566905),tA=n(834524),tR=n(875997),tO=n(768300);let tM="starting_points_templates_modal--templateOption--qYXkm",tF="starting_points_templates_modal--templateOptionTitle--DmVPR",tz="starting_points_templates_modal--verticalTemplateImage--kAzQz";var tD=(e=>(e.DESKTOP="desktop",e.MOBILE="mobile",e.WEBSITE="website",e))(tD||{});let tP={x:0,y:0},tq={website:{x:0,y:1600},mobile:{x:0,y:300},desktop:{x:0,y:300}},tG={website:.1,mobile:.225,desktop:.1};function t$(e){return(0,i.jsx)(x.u,{label:"StartingPointsTemplatesModal",children:(0,i.jsx)(tB,{...e})})}function tB({onClose:e}){let t=(0,r.wA)(),n=s.useRef(null),[l,d]=s.useState(!1),[u,x]=s.useState(!1),[c,p]=s.useState(!1),[h,f]=s.useState(!1),[g,y]=s.useState(window.innerWidth),[k,j]=s.useState({website:"",mobile:"",desktop:""}),v=(0,tT.q)(),b=(0,_.tS)(),C=(0,r.d4)(e=>e.fileVersion),E=(0,r.d4)(e=>e.mirror.sceneGraph),S=v&&(0,tA.Qf)(E),w=!!S&&0===S.childCount,[N]=(0,tv.IT)((0,tE.Dz)({})),{inProductHelpViewType:L}=(0,tw.A5)(),A=(0,eq.ut)(a.Ez5?.uiState().inProductHelpSidePanelWidth,0),O="side_panel"===L?A:0,{insertTemplate:M}=(0,tS.Fz)(),F=(0,tR.g)(),z=(0,T.Xr)(tO.Yq),D=(0,T.Xr)(tO.bj),[P,q]=s.useState(!1),G=(0,tN.GQ)(),$=(0,tL.P)();(0,t_.h)(()=>{let e=()=>{y(window.innerWidth)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),s.useEffect(()=>{f(G+50>g/2-257||g-$-O-50<g/2+257),p(G+50>g/2-365||g-$-O-50<g/2+365)},[O,G,$,g]);let B=s.useCallback(()=>{if("loaded"!==N.status||!N.data)return;let e=[];for(let t of Object.values(tD)){let n=N.data[t]?.files;if(!n)return;let i={type:tI.n.HubFile,template:n};e.push(i)}Promise.all(e.map(e=>T.zl.get((0,tO.Re)({fileKey:b,fileVersion:C,template:e})))).then(()=>{q(!0)}).catch(e=>{console.error("Failed to load template buffers",e),q(!0)})},[b,C,N]);if(s.useEffect(()=>{if("loaded"===N.status)for(let e of Object.values(tD)){let t=N.data[e]?.preview_img_id;t&&j(n=>({...n,[e]:t}))}},[N]),s.useEffect(()=>{"loaded"!==N.status||P||B()},[N,P,B]),s.useEffect(()=>{v&&S&&!w&&!u&&e()},[v,S,w,u,e]),!(0,o.kc)().starting_points_modal)return null;let V=async n=>{if("loaded"!==N.status)return;d(!0);let i=N.data[n]?.files;i&&("basics"!==n?await (0,tS.Zg)({insert:()=>D({selectTemplateAfterCommit:!1,moveViewportAfterCommit:!1,priority:"user-visible",editScopeType:a.zkO.USER}),template:{template:i,type:tI.n.HubFile},fileKey:b,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1}):await M({template:{template:i,type:tI.n.HubFile},userTriggered:!1,editScopeType:a.zkO.ONBOARDING,triggeredFrom:"starting-points",templateInsertionDirection:a.hKj.RIGHT}),"basics"===n?(0,tC.YQ)({id:"starting_points_basics_template_inserted"}):(0,tC.YQ)({id:"starting_points_template_inserted"}),e(),d(!1))},H=(0,i.jsx)(ex.$z,{onClick:()=>V("basics"),trackingProperties:{trackingDescriptor:R.c.LEARN_THE_BASICS},children:(0,m.tx)("starting_points.learn_the_basics")}),U=e=>{if((0,tj.sx)("Starting Points Template Option Hover",{template:e}),!N.data)return;let n=N.data[e]?.files;if(!n)return;let i={type:tI.n.HubFile,template:n},s=tG[e];window.innerWidth>1700&&(s*=1.5),(0,tS.Zg)({insert:()=>F(i,{moveViewportAfterPreview:!0,priority:"user-visible",previewManager:{nodeType:a.Z6A.CANVAS},position:tP,viewportOptions:{position:tq[e],scale:s,duration:0}}),template:i,fileKey:b,dispatch:t,triggeredFrom:"starting-points",userTriggered:!1,isPreview:!0})};return(0,i.jsx)(ex.fu,{name:"Starting Points Modal",children:(0,i.jsx)("div",{className:"starting_points_templates_modal--startingPointsTemplatesModalPositioner--R8g3u",style:{marginRight:`${O}px`},children:(0,i.jsx)(tb.x,{isLoading:l,className:"starting_points_templates_modal--loadingSpinner--UOrjg",children:()=>(0,i.jsxs)("div",{className:tk()({"starting_points_templates_modal--startingPointsTemplatesModal--dUQte":!0,"starting_points_templates_modal--isHidden--jVN1L":h,"starting_points_templates_modal--isCondensedView--3tVz6":c}),onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),ref:n,children:[(0,i.jsxs)("div",{className:"starting_points_templates_modal--modalInstructions--ZtdTL",children:[(0,i.jsx)("div",{className:"starting_points_templates_modal--modalTitle--HT3eZ",children:(0,m.t)("starting_points.what_do_you_want_to_make_today")}),(0,i.jsx)("div",{className:"starting_points_templates_modal--modalLearnMore--g-GWo",children:(0,m.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:H})})]}),(0,i.jsxs)("div",{className:"starting_points_templates_modal--optionContainer--mYEsG",children:[(0,i.jsxs)(ex.$z,{className:tM,onClick:()=>V("website"),onMouseEnter:()=>U("website"),onMouseLeave:z,trackingProperties:{trackingDescriptor:R.c.WEBSITE_TEMPLATES},children:[(0,i.jsx)("div",{className:tF,children:(0,m.t)("starting_points.website")}),(0,i.jsx)(eQ.oW,{className:tz,src:(0,I.ck)(k.website),alt:"Website template"})]}),(0,i.jsxs)(ex.$z,{className:tM,onClick:()=>V("mobile"),onMouseEnter:()=>U("mobile"),onMouseLeave:z,trackingProperties:{trackingDescriptor:R.c.MOBILE_APP_TEMPLATES},children:[(0,i.jsx)("div",{className:tF,children:(0,m.t)("starting_points.mobile_app")}),(0,i.jsx)(eQ.oW,{className:tz,src:(0,I.ck)(k.mobile),alt:"Mobile app template"})]}),(0,i.jsxs)(ex.$z,{className:tM,onClick:()=>V("desktop"),onMouseEnter:()=>U("desktop"),onMouseLeave:z,trackingProperties:{trackingDescriptor:R.c.DESKTOP_APP_TEMPLATES},children:[(0,i.jsx)("div",{className:tF,children:(0,m.t)("starting_points.desktop_app")}),(0,i.jsx)(eQ.oW,{className:"starting_points_templates_modal--desktopTemplateImage--3kplg",src:(0,I.ck)(k.desktop),alt:"Desktop app template"})]})]}),(0,i.jsx)("div",{className:"starting_points_templates_modal--modalLearnMoreFooter--pSvfX",children:(0,m.tx)("starting_points.or_learn_the_basics",{learnTheBasicsLink:H})}),(0,i.jsx)("div",{className:"starting_points_templates_modal--closeButton--io-14",children:(0,i.jsx)(tf.K,{onClick:e,"aria-label":(0,m.t)("general.close"),htmlAttributes:{"data-testid":"close-button"},children:(0,i.jsx)(tg.X,{})})})]})})})})}let tV=(0,e7.r1)("dismissed_starting_points_templates_modal");function tH(){return(0,i.jsx)(x.u,{label:"StartingPointsTemplatesModalOverlay",children:(0,i.jsx)(tU,{})})}function tU(){let e=(0,r.wA)(),t=!!(0,o.kc)().starting_points_modal,n=(0,ej.QL)(eE.E_.key)===eE.E_.value,l=(0,ec.aV)(),a=(0,r.d4)(e=>e.mirror.appModel.currentPage),d=(0,tn.Fk)((e,t)=>(0,e6.zC)(e,t),a),u=(0,ej.QL)(th.pt.KEY)===th.pt.VALUE,x=(0,_.q5)(),c=(0,e9.TA)(),p=x?.creatorId===c,m=(0,T.md)(z.Fy),h=(0,T.md)(e8.UQ),f=!(0,tm.f)("not_gen_0"),g=(0,T.md)(tV),y=(0,I.Ay)().starting_points,{show:k,isShowing:j,complete:v}=(0,M.e)({overlay:V.EYw,priority:P.N.OVERRIDING_MODAL+1},[m,g]);return(s.useEffect(()=>{t&&p&&!u&&!l&&d&&!j&&(n?k():f&&h&&y&&k({canShow:(e,t)=>!e&&!t}))},[t,p,l,d,j,n,f,h,u,y,g,k]),j)?(0,i.jsx)(t$,{onClose:()=>{g.data||e(tp.b({dismissed_starting_points_templates_modal:!0})),v()}}):null}var tK=n(482996),tW=n(850701),tZ=n(296831),tX=n(475961),tY=n(339619),tQ=n(957128),tJ=n(413358),t0=n(440819);let t1=(0,t0.Op)({initial:"ready_to_show",states:[{id:"ready_to_show",transitions:[(0,t0.nr)("curator_content_shown","ui3_onboarding_was_shown_in_current_session",{condition:({event:e})=>e.properties.shown===V.KTt.id})]},{id:"ui3_onboarding_was_shown_in_current_session",terminal:!0}]}),t2=(0,t0.rn)("track_ui3_onboarding_shown",t1);var t3=n(193317);function t5(){let{isShowing:e,complete:t,show:n,uniqueId:l}=(0,M.e)({overlay:V.l_p,priority:P.N.SECONDARY_MODAL}),o=(0,r.wA)(),d=(0,ec.aV)(),u=(0,_.q5)(),x=(0,e9.iZ)(),c=(0,tK.te)(),p=!!(0,tm.f)(tQ.bo),h="ui3_onboarding_was_shown_in_current_session"===(0,tZ.zl)(t2).currentState,f="no_figma_basics_onboarding_was_shown_in_current_session"===(0,tZ.zl)(tJ.j).currentState,g=(0,T.md)(tY.dL),y=(0,tX.jO)(),k=u?.canEdit,j=(0,r.d4)(e=>e.leftPanel.activeTab===a.xae.LAYERS);if((0,O.E)(l,["Reset Visual Assets Tooltips",tQ.io],()=>{x&&u&&o(tp.b(t3.g))}),(0,s.useEffect)(()=>{!c()||!k||g||p||h||f||!y||d||!j||e||n()},[n,c,k,p,y,d,h,f,e,g,j]),(0,s.useEffect)(()=>{!j&&e&&t()},[j,e,t]),!e)return null;let v=(0,i.jsx)("strong",{style:{display:"contents"},children:(0,m.tx)("design_systems.assets_panel.assets")});return(0,i.jsx)(G.X,{isShowing:e,title:(0,m.tx)("rcs.visual_assets.elevate_your_designs"),description:(0,m.tx)("rcs.visual_assets.grab_visual_assets",{strongAssets:v}),primaryCta:{label:(0,m.tx)("rcs.presets_baseline.try_it"),type:"button",onClick:()=>{o(tW.FP({tab:a.xae.ASSETS})),t()},ctaTrackingDescriptor:R.c.PRESETS_TRY_IT},trackingContextName:"Visual Assets Intro Tooltip",userFlagOnShow:tQ.bo,position:$.Q.UI3_EDITOR_TOP_LEFT,onClose:t})}var t4=n(326973),t7=n(846696),t8=n(825947),t6=n(826220),t9=n(293422),ne=n(414173),nt=n(877384),nn=n(513122),ni=n(692619),ns=n(18978),nr=n(641518),nl=n(349311),na=n(390452),no=n(338052),nd=n(840930),nu=n(315790);function nx(){return(0,i.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_9897_16689)",children:[(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#E4CCFF"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_9897_16689)",children:[(0,i.jsx)("rect",{x:"9.5",y:"23",width:"24",height:"24",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M20.6165 36.5908C21.1046 36.1028 21.8959 36.1028 22.384 36.5908L23.7629 37.9697C24.251 38.4579 24.251 39.2492 23.7629 39.7373L22.384 41.1162L22.2893 41.2021C21.8311 41.5758 21.1694 41.5758 20.7112 41.2021L20.6165 41.1162L19.2375 39.7373C18.78 39.2797 18.7512 38.5554 19.1516 38.0645L19.2375 37.9697L20.6165 36.5908ZM21.677 37.2979C21.5794 37.2003 21.4211 37.2003 21.3235 37.2979L19.9446 38.6768C19.8471 38.7744 19.8471 38.9327 19.9446 39.0303L21.3235 40.4092C21.4211 40.5067 21.5794 40.5067 21.677 40.4092L23.0559 39.0303C23.1534 38.9327 23.1534 38.7744 23.0559 38.6768L21.677 37.2979ZM16.7629 32.7373C17.2511 32.2493 18.0424 32.2493 18.5305 32.7373L19.9094 34.1162C20.3975 34.6043 20.3975 35.3957 19.9094 35.8838L18.5305 37.2627L18.4358 37.3486C17.9776 37.7223 17.3159 37.7223 16.8577 37.3486L16.7629 37.2627L15.384 35.8838C14.9265 35.4262 14.8977 34.7019 15.2981 34.2109L15.384 34.1162L16.7629 32.7373ZM24.47 32.7373C24.9581 32.2493 25.7494 32.2493 26.2375 32.7373L27.6165 34.1162C28.1045 34.6043 28.1045 35.3957 27.6165 35.8838L26.2375 37.2627L26.1428 37.3486C25.6846 37.7223 25.0229 37.7223 24.5647 37.3486L24.47 37.2627L23.0911 35.8838C22.6335 35.4262 22.6047 34.7019 23.0051 34.2109L23.0911 34.1162L24.47 32.7373ZM17.8235 33.4443C17.7259 33.3468 17.5676 33.3468 17.47 33.4443L16.0911 34.8232C15.9936 34.9208 15.9936 35.0792 16.0911 35.1768L17.47 36.5557C17.5676 36.6532 17.7259 36.6532 17.8235 36.5557L19.2024 35.1768C19.2999 35.0792 19.2999 34.9208 19.2024 34.8232L17.8235 33.4443ZM25.5305 33.4443C25.4329 33.3468 25.2746 33.3468 25.177 33.4443L23.7981 34.8232C23.7006 34.9208 23.7006 35.0792 23.7981 35.1768L25.177 36.5557C25.2746 36.6532 25.4329 36.6532 25.5305 36.5557L26.9094 35.1768C27.0069 35.0792 27.0069 34.9208 26.9094 34.8232L25.5305 33.4443ZM20.6165 28.8838C21.1046 28.3958 21.8959 28.3958 22.384 28.8838L23.7629 30.2627C24.251 30.7508 24.251 31.5421 23.7629 32.0303L22.384 33.4092L22.2893 33.4951C21.8311 33.8688 21.1694 33.8688 20.7112 33.4951L20.6165 33.4092L19.2375 32.0303C18.78 31.5726 18.7512 30.8484 19.1516 30.3574L19.2375 30.2627L20.6165 28.8838ZM21.677 29.5908C21.5794 29.4933 21.4211 29.4933 21.3235 29.5908L19.9446 30.9697C19.8471 31.0673 19.8471 31.2256 19.9446 31.3232L21.3235 32.7021C21.4211 32.7997 21.5794 32.7997 21.677 32.7021L23.0559 31.3232C23.1534 31.2256 23.1534 31.0673 23.0559 30.9697L21.677 29.5908Z",fill:"#D9B8FF"})]}),(0,i.jsxs)("g",{filter:"url(#filter1_d_9897_16689)",children:[(0,i.jsx)("rect",{x:"22.5",y:"10",width:"24",height:"24",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M33.6165 23.5908C34.1046 23.1028 34.8959 23.1028 35.384 23.5908L36.7629 24.9697C37.251 25.4579 37.251 26.2492 36.7629 26.7373L35.384 28.1162L35.2893 28.2021C34.8311 28.5758 34.1694 28.5758 33.7112 28.2021L33.6165 28.1162L32.2375 26.7373C31.78 26.2797 31.7512 25.5554 32.1516 25.0645L32.2375 24.9697L33.6165 23.5908ZM34.677 24.2979C34.5794 24.2003 34.4211 24.2003 34.3235 24.2979L32.9446 25.6768C32.8471 25.7744 32.8471 25.9327 32.9446 26.0303L34.3235 27.4092C34.4211 27.5067 34.5794 27.5067 34.677 27.4092L36.0559 26.0303C36.1534 25.9327 36.1534 25.7744 36.0559 25.6768L34.677 24.2979ZM29.7629 19.7373C30.2511 19.2493 31.0424 19.2493 31.5305 19.7373L32.9094 21.1162C33.3975 21.6043 33.3975 22.3957 32.9094 22.8838L31.5305 24.2627L31.4358 24.3486C30.9776 24.7223 30.3159 24.7223 29.8577 24.3486L29.7629 24.2627L28.384 22.8838C27.9265 22.4262 27.8977 21.7019 28.2981 21.2109L28.384 21.1162L29.7629 19.7373ZM37.47 19.7373C37.9581 19.2493 38.7494 19.2493 39.2375 19.7373L40.6165 21.1162C41.1045 21.6043 41.1045 22.3957 40.6165 22.8838L39.2375 24.2627L39.1428 24.3486C38.6846 24.7223 38.0229 24.7223 37.5647 24.3486L37.47 24.2627L36.0911 22.8838C35.6335 22.4262 35.6047 21.7019 36.0051 21.2109L36.0911 21.1162L37.47 19.7373ZM30.8235 20.4443C30.7259 20.3468 30.5676 20.3468 30.47 20.4443L29.0911 21.8232C28.9936 21.9208 28.9936 22.0792 29.0911 22.1768L30.47 23.5557C30.5676 23.6532 30.7259 23.6532 30.8235 23.5557L32.2024 22.1768C32.2999 22.0792 32.2999 21.9208 32.2024 21.8232L30.8235 20.4443ZM38.5305 20.4443C38.4329 20.3468 38.2746 20.3468 38.177 20.4443L36.7981 21.8232C36.7006 21.9208 36.7006 22.0792 36.7981 22.1768L38.177 23.5557C38.2746 23.6532 38.4329 23.6532 38.5305 23.5557L39.9094 22.1768C40.0069 22.0792 40.0069 21.9208 39.9094 21.8232L38.5305 20.4443ZM33.6165 15.8838C34.1046 15.3958 34.8959 15.3958 35.384 15.8838L36.7629 17.2627C37.251 17.7508 37.251 18.5421 36.7629 19.0303L35.384 20.4092L35.2893 20.4951C34.8311 20.8688 34.1694 20.8688 33.7112 20.4951L33.6165 20.4092L32.2375 19.0303C31.78 18.5726 31.7512 17.8484 32.1516 17.3574L32.2375 17.2627L33.6165 15.8838ZM34.677 16.5908C34.5794 16.4933 34.4211 16.4933 34.3235 16.5908L32.9446 17.9697C32.8471 18.0673 32.8471 18.2256 32.9446 18.3232L34.3235 19.7021C34.4211 19.7997 34.5794 19.7997 34.677 19.7021L36.0559 18.3232C36.1534 18.2256 36.1534 18.0673 36.0559 17.9697L34.677 16.5908Z",fill:"#9747FF"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_9897_16689",x:"1.5",y:"17",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16689"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16689",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_9897_16689",x:"14.5",y:"4",width:"40",height:"40",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16689"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16689",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_9897_16689",children:(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function nc(){return(0,i.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_9897_16676)",children:[(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#FFBDF2"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_9897_16676)",children:[(0,i.jsx)("rect",{x:"7",y:"8.5",width:"24",height:"18",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M13.3983 21H11.9842L14.8319 13H16.4217L19.2694 21H17.8553L15.6561 14.5469H15.5936L13.3983 21ZM13.5272 17.8672H17.7147V18.9531H13.5272V17.8672ZM22.7736 23.375C22.2814 23.375 21.8582 23.3099 21.5041 23.1797C21.1525 23.0495 20.8673 22.875 20.6486 22.6563C20.4298 22.4375 20.2723 22.1979 20.1759 21.9375L21.3127 21.5781C21.3778 21.6927 21.4676 21.8112 21.5822 21.9336C21.6968 22.056 21.8517 22.1589 22.047 22.2422C22.2423 22.3281 22.491 22.3711 22.7931 22.3711C23.215 22.3711 23.564 22.2682 23.84 22.0625C24.116 21.8594 24.2541 21.5286 24.2541 21.0703V19.9141H24.1798C24.1095 20.0521 24.0067 20.1992 23.8713 20.3555C23.7358 20.5091 23.5535 20.6406 23.3244 20.75C23.0952 20.8568 22.8035 20.9102 22.4494 20.9102C21.9832 20.9102 21.5614 20.8008 21.1838 20.582C20.8088 20.3607 20.5106 20.0326 20.2892 19.5977C20.0679 19.1628 19.9572 18.6224 19.9572 17.9766C19.9572 17.3307 20.0666 16.7799 20.2853 16.3242C20.5041 15.8685 20.8022 15.5208 21.1798 15.2812C21.5574 15.0417 21.9832 14.9219 22.4572 14.9219C22.8192 14.9219 23.1134 14.9831 23.34 15.1055C23.5692 15.2253 23.7502 15.3685 23.883 15.5352C24.0158 15.6992 24.1173 15.8477 24.1877 15.9805H24.2658V15H25.5353V21.1172C25.5353 21.6302 25.4142 22.0534 25.172 22.3867C24.9324 22.7201 24.6043 22.9674 24.1877 23.1289C23.771 23.293 23.2996 23.375 22.7736 23.375ZM22.7775 19.8711C23.0952 19.8711 23.3647 19.7956 23.5861 19.6445C23.8074 19.4935 23.9754 19.276 24.09 18.9922C24.2072 18.7057 24.2658 18.3646 24.2658 17.9687C24.2658 17.5755 24.2085 17.2318 24.0939 16.9375C23.9793 16.6432 23.8114 16.4141 23.59 16.25C23.3686 16.0833 23.0978 16 22.7775 16C22.4442 16 22.1655 16.0859 21.9416 16.2578C21.7176 16.4297 21.5496 16.6641 21.4377 16.9609C21.3257 17.2578 21.2697 17.5937 21.2697 17.9687C21.2697 18.349 21.327 18.6823 21.4416 18.9687C21.5561 19.2526 21.7241 19.474 21.9455 19.6328C22.1694 19.7917 22.4468 19.8711 22.7775 19.8711Z",fill:"#FF24BD"}),(0,i.jsx)("path",{d:"M47.584 13.2226C47.7372 12.9929 48.0476 12.9308 48.2773 13.084C48.5071 13.2371 48.5692 13.5476 48.416 13.7773L43.416 21.2773C43.3329 21.402 43.1979 21.4833 43.0488 21.498C42.8999 21.5126 42.7523 21.4593 42.6465 21.3535L39.6465 18.3535C39.4513 18.1582 39.4512 17.8417 39.6465 17.6465C39.8173 17.4756 40.0813 17.4539 40.2754 17.582L40.3535 17.6465L42.9219 20.2148L47.584 13.2226Z",fill:"white"})]}),(0,i.jsxs)("g",{filter:"url(#filter1_d_9897_16676)",children:[(0,i.jsx)("rect",{x:"7",y:"30.5",width:"24",height:"18",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M13.3983 43H11.9842L14.8319 35H16.4217L19.2694 43H17.8553L15.6561 36.5469H15.5936L13.3983 43ZM13.5272 39.8672H17.7147V40.9531H13.5272V39.8672ZM22.7736 45.375C22.2814 45.375 21.8582 45.3099 21.5041 45.1797C21.1525 45.0495 20.8673 44.875 20.6486 44.6563C20.4298 44.4375 20.2723 44.1979 20.1759 43.9375L21.3127 43.5781C21.3778 43.6927 21.4676 43.8112 21.5822 43.9336C21.6968 44.056 21.8517 44.1589 22.047 44.2422C22.2423 44.3281 22.491 44.3711 22.7931 44.3711C23.215 44.3711 23.564 44.2682 23.84 44.0625C24.116 43.8594 24.2541 43.5286 24.2541 43.0703V41.9141H24.1798C24.1095 42.0521 24.0067 42.1992 23.8713 42.3555C23.7358 42.5091 23.5535 42.6406 23.3244 42.75C23.0952 42.8568 22.8035 42.9102 22.4494 42.9102C21.9832 42.9102 21.5614 42.8008 21.1838 42.582C20.8088 42.3607 20.5106 42.0326 20.2892 41.5977C20.0679 41.1628 19.9572 40.6224 19.9572 39.9766C19.9572 39.3307 20.0666 38.7799 20.2853 38.3242C20.5041 37.8685 20.8022 37.5208 21.1798 37.2812C21.5574 37.0417 21.9832 36.9219 22.4572 36.9219C22.8192 36.9219 23.1134 36.9831 23.34 37.1055C23.5692 37.2253 23.7502 37.3685 23.883 37.5352C24.0158 37.6992 24.1173 37.8477 24.1877 37.9805H24.2658V37H25.5353V43.1172C25.5353 43.6302 25.4142 44.0534 25.172 44.3867C24.9324 44.7201 24.6043 44.9674 24.1877 45.1289C23.771 45.293 23.2996 45.375 22.7736 45.375ZM22.7775 41.8711C23.0952 41.8711 23.3647 41.7956 23.5861 41.6445C23.8074 41.4935 23.9754 41.276 24.09 40.9922C24.2072 40.7057 24.2658 40.3646 24.2658 39.9687C24.2658 39.5755 24.2085 39.2318 24.0939 38.9375C23.9793 38.6432 23.8114 38.4141 23.59 38.25C23.3686 38.0833 23.0978 38 22.7775 38C22.4442 38 22.1655 38.0859 21.9416 38.2578C21.7176 38.4297 21.5496 38.6641 21.4377 38.9609C21.3257 39.2578 21.2697 39.5937 21.2697 39.9687C21.2697 40.349 21.327 40.6823 21.4416 40.9687C21.5561 41.2526 21.7241 41.474 21.9455 41.6328C22.1694 41.7917 22.4468 41.8711 22.7775 41.8711Z",fill:"#FF99E0"}),(0,i.jsx)("path",{d:"M44 33.5C40.6863 33.5 38 36.1863 38 39.5C38 42.8137 40.6863 45.5 44 45.5C47.3137 45.5 50 42.8137 50 39.5C50 36.1863 47.3137 33.5 44 33.5ZM47.8721 36.335C48.5775 37.1969 49 38.2993 49 39.5C49 42.2614 46.7614 44.5 44 44.5C42.7994 44.5 41.6979 44.0764 40.8359 43.3711L47.8721 36.335ZM44 34.5C45.2007 34.5 46.3031 34.9225 47.165 35.6279L40.1289 42.6641C39.4236 41.8021 39 40.7006 39 39.5C39 36.7386 41.2386 34.5 44 34.5Z",fill:"white"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_9897_16676",x:"-1",y:"2.5",width:"61",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16676"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16676",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_9897_16676",x:"-1",y:"24.5",width:"61",height:"34",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_9897_16676"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_9897_16676",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_9897_16676",children:(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function np(){return(0,i.jsxs)("svg",{width:"56",height:"57",viewBox:"0 0 56 57",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_10049_1824)",children:[(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"#BDE3FF"}),(0,i.jsxs)("g",{filter:"url(#filter0_d_10049_1824)",children:[(0,i.jsx)("rect",{x:"8",y:"8.5",width:"40",height:"40",rx:"3",fill:"white",shapeRendering:"crispEdges"}),(0,i.jsx)("path",{d:"M26 16C26 15.1716 26.6716 14.5 27.5 14.5H41.5C42.3284 14.5 43 15.1716 43 16C43 16.8284 42.3284 17.5 41.5 17.5H27.5C26.6716 17.5 26 16.8284 26 16Z",fill:"#BDE3FF"}),(0,i.jsx)("path",{d:"M26 29C26 28.1716 26.6716 27.5 27.5 27.5H41.5C42.3284 27.5 43 28.1716 43 29C43 29.8284 42.3284 30.5 41.5 30.5H27.5C26.6716 30.5 26 29.8284 26 29Z",fill:"#BDE3FF"}),(0,i.jsx)("path",{d:"M26 40C26 39.1716 26.6716 38.5 27.5 38.5H41.5C42.3284 38.5 43 39.1716 43 40C43 40.8284 42.3284 41.5 41.5 41.5H27.5C26.6716 41.5 26 40.8284 26 40Z",fill:"#BDE3FF"}),(0,i.jsx)("path",{d:"M14.9375 16.4902C15.248 16.4904 15.4999 16.7423 15.5 17.0527C15.4999 17.3632 15.2479 17.615 14.9375 17.6152C14.6273 17.615 14.3755 17.3638 14.375 17.0537C14.375 16.7431 14.6269 16.4904 14.9375 16.4902Z",fill:"#0D99FF"}),(0,i.jsx)("path",{d:"M19.0625 15.375C19.3731 15.3751 19.625 15.6279 19.625 15.9385C19.6245 16.2485 19.3726 16.4998 19.0625 16.5C18.7521 16.4997 18.5 16.248 18.5 15.9375C18.5 15.6269 18.752 15.3751 19.0625 15.375Z",fill:"#0D99FF"}),(0,i.jsx)("path",{d:"M15.3125 14.25C15.6231 14.2501 15.875 14.5019 15.875 14.8125C15.875 15.1231 15.6231 15.3749 15.3125 15.375C15.0019 15.3749 14.75 15.1231 14.75 14.8125C14.75 14.5019 15.0019 14.2501 15.3125 14.25Z",fill:"#0D99FF"}),(0,i.jsx)("path",{d:"M17.5625 13.876C17.8731 13.876 18.125 14.1269 18.125 14.4375C18.1249 14.7481 17.8731 15 17.5625 15C17.2519 14.9999 17.0001 14.7481 17 14.4375C17 14.1269 17.2519 13.876 17.5625 13.876Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17 12C19.4853 12 21.5 14.0147 21.5 16.5C21.5 16.728 21.4833 16.9525 21.4502 17.1719C21.2884 18.2437 20.2918 18.75 19.4551 18.75H17.75C17.75 19.366 17.4927 19.9576 17.0518 20.3467C16.5911 20.753 15.924 20.932 15.2471 20.6455C13.634 19.9627 12.5 18.3647 12.5 16.5C12.5 14.0147 14.5147 12 17 12ZM17 12.75C14.9289 12.75 13.25 14.4289 13.25 16.5C13.25 18.0529 14.1937 19.3855 15.5391 19.9551C16.302 20.278 17 19.5784 17 18.75C17 18.3358 17.3358 18 17.75 18H19.4551C20.0512 18 20.6191 17.649 20.708 17.0596C20.7355 16.877 20.75 16.6902 20.75 16.5C20.75 14.4289 19.0711 12.75 17 12.75Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.498 27.1146C19.739 27.1146 19.935 27.1552 20.0859 27.2367C20.2387 27.3165 20.3597 27.4127 20.4482 27.5238C20.5367 27.633 20.6045 27.7322 20.6514 27.8206H20.7031V27.1663H21.5498V31.2445C21.5498 31.5865 21.469 31.8689 21.3076 32.0911C21.1479 32.3134 20.9291 32.4786 20.6514 32.5863C20.3737 32.6956 20.0595 32.7503 19.709 32.7503C19.3809 32.7503 19.0984 32.7063 18.8623 32.6195C18.628 32.5327 18.4378 32.4166 18.292 32.2708C18.1462 32.125 18.0408 31.965 17.9766 31.7913L18.7344 31.5521C18.7778 31.6285 18.8377 31.7078 18.9141 31.7894C18.9904 31.871 19.0944 31.9389 19.2246 31.9945C19.3548 32.0517 19.5204 32.0804 19.7217 32.0804C20.0029 32.0804 20.2359 32.0125 20.4199 31.8753C20.6039 31.7399 20.6953 31.5187 20.6953 31.2132V30.4427H20.6465C20.5996 30.5347 20.5306 30.6326 20.4404 30.7367C20.3502 30.839 20.2288 30.9274 20.0762 31.0003C19.9234 31.0715 19.7283 31.1068 19.4922 31.1068C19.1815 31.1067 18.9001 31.0338 18.6484 30.888C18.3986 30.7405 18.2003 30.5216 18.0527 30.2318C17.9052 29.9418 17.8311 29.5813 17.8311 29.1507C17.8311 28.7203 17.904 28.3529 18.0498 28.0492C18.1956 27.7455 18.3948 27.5135 18.6465 27.3538C18.8981 27.1943 19.1823 27.1146 19.498 27.1146ZM19.7109 27.8333C19.4889 27.8334 19.3035 27.8908 19.1543 28.0052C19.005 28.1198 18.893 28.2761 18.8184 28.474C18.7437 28.6719 18.7061 28.8958 18.7061 29.1458C18.7061 29.3993 18.7439 29.6219 18.8203 29.8128C18.8967 30.0019 19.0088 30.1494 19.1562 30.2552C19.3055 30.3611 19.4905 30.4144 19.7109 30.4144C19.9227 30.4144 20.1025 30.3637 20.25 30.263C20.3975 30.1624 20.5096 30.0175 20.5859 29.8285C20.6641 29.6375 20.7031 29.4097 20.7031 29.1458C20.7031 28.8837 20.6652 28.6545 20.5889 28.4583C20.5125 28.2623 20.4004 28.1097 20.2529 28.0003C20.1054 27.8892 19.9245 27.8333 19.7109 27.8333Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.3721 31.1663H16.4297L15.9648 29.8021H13.9219L13.458 31.1663H12.5156L14.4141 25.8333H15.4736L17.3721 31.1663ZM14.1689 29.0785H15.7178L14.9639 26.8646H14.9219L14.1689 29.0785Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8379 42.748C16.0439 42.7685 16.2274 42.6181 16.248 42.4121L16.2891 42H17.4111L17.377 42.3379C17.3565 42.5439 17.5069 42.7274 17.7129 42.748C17.9189 42.7685 18.1024 42.6181 18.123 42.4121L18.1641 42H18.875C19.0821 42 19.25 41.8321 19.25 41.625C19.25 41.4179 19.0821 41.25 18.875 41.25H18.2393L18.3896 39.75H18.875C19.0821 39.75 19.25 39.5821 19.25 39.375C19.25 39.1679 19.0821 39 18.875 39H18.4639L18.498 38.6621C18.5185 38.4561 18.3681 38.2726 18.1621 38.252C17.9561 38.2315 17.7726 38.3819 17.752 38.5879L17.7109 39H16.5889L16.623 38.6621C16.6435 38.4561 16.4931 38.2726 16.2871 38.252C16.0811 38.2315 15.8976 38.3819 15.877 38.5879L15.8359 39H15.125C14.9179 39 14.75 39.1679 14.75 39.375C14.75 39.5821 14.9179 39.75 15.125 39.75H15.7607L15.6104 41.25H15.125C14.9179 41.25 14.75 41.4179 14.75 41.625C14.75 41.8321 14.9179 42 15.125 42H15.5361L15.502 42.3379C15.4815 42.5439 15.6319 42.7274 15.8379 42.748ZM16.3643 41.25L16.5146 39.75H17.6357L17.4854 41.25H16.3643Z",fill:"#0D99FF"}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.625 44.25C20.2463 44.2499 20.75 43.7463 20.75 43.125V37.875C20.75 37.2537 20.2463 36.7501 19.625 36.75H14.375C13.7537 36.75 13.25 37.2537 13.25 37.875V43.125C13.25 43.7463 13.7537 44.25 14.375 44.25H19.625ZM14.375 43.5C14.1679 43.5 14 43.3321 14 43.125V37.875C14 37.6679 14.1679 37.5 14.375 37.5H19.625C19.832 37.5001 20 37.6679 20 37.875V43.125C20 43.3321 19.832 43.4999 19.625 43.5H14.375Z",fill:"#0D99FF"})]})]}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_10049_1824",x:"0",y:"2.5",width:"56",height:"56",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"multiply",in2:"BackgroundImageFix",result:"effect1_dropShadow_10049_1824"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10049_1824",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_10049_1824",children:(0,i.jsx)("path",{d:"M0 5.5C0 2.73858 2.23858 0.5 5 0.5H51C53.7614 0.5 56 2.73858 56 5.5V51.5C56 54.2614 53.7614 56.5 51 56.5H5C2.23858 56.5 0 54.2614 0 51.5V5.5Z",fill:"white"})})]})]})}function nm(){return(0,i.jsxs)("svg",{width:"288",height:"173",viewBox:"0 0 288 173",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_10088_1793)",children:[(0,i.jsx)("rect",{y:"0.5",width:"288",height:"172",rx:"5",fill:"#F5F5F5"}),(0,i.jsx)("g",{filter:"url(#filter0_d_10088_1793)",children:(0,i.jsx)("rect",{x:"50",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("g",{filter:"url(#filter1_d_10088_1793)",children:(0,i.jsx)("rect",{x:"-22",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("g",{filter:"url(#filter2_d_10088_1793)",children:(0,i.jsx)("rect",{x:"122",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("rect",{x:"121.5",y:"25.5",width:"57",height:"120",stroke:"#0D99FF"}),(0,i.jsx)("rect",{x:"118.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"118.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"174.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"174.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("g",{filter:"url(#filter3_d_10088_1793)",children:(0,i.jsx)("rect",{x:"194",y:"26",width:"56",height:"120",rx:"4",fill:"#D9D9D9"})}),(0,i.jsx)("rect",{x:"193.5",y:"25.5",width:"57",height:"120",stroke:"#0D99FF"}),(0,i.jsx)("rect",{x:"190.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"190.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"246.5",y:"22.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("rect",{x:"246.5",y:"141.5",width:"7",height:"7",fill:"white",stroke:"#0D99FF",strokeLinecap:"square"}),(0,i.jsx)("g",{filter:"url(#filter4_d_10088_1793)",children:(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M237.409 97.4091C238.033 96.7852 238.964 96.5835 239.79 96.8933L256.29 103.081C257.212 103.427 257.802 104.332 257.746 105.316C257.69 106.299 257.001 107.131 256.046 107.37L249.105 109.105L247.37 116.046C247.131 117.001 246.299 117.69 245.316 117.746C244.332 117.802 243.427 117.212 243.081 116.29L236.893 99.7901C236.584 98.9639 236.785 98.033 237.409 97.4091Z",fill:"white"})}),(0,i.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M239.263 98.2978C238.988 98.1945 238.678 98.2617 238.47 98.4697C238.262 98.6777 238.195 98.988 238.298 99.2634L244.485 115.763C244.601 116.071 244.902 116.267 245.23 116.249C245.558 116.23 245.835 116 245.915 115.682L247.868 107.868L255.682 105.915C256 105.835 256.23 105.558 256.249 105.23C256.267 104.902 256.071 104.601 255.763 104.485L239.263 98.2978Z",fill:"black"})]}),(0,i.jsx)("rect",{x:"0.5",y:"1",width:"287",height:"171",rx:"4.5",stroke:"#E6E6E6"}),(0,i.jsxs)("defs",{children:[(0,i.jsxs)("filter",{id:"filter0_d_10088_1793",x:"42",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter1_d_10088_1793",x:"-30",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter2_d_10088_1793",x:"114",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter3_d_10088_1793",x:"186",y:"20",width:"72",height:"136",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"2"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"4"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.1 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsxs)("filter",{id:"filter4_d_10088_1793",x:"232.25",y:"93.75",width:"30.0001",height:"30.0001",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dy:"1.5"}),(0,i.jsx)("feGaussianBlur",{stdDeviation:"2.25"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_10088_1793"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_10088_1793",result:"shape"})]}),(0,i.jsx)("clipPath",{id:"clip0_10088_1793",children:(0,i.jsx)("rect",{y:"0.5",width:"288",height:"172",rx:"5",fill:"white"})})]})]})}function nh(){return(0,i.jsxs)("svg",{width:"96",height:"96",viewBox:"0 0 96 96",fill:"none",children:[(0,i.jsx)("path",{d:"M48 2C73.4051 2 94 22.5949 94 48C94 73.4051 73.4051 94 48 94C22.5949 94 2 73.4051 2 48C2 22.5949 22.5949 2 48 2Z",stroke:"var(--color-icon-handoff, #009951)",strokeWidth:"4"}),(0,i.jsx)("path",{d:"M36.3359 60.8906C36.9487 59.9717 38.1904 59.7233 39.1094 60.3359C40.0282 60.9487 40.2766 62.1904 39.6641 63.1094L31.6641 75.1094C31.3318 75.6078 30.7933 75.9311 30.1973 75.9902C29.6011 76.0493 29.0096 75.8377 28.5859 75.4141L24.5859 71.4141C23.8049 70.633 23.8049 69.367 24.5859 68.5859C25.367 67.8051 26.6331 67.8049 27.4141 68.5859L29.6885 70.8604L36.3359 60.8906ZM70 68C71.1044 68.0002 72 68.8955 72 70C72 71.1045 71.1044 71.9998 70 72H46C44.8954 72 44 71.1046 44 70C44 68.8954 44.8954 68 46 68H70ZM36.3359 40.8906C36.9487 39.9717 38.1904 39.7233 39.1094 40.3359C40.0281 40.9487 40.2766 42.1905 39.6641 43.1094L31.6641 55.1094C31.3318 55.6078 30.7933 55.931 30.1973 55.9902C29.6011 56.0493 29.0096 55.8376 28.5859 55.4141L24.5859 51.4141C23.8049 50.633 23.8049 49.367 24.5859 48.5859C25.367 47.8051 26.6331 47.8049 27.4141 48.5859L29.6885 50.8604L36.3359 40.8906ZM70 48C71.1044 48.0002 72 48.8956 72 50C71.9999 51.1044 71.1043 51.9998 70 52H46C44.8955 52 44.0001 51.1045 44 50C44 48.8954 44.8954 48 46 48H70ZM36.3359 20.8906C36.9487 19.9717 38.1904 19.7233 39.1094 20.3359C40.0282 20.9487 40.2766 22.1904 39.6641 23.1094L31.6641 35.1094C31.3318 35.6078 30.7933 35.9311 30.1973 35.9902C29.6011 36.0493 29.0096 35.8377 28.5859 35.4141L24.5859 31.4141C23.8049 30.633 23.8049 29.367 24.5859 28.5859C25.367 27.8051 26.6331 27.8049 27.4141 28.5859L29.6885 30.8604L36.3359 20.8906ZM70 28C71.1044 28.0002 72 28.8955 72 30C72 31.1045 71.1044 31.9998 70 32H46C44.8954 32 44 31.1046 44 30C44 28.8954 44.8954 28 46 28H70Z",fill:"var(--color-icon-handoff, #009951)"})]})}let nf="design-linter-landing-page";function ng(){let{hasNoSelectedNodes:e,doesExceedLimit:t}=n_(),n=(0,t8.Hl)(),r=(0,T.md)(nu._M),l=(0,tm.f)("seen_linter_home_view"),[a,o]=s.useState(!1),d=(0,nn.am)(),[u,x]=s.useState(()=>r===ns.FR.LANDING_PAGE_NO_SELECTION?"noNodesSelected":r===ns.FR.LANDING_PAGE_LIMIT_EXCEEDED?"layerLimitExceeded":"welcome"),c="welcome"===u,{isButtonDisabled:p,shouldShowLayerCount:h}={isButtonDisabled:s.useMemo(()=>{let n=e||t;return("noNodesSelected"===u||"layerLimitExceeded"===u)&&n},[u,e,t]),shouldShowLayerCount:s.useMemo(()=>{let e="noNodesSelected"===u,n=t||a;return"layerLimitExceeded"===u||e&&n},[u,t,a])},f=s.useCallback(()=>!!d&&(0===d.getDirectlySelectedNodes().length?(x("noNodesSelected"),!1):!t||(x("layerLimitExceeded"),!1)),[t,d]),g=s.useCallback(()=>{f()&&(0,nd._)()},[f]);return(s.useEffect(()=>{h&&!a&&o(!0)},[h,a]),s.useEffect(()=>{l&&c&&g()},[l,c,g]),l&&c)?null:(0,i.jsx)(t6.bL,{width:360,onClose:({source:e})=>{"outside"!==e&&n(ns.FR.LANDING_PAGE_WELCOME)},defaultPosition:{x:56,y:70},children:(0,i.jsxs)(Q.vo,{children:[(0,i.jsx)(Q.Y9,{children:(0,i.jsx)(Q.hE,{children:(0,i.jsxs)("div",{className:"x78zum5 x167g77z x6s0dn4",children:[(0,m.tx)("design_linter.title"),(0,i.jsx)(na.E,{children:(0,m.tx)("general.beta")})]})})}),(0,i.jsxs)(Q.nB,{padding:0,children:[c&&(0,i.jsx)(nk,{}),"noNodesSelected"===u&&(0,i.jsx)(nb,{}),"layerLimitExceeded"===u&&(0,i.jsx)(nC,{})]}),(0,i.jsx)(Q.wi,{children:h?(0,i.jsxs)("div",{className:"x78zum5 x1q0g3np x1qughib x6s0dn4 xh8yej3",children:[h&&(0,i.jsx)(nv,{}),(0,i.jsx)(ny,{onContinue:g,step:u,hasNoSelectedNodes:e,doesExceedLimit:t,isButtonDisabled:p})]}):(0,i.jsx)(Q.jk,{children:(0,i.jsx)(ny,{onContinue:g,step:u,hasNoSelectedNodes:e,doesExceedLimit:t,isButtonDisabled:p})})})]})})}function ny({onContinue:e,step:t,hasNoSelectedNodes:n,doesExceedLimit:s,isButtonDisabled:r}){return(0,i.jsx)(t9.$n,{recordingKey:nr.Pt(nf,"continue-button"),"data-testid":`${nf}-continue-button`,onClick:e,htmlAttributes:{"data-tooltip":function({step:e,hasNoSelectedNodes:t,doesExceedLimit:n}){return"welcome"===e?"":t?(0,m.t)("design_linter.landing_page.no_nodes_selected.button_tooltip"):n?(0,m.t)("design_linter.landing_page.layer_limit_exceeded.title"):""}({step:t,hasNoSelectedNodes:n,doesExceedLimit:s}),"data-tooltip-type":nl.Ib.TEXT},disabled:r,children:(0,m.tx)("general.continue")})}function nk(){let e=!!(0,o.kc)().aip_flower_garden_text_bg_aa,t=!!(0,o.kc)().aip_flower_garden_library_match;return(0,i.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x9f619 x1665zp3","data-testid":`${nf}-welcome`,children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid",children:[(0,i.jsx)("div",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u x4l9tsp x2b8uid",children:(0,m.tx)("design_linter.landing_page.title")}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 xj7an9n x2b8uid x78zum5 x6s0dn4 x1jnr06f xkh2ocl",children:(0,m.tx)("design_linter.landing_page.subheader")})]}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xou54vl",children:[(0,i.jsx)(nE,{headerText:(0,m.t)("design_linter.landing_page.feature_tokens_header"),subheaderText:(0,m.t)("design_linter.landing_page.feature_tokens_subheader"),children:(0,i.jsx)(np,{})}),e&&(0,i.jsx)(nE,{headerText:(0,m.t)("design_linter.landing_page.feature_contrast_header"),subheaderText:(0,m.t)("design_linter.landing_page.feature_contrast_subheader"),children:(0,i.jsx)(nc,{})}),t&&(0,i.jsx)(nE,{headerText:(0,m.t)("design_linter.landing_page.feature_incorrect_assets_header"),subheaderText:(0,m.t)("design_linter.landing_page.feature_incorrect_assets_subheader"),children:(0,i.jsx)(nx,{})})]})]})}let nj=(0,no.n)(()=>{let e=(0,nn.am)();return e?.layerLimit??nn.W3});function n_(){let{layerCount:e,didExceedCountMax:t}=function(){let e=1.5*nj();return(0,tn.Fk)(t=>{let n=t.getDirectlySelectedNodes(),i=0,s=!1;for(let t of n){if(s)break;(0,ni.eA)(t,()=>{if((i+=1)>=e)return s=!0,"stop"})}return{layerCount:i,didExceedCountMax:s}})}(),n=nj(),i=t||e>n,s=0===e;return{layerCount:e,maxLayerCount:n,hasIssue:i||s,hasNoSelectedNodes:s,doesExceedLimit:i,didExceedCountMax:t}}function nv(){let{layerCount:e,maxLayerCount:t,hasIssue:n,didExceedCountMax:s,hasNoSelectedNodes:r}=n_(),l=`${e.toLocaleString()}${s?"+":""}`,a=t.toLocaleString(),o=s?" \xb7 "+(0,m.t)("design_linter.landing_page.layer_limit_exceeded.title"):"",d=`${l} / ${a}${o}`;return r&&(d=(0,m.t)("design_linter.landing_page.no_nodes_selected.error_footer")),(0,i.jsxs)("div",{className:"x78zum5 x1vvogim xnjsko4 xl56j7k x6s0dn4 x1jnr06f xkh2ocl",children:[(0,i.jsx)("div",{children:n?(0,i.jsx)(ne.f,{style:nS}):(0,i.jsx)(nt.W,{style:nT})}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 x2b8uid x87ps6o xss6m8b",children:d})]})}function nb(){return(0,i.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x9f619","data-testid":`${nf}-no-nodes-selected`,children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid x1vvogim xnjsko4",children:[(0,i.jsx)("span",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u x4l9tsp x2b8uid",children:(0,m.tx)("design_linter.landing_page.no_nodes_selected.title")}),(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 xj7an9n x2b8uid x78zum5 x6s0dn4 x1jnr06f xkh2ocl",children:(0,m.tx)("design_linter.landing_page.no_nodes_selected.subheader")})]}),(0,i.jsx)("div",{className:"x1vvogim xnjsko4",children:(0,i.jsx)(nm,{})})]})}function nC(){return(0,i.jsxs)("div",{className:"x1xn8qrt xnjsko4 xboal0k x78zum5 xdt5ytf xl56j7k x6s0dn4 x2lah0s xkh2ocl x87ps6o x9f619","data-testid":`${nf}-layer-limit-exceeded`,children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x6s0dn4 x2b8uid x1vvogim xnjsko4",children:[(0,i.jsx)("span",{className:"xor4psk x1ncjjhx xaoa4km x2i041 x14terfx xiuzu7u x4l9tsp x2b8uid",children:(0,m.tx)("design_linter.landing_page.layer_limit_exceeded.title")}),(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4 xj7an9n x2b8uid x78zum5 x6s0dn4 x1jnr06f xkh2ocl",children:(0,m.tx)("design_linter.landing_page.layer_limit_exceeded.subheader")})]}),(0,i.jsx)("div",{className:"x1vvogim xnjsko4",children:(0,i.jsx)(nm,{})})]})}function nE({children:e,headerText:t,subheaderText:n}){return(0,i.jsxs)("div",{className:"x78zum5 xt970qd x17qtykl x6s0dn4 x1v2ro7d xkh2ocl",children:[e,(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xl56j7k x1cy8zhl x5mp9sv",children:[(0,i.jsx)("div",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l xiuzu7u",children:t}),(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xv1l7n4",children:n})]})]})}let nS={"--color-icon":"var(--color-icon-warning)"},nT={"--color-icon":"var(--color-icon-success)"};var nI=n(776111),nw=n(328341),nN=n(255145),nL=n(326985),nA=n(680692),nR=n(30520),nO=n(847964),nM=n(926653),nF=n(7718),nz=n(16969),nD=n(140948),nP=n(624155),nq=n(374794),nG=n(746309),n$=n(504474);let nB=(0,s.memo)(function(){let e=function(){let e=(0,n$.dG)(nF.s4.TEXT,null),t=(0,T.md)(t7.Ut);return(0,s.useMemo)(()=>{let n=e.libraries.filter(e=>e.numStylesText>0&&t?.has(e.libraryKey));return{...e,libraries:n}},[e,t])}();return(function({status:e,libraries:t}){let[n,i]=(0,T.fp)(t7.jq),r=(0,T.md)(t7.Ut),l=(0,T.md)(_.yV),a=function(){let e=(0,T.md)(nV);return(0,T.md)(t7.qp)?e:[]}(),o=(0,nq.je)(),{status:d,stylesByFileKey:u}=(0,n$.Zk)({styleType:nF.s4.TEXT,initialSelectedSubscribedStyle:null,selectedLibraries:t}),x=(0,s.useMemo)(()=>{if("loading"===e||"loading"===d||"loading"===o.status||void 0===r)return{status:"loading",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if((0,nI.PN)())return{status:"loaded",subscribedStylesByFileKey:{},allStyles:[],localStyles:null};if("stale"===n.status||"loaded"===d){let e=Object.entries(u).reduce((e,[t,n])=>(r?.has(n.libraryKey)&&(e[t]=n),e),{}),t=Object.values(e).flatMap(e=>e.styles),n=null;a.length>0&&l?.key&&l?.libraryKey&&(n={fileKey:l.key,styles:a,libraryKey:(0,nM.l)(l.libraryKey)},t.push(...a));let i={subscribedStylesByFileKey:e,allStyles:t,localStyles:n},s=o.data?.filter(e=>r.has(e.libraryKey)).filter(e=>e.numStylesText>0||e.fileKey===nz.UN).map(e=>e.libraryKey)??[],d=new Set(Object.values(e).map(e=>e.libraryKey));return s.every(e=>d.has(e))?{status:"loaded",...i}:{status:"loading",...i}}return n},[d,e,n,u,a,r,l?.key,l?.libraryKey,o.data,o.status]);(0,s.useEffect)(()=>{(x.status!==n.status||x.allStyles.length!==n.allStyles.length)&&i(x)},[x,n,i])}(e),e.libraries.length)?(0,i.jsx)(nG.MM,{inheritStyleKey:null,inheritStyleID:null,styleType:nF.s4.TEXT,selectedLibraries:e.libraries}):null}),nV=(0,nD.bt)(e=>(0,nP.ti)(e.library.local.styles,nF.s4.TEXT));var nH=n(98173),nU=n(285466),nK=n(550527),nW=n.n(nK),nZ=n(361170),nX=n(681958),nY=n(347900),nQ=n(91832),nJ=n(419822),n0=n(170627),n1=n(354114);function n2({title:e,getItems:t,getItemName:n}){let[i,r]=(0,s.useState)(!1),l=(0,s.useCallback)(async()=>{i||(r(!0),await s());async function s(){try{let i;let s=[];(0,n0.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{let t=(0,et.getActiveTSSceneGraph)(),n=t.getCurrentPage();(i=t.createNode("SECTION")).fills=[{type:"SOLID",color:{r:.9,g:.9,b:.9,a:0},opacity:1}],i.name=e;let s=0;for(let e of n?.childrenNodes??[])e.x+e.size.x>s&&(s=e.x+e.size.x);i.x=s+100,i.y=0});let r=0,l=40,o=t();for(let[e,[t,d]]of Array.from(o.entries()).entries()){let o;(0,n0.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{let a=(0,et.getActiveTSSceneGraph)();if(e>0){let e=a.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.3,g:.3,b:.3,a:1},opacity:1}],e.size={x:r,y:12},e.y=l+40,e.x=40,i.appendChild(e),l+=e.size.y+80,s.push(e.guid)}(o=a.createNode("FRAME")).visible=!1,o.name=n(t),o.x=40,o.y=l,o.fills=[{type:"SOLID",color:{r:.7,g:.7,b:.7,a:1},opacity:1}],o.stackMode="HORIZONTAL",o.stackSpacing=40,o.stackCounterSizing="RESIZE_TO_FIT_WITH_IMPLICIT_SIZE",o.stackTopPadding=40,o.stackBottomPadding=40,o.stackLeftPadding=40,o.stackRightPadding=40,o.frameMaskDisabled=!0});let u=0,x=0,c=0;for(let[e,t]of d.entries())await new Promise(e=>setTimeout(e,0)),(0,n0.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{let n;let s=(0,et.getActiveTSSceneGraph)(),r=s.get(t);if(!r)return;if("DOCUMENT"===r.type)n=s.createNode("FRAME").guid;else{if("CANVAS"===r.type)return;n=r.clone()}if(e>0){let e=s.createNode("RECTANGLE");e.fills=[{type:"SOLID",color:{r:.6,g:.2,b:.6,a:1},opacity:1}],e.size={x:4,y:x+40},e.y=40,e.x=u,o.appendChild(e),u+=e.size.x+40}let a=s.get(n);a&&(a.y=40,a.x=u,a.stackPositioning="AUTO",u+=a.size.x+40,x=Math.max(x,a.size.y),c=Math.max(c,a.size.x),"SECTION"===r.type?(i.appendChild(a),a.y=l):o.appendChild(a))});r=Math.max(r,u),l=l+x+120,(0,n0.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{if(i.size={x:r+40,y:l},0===o.childCount){o.removeSelfAndChildren();return}o.size={x:u,y:x+40},i.appendChild(o),o.visible=!0})}let d=(0,et.getActiveTSSceneGraph)().getCurrentPage();(0,n0.l7)(a.zkO.USER,"debug-linter-visual-groups",()=>{i&&(d?.appendChild(i),function(e,t){let n=(0,et.getActiveTSSceneGraph)();for(let i of e){let e=n.get(i);e&&(e.size={x:t,y:e.size.y})}}(s,i.size.x-80),a.Egt?.replaceSelection([i.guid],!0),n1.Y5.triggerAction("goto-layer",{args:{nodeId:i.guid}}))})}catch(e){console.error(e)}finally{r(!1)}}},[i,t,n,e]);return{isRunning:i,handleClick:l}}function n3(){let e=(0,T.md)(nu.Bd),{isRunning:t,handleClick:n}=n2({title:"Visual groups",getItems:(0,s.useCallback)(()=>{let t=new Map;return e.forEach(e=>{let n=`${e.id} | ${e.type}`;t.set(n,Array.from(e.rootNodeDevIdToViolatingNodeDevIdSet.keys()))}),t},[e]),getItemName:(0,s.useCallback)(t=>{let n=e.find(e=>`${e.id} | ${e.type}`===t);if(!n)return t;let i=(0,et.getActiveTSSceneGraph)(),s=Array.from(n.rootNodeDevIdToViolatingNodeDevIdSet.keys()).map(e=>{let t=i.getFromDeveloperFriendlyId?.(e);return t&&void 0!==t.visualGroupHash?t.visualGroupHash:"n/a"}).filter(Boolean).join(", ");return`${t} (Hash: ${s})`},[e])});return(0,i.jsx)("div",{className:"xz9dl7a",children:(0,i.jsx)(t9.$n,{disabled:t,onClick:n,iconPrefix:t?(0,i.jsx)(nJ.k,{}):void 0,children:"Inspect groups"})})}function n5(){let e=function(){let e=(0,T.md)(t7.fY);return(0,s.useMemo)(()=>(0,nQ.RG)(e?.devIds??[]),[e])}(),{isRunning:t,handleClick:n}=n2({title:"Visual Hashes",getItems:(0,s.useCallback)(()=>(function(e){let t=new Map,n=(0,et.getActiveTSSceneGraph)();return e.forEach(e=>{let i=n.get(e);i&&(0,nX.hV)(i,e=>{let n=String(a.mHF?.getVisualGroupFieldsHash(e.guid)??0),i=t.get(n)??[];t.set(n,[...i,e.guid])})}),t})(e),[e]),getItemName:(0,s.useCallback)(e=>`Hash: ${e}`,[])});return(0,i.jsx)("div",{className:"xz9dl7a",children:(0,i.jsx)(t9.$n,{disabled:t,onClick:n,iconPrefix:t?(0,i.jsx)(nJ.k,{}):void 0,children:"Inspect Vis. G Field Hashes"})})}var n4=n(368422),n7=n(684742),n8=n(350019),n6=n(848561),n9=n(772963),ie=n(894087),it=n(567325),ii=n(748703),is=n(445306),ir=n(106271),il=n(353038),ia=n(303647),io=n(325721),id=n(205917),iu=n(13073);function ix({resolvedValue:e}){return"MIXED"!==e&&e&&e.resolvedType===a.rXF.FLOAT?(0,i.jsx)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x1jnr06f x2lah0s xthy2uy xb3r6kr xy13l1i",children:(0,i.jsx)("span",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xb3r6kr xlyipyv xuxw1ft xeuugli x1n0bwc9",children:(0,iu.Oi)(e)})}):null}let ic={LIST:32,TEXT_STYLE_LIST:32,LIST_SEPARATOR:16,LIST_SECTION_HEADER:32,LIST_HIERARCHY_PATH:32,SUGGESTED_HEADER:32};function ip(e){return ic[e?.type]??32}function im(e,t,n){let i=t[e??-1]??null;if(!i||!("variable"in i))return null;let s=t.slice(0,e??void 0).filter(e=>"LIST"===e.type&&"variable"in e).length,r=i.variable,l=r.subscriptionStatus;return{assetKey:"LOCAL"===l?r.keyForPublish.toString():r.key.toString(),libraryKey:"LOCAL"===l?n:r.library_key,collectionKey:r.variableSetId,assetId:r.node_id,isFromSuggestedList:i.isSuggestion,rankPosition:s}}function ih(e,t){let n=t[e??-1]??null;if(!n||!("style"in n))return null;let i=t.slice(0,e??void 0).filter(e=>"TEXT_STYLE_LIST"===e.type).length,s=n.style,r=s.key.toString();return{assetKey:r,libraryKey:s.library_key,collectionKey:null,assetId:r,isFromSuggestedList:n.isSuggestion,rankPosition:i}}function ig(){return(0,T.md)(ia.aW)?(0,i.jsx)(iy,{}):null}function iy(){let[e,t]=(0,s.useState)(""),[n,r]=(0,s.useState)(""),l=(0,T.md)(ia.uw),a=(0,T.md)(ia.iO)??{title:"",blockType:null,suggestionId:null,items:[]},o=(0,io.sf)(),d=l?.current?.getBoundingClientRect()??{x:0,y:0,width:0,height:0},u=(0,T.md)(nu.$H),x=(0,T.md)(nu.r4),c=(0,T.md)(ia.rg),p=(0,T.md)(ia.jV),h=(0,s.useMemo)(()=>({x:x&&u?x.x+u.x:d.x+d.width,y:d.y}),[d.y,d.x,d.width,x,u]),f=(0,s.useMemo)(()=>nW()(e=>{r(e)},150),[]);(0,s.useEffect)(()=>(f(e),()=>{f.cancel()}),[f,e]);let g=(0,m.t)("design_linter.dropdown.search_placeholder"),y=(0,s.useRef)(null),{maxHeight:k,listHeight:j}=function(e){if(0===e.length){let e=(0,ir.Ih)({layout:"list"});return{maxHeight:72+e,listHeight:e}}let t=Math.min(e.reduce((e,t)=>e+ip(t),0)+12,336);return{maxHeight:Math.min(72+t,408),listHeight:t}}((0,io.bV)(a.items,n));return(0,s.useEffect)(()=>{y.current&&y.current.focus()},[]),(0,i.jsx)(t6.bL,{width:260,maxHeight:k,onClose:o,defaultPosition:h,children:(0,i.jsx)(Q.vo,{children:(0,i.jsxs)(Q.nB,{scrolling:"manual",padding:0,children:[(0,i.jsx)("div",{className:"x1iorvi4 xjkvuk6 xnm25rq",children:(0,i.jsx)("div",{className:"x87ps6o x10w6t97 xfp4ol3 xiuzu7u x78zum5 xdt5ytf xl56j7k xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:a.title})}),(0,i.jsx)("div",{className:"x10w6t97 xnuq7ks xf18ygs xwib8y2 x9f619 xso031l x1q0q8m5 xw8gpjh",children:(0,i.jsx)(n4.p,{size:"md",placeholder:g,ref:y,id:g,value:e,onChange:e=>t(e)})}),(0,i.jsx)(ik,{blockId:a.blockType,suggestionId:a.suggestionId,items:a.items,searchQuery:n,listHeight:j,onSelection:c,checkIsSelected:p})]})})})}function ik({blockId:e,suggestionId:t,items:n,searchQuery:r,listHeight:l,onSelection:a,checkIsSelected:o}){let d="design-linter-dropdown",u=(0,s.useRef)(null),[x,c]=(0,s.useState)(null),[p,h]=(0,s.useState)(null),f=(0,T.Xr)(nO.dd),g=(0,s.useCallback)(e=>{c(e)},[c]),y=(0,s.useCallback)(e=>{x===e&&c(null)},[x,c]),k=(0,io.sf)(),j=(0,T.md)(_.ze),v=(0,s.useCallback)(({newSelectedAssetInfo:e,prevSelectedAssetInfo:t})=>{let n=e.assetId;a&&(f({selectedNewValue:e.assetKey!==t?.assetKey,hadSearchTerm:r.length>0,newSelectedAssetInfo:e,prevSelectedAssetInfo:t}),a({id:n,rankPosition:e.rankPosition,isFromSuggestedList:e.isFromSuggestedList}))},[a,r,f]),b=(0,io.bV)(n,r),C=0===b.length,E=(0,n8.Te)({count:b.length,getScrollElement:()=>u.current,estimateSize:e=>ip(b[e]),getItemKey:e=>{var t;return"variable"in(t=b[e])?`variable-${t.variable.node_id}-${e}`:"style"in t?`style-${t.style.node_id}-${e}`:`${t.type}-${e}`},overscan:10});(0,s.useEffect)(()=>{if(!o)return;let e=b.findIndex(e=>o(e))??-1;e>=0&&(E.scrollToIndex(e,{align:"center"}),h(e))},[o,b,E]);let S=(0,s.useCallback)(e=>{let t=b[e];if("variable"in t){let t=im(e,b,j);if(!t)return;v({newSelectedAssetInfo:t,prevSelectedAssetInfo:im(p,b,j)})}if("style"in t){let t=ih(e,b);if(!t)return;v({newSelectedAssetInfo:t,prevSelectedAssetInfo:ih(p,b)})}k()},[k,b,p,j,v]);return(0,id.Dm)({blockId:e,suggestionId:t,checkIsSelected:o,filteredItems:b,searchQuery:r}),(0,i.jsxs)(n6.dP,{recordingKey:d,children:[b.length>0?(0,i.jsx)("div",{ref:u,...en.Ay.props(iS.virtualScrollContainer(l)),children:(0,i.jsx)("div",{...en.Ay.props(iS.virtualListWrapper(E.getTotalSize()+12)),children:E.getVirtualItems().map(e=>{let t=b[e.index],n=[1,e.index],s=!!o&&o(t);return(0,i.jsx)("div",{...en.Ay.props(iS.virtualListItem(e.size,e.start+8)),children:(0,i.jsx)(i_,{isHighlighted:x===e.index,isSelected:s,keyboardNavigationPath:n,listItem:t,onItemHighlight:()=>{g(e.index)},onItemMouseLeave:()=>{y(e.index)},onItemSelect:()=>S(e.index),recordingKey:nr.Pt(d,`${"variable"in t?t.variable.id:e.index}`)})},e.key)})})}):null,C?(0,i.jsx)("div",{...en.Ay.props(iS.listViewEmpty((0,ir.Ih)({layout:"list"}))),children:(0,m.t)("variables.binding_ui.no_search_results")}):null]})}function ij({variable:e,resolvedValue:t,valuePreview:n,isSelected:s,onMouseMove:r,onMouseDown:l,onMouseLeave:a}){let o=(0,it.kH)(e.name);return(0,i.jsx)(n7.E,{...{0:{className:"xh8yej3 x5yr21d x1lliihq xb3r6kr"},1:{className:"xh8yej3 x5yr21d x1lliihq xb3r6kr xnj5wec"}}[!!s<<0],htmlAttributes:{onMouseMove:r,onMouseLeave:a},actionOnPointerDown:!0,onClick:l,children:(0,i.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 x167g77z xet2fuk x1db2dqx x6wrskw x9f619 x5yr21d xb3r6kr xh8yej3",children:[(0,i.jsx)(il.LO,{value:t??"MIXED",resolvedTypeFallback:e.resolvedType,disabled:!1}),(0,i.jsx)("div",{className:"x1iyjqo2 xs83m0k xeuugli xiuzu7u xb3r6kr xlyipyv xuxw1ft xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x87ps6o",children:(0,i.jsx)(n9.G,{text:o,showTooltip:ie.i.WHEN_TRUNCATED})}),n||(t&&"MIXED"!==t?(0,i.jsx)(ix,{resolvedValue:t}):null)]})})}let i_=s.memo(function({isHighlighted:e,isSelected:t,keyboardNavigationPath:n,listItem:s,onItemHighlight:r,onItemMouseLeave:l,onItemSelect:a,recordingKey:o}){let d=(0,T.md)(ia.Ue)??null;switch(s.type){case"LIST":return(0,i.jsx)("div",{...{0:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2"},1:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2 x19m3lf3"}}[!!e<<0],children:(0,i.jsx)(ij,{variable:s.variable,resolvedValue:s.resolvedValue,valuePreview:d?d(s):null,isSelected:t,onMouseMove:r,onMouseDown:a,onMouseLeave:l})});case"TEXT_STYLE_LIST":return(0,i.jsx)("div",{...{0:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2"},1:{className:"x1sxf85j xb3r6kr xet2fuk x1db2dqx x1iyjqo2 x19m3lf3"}}[!!e<<0],children:(0,i.jsx)(ii.m3,{dsStyle:s.style,additionalClassName:es.s.h24.flex.wFull.$,children:(0,i.jsx)(is.DL,{dsStyle:s.style,hideContextMenu:!0,isHighlighted:!1,isLinterItem:!0,isSelected:t,keyboardNavigationPath:n,onItemContextMenu:l,onItemHighlight:r,onItemMouseLeave:l,onItemSelect:a,recordingKey:o})})});case"LIST_SEPARATOR":return(0,i.jsx)("div",{className:"xjm9jq1 x1m4xfpy xh8yej3"});case"LIST_SECTION_HEADER":return(0,i.jsx)(is.KL,{groupName:s.name,fileName:s.fileName,secondaryText:s.secondaryText});case"LIST_HIERARCHY_PATH":return(0,i.jsx)(is.Tg,{groupName:s.label});case"SUGGESTED_HEADER":return(0,i.jsx)("div",{className:"xxk0z11 xq1n1xh x1db2dqx x1gslohp x12nagc x87ps6o x78zum5 xdt5ytf xl56j7k xv1l7n4 xxrns5j x1q8tae1 x1vg90ec x1eab18d x1yyillh",children:(0,m.t)("design_linter.dropdown.suggested")});default:return null}}),iv={kZKoxP:"x16ye13r",kVQacm:"xysyzu8",kXHlph:"",kORKVm:"",$$css:!0},ib={kZKoxP:"x16ye13r",kVAEAm:"x1n2onr6",kLKAdn:"x1y1aw1k",kGO01o:"xjkvuk6",kB7OPa:"x9f619",$$css:!0},iC={kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",kbCHJM:"xu96u03",kLqNvP:"",kt4wiu:"",kzqmXN:"xh8yej3",kZKoxP:"x16ye13r",k3aq6I:"xsqj5wx",k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",$$css:!0},iE={k1xSpc:"x78zum5",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",k8WAf4:"xt970qd",kLKAdn:"",kGO01o:"",kg3NbH:"x16r4bg1",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",kfSwDN:"x87ps6o",kZKoxP:"x16ye13r",$$css:!0},iS={virtualScrollContainer:e=>[iv,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualListWrapper:e=>[ib,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualListItem:(e,t)=>[iC,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-transform":`translateY(${t}px)`}],listViewEmpty:e=>[iE,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}]};function iT(){let e=(0,T.md)(t7.u2),t=(0,T.md)(t7.fY),n=(0,nQ.RG)(t?.devIds??[]),r=function(){let e=(0,T.md)(t7.fY),[t,n]=(0,s.useState)(0);return(0,s.useEffect)(()=>{let t=0;if(e){let n=(0,et.getActiveTSSceneGraph)();e.devIds.forEach(e=>{let i=n.getFromDeveloperFriendlyId(e);i&&(0,nX.hV)(i,()=>{t++})})}n(t)},[e]),t}(),l=(0,T.md)(nY.yd),a=(0,T.md)(t7.Iy),{status:o}=(0,T.md)(t7.v4),d=function(){let e=(0,T.md)(t7.m7);return(0,s.useMemo)(()=>Array.from(e.values()).reduce((e,t)=>e+t.size,0),[e])}(),u=function(){let e=(0,T.md)(t7.m7);return(0,s.useMemo)(()=>{let t={};for(let n of e.values())for(let e of n.values())for(let n of e){let{ruleId:e}=n;t[e]=t[e]||[],t[e].push(n)}return Object.entries(t).map(([e,t])=>({rule:e,count:t.length}))},[e])}(),x=(0,T.md)(nu._M),c=(0,T.md)(t7.Ut);return(0,i.jsxs)("div",{className:es.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Linter status:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:e}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Current linter view:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:x}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Selected libraries:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:Array.from(c??new Set).join(", ")??"None"}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Variable context status:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:o}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Linting target:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.maxW200.overflowAuto.$,children:`${n.join(",")}`}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Linting target nodes:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:r}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Lintable nodes:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:l}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Visual groups:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:a.size}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Violations:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:d}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.pb4.$,children:"Violations per rule:"}),(0,i.jsx)("ol",{children:u.map(({rule:e,count:t})=>(0,i.jsxs)("span",{className:es.s.textBodyMedium.block.$,children:[(0,i.jsx)("strong",{children:e}),": ",t]},e))})]})}function iI(e){if(!e)return"loading";let t=e.toFixed(3);return e<1e3?`${t}ms`:e<6e4?`${(e/1e3).toFixed(2)}s (${t}ms)`:`${(e/6e4).toFixed(2)}min (${t}ms)`}function iw({label:e,value:t,isHeader:n=!1}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:tk()(es.s.textHeadingSmall.mr1.$,{[es.s.textHeadingMedium.$]:n}),children:e}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:iI(t)})]})}function iN({items:e}){return(0,i.jsx)("div",{className:es.s.flex.flexColumn.overflowAuto.$,children:(0,i.jsx)("table",{children:(0,i.jsx)("tbody",{children:e.map(([e,t])=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:es.s.textBodyMedium.pr2.italic.noWrap.$,children:(0,i.jsx)("strong",{children:e})}),(0,i.jsx)("td",{className:es.s.textBodyMedium.alignLeft.$,children:iI(t)})]},e))})})})}function iL(){let e=(0,T.md)(nY.eF),t=(0,T.md)(nY.L2)??[],n=t.reduce((e,{duration:t})=>e+t,0),s=(0,T.md)(nY.rT)??new Map,r=(0,T.md)(nY.KV)??new Map,l=(0,T.md)(nY.zZ)??new Map;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.textHeadingMedium.$,children:"Overall latency info:"}),(0,i.jsxs)("div",{className:es.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,i.jsx)(iw,{label:"Time until first group:",value:e}),(0,i.jsx)(iw,{label:"Total loading time:",value:n}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Time per status:"}),(0,i.jsx)(iN,{items:t.map(({status:e,duration:t})=>[e,t])}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.pb4.$,children:"Detection time per rule:"}),(0,i.jsx)(iN,{items:Array.from(s)}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.pb4.$,children:"Avg detection time per rule per node:"}),(0,i.jsx)(iN,{items:Array.from(r)}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.pb4.$,children:"P95 detection time per rule:"}),(0,i.jsx)(iN,{items:Array.from(l).filter(([e,t])=>null!==t).map(([e,t])=>[e,t])})]})]})}function iA(){let e=(0,T.md)(nu.E$),t=e?.rootNodeDevIdToViolatingNodeDevIdSet.size,n=(0,T.md)(nY.Op),s=(0,T.md)(nY.iS),r=(0,T.md)(nY.ky);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:es.s.textHeadingSmall.italic.mt8.$,children:"For current group:"}),(0,i.jsxs)("div",{className:es.s.grid.gridTemplateColumns2.gap2.py8.$,children:[(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Group id:"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:e?.id??"none"}),(0,i.jsx)("div",{className:es.s.textHeadingSmall.mr1.$,children:"Group size (nodes):"}),(0,i.jsx)("div",{className:es.s.textBodyMedium.$,children:t}),(0,i.jsx)(iw,{label:"Fix loading time:",value:n}),(0,i.jsx)(iw,{label:"Current thumbnail loading time:",value:s}),(0,i.jsx)(iw,{label:"Suggested thumbnail loading time:",value:r})]})]})}function iR(){let e=(0,nn.am)();return(0,i.jsxs)("div",{className:es.s.flex.flexColumn.gap4.py8.w150.$,children:[(0,i.jsx)(t9.$n,{onClick:()=>{e?.debugLinterState()},children:"Copy linter state"}),(0,i.jsx)(n3,{}),(0,i.jsx)(n5,{})]})}let iO=(0,T.eU)(!1);function iM(){let e=(0,T.md)(iO),t=(0,T.md)(nu.r4);return e&&t?(0,i.jsxs)(t6._L,{defaultWidth:600,defaultHeight:500,defaultPosition:{left:(t?.x??0)+528+56,top:t?.y},onClose:({source:e})=>{"outside"!==e&&T.zl.set(iO,!1)},children:[(0,i.jsxs)(Q.vo,{children:[(0,i.jsx)(Q.Y9,{children:"Design linter debug info"}),(0,i.jsxs)(Q.nB,{children:[(0,i.jsx)(iT,{}),(0,i.jsx)(iL,{}),(0,i.jsx)(iA,{}),(0,i.jsx)(iR,{})]})]}),(0,i.jsx)(ig,{})]}):null}let iF={sidebarWidth:"var(--x5rzc0s)"};function iz(){let e=(0,t8.Hl)(),t=s.useCallback(()=>{(0,nO.Zz)("completed-close"),e(ns.FR.SELECTED_VISUAL_GROUP_VIEW)},[e]),n=(0,T.md)(t7.Xy);if([ns.Gu.PENDING,ns.Gu.ERROR].includes(n))return null;let r=n===ns.Gu.NO_VIOLATIONS;return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xh8yej3 x5yr21d","data-testid":"design-linter-container-no-violations",children:[(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf xl56j7k x6s0dn4 x1665zp3 x1iyjqo2 x2lah0s",children:[(0,i.jsx)(nh,{}),(0,i.jsxs)("div",{className:"x78zum5 xl56j7k x87ps6o xdt5ytf x6s0dn4 x1jnr06f xkh2ocl",children:[(0,i.jsx)("span",{className:"xjz7g13 xuo4v2q xjnky0o xn4joj7 x1ul8uiu",children:r?(0,m.tx)("design_linter.modal.no_violations_title"):(0,m.tx)("design_linter.modal.suggestions_completed_title")}),(0,i.jsx)("span",{className:"xuzfeq1 x8yk33q x1e00guj x18zpg43 x22v61l x1n0bwc9",children:r?(0,m.tx)("design_linter.modal.no_violations_subtitle"):(0,m.tx)("design_linter.modal.suggestions_completed_subtitle")})]})]}),(0,i.jsx)("div",{className:"xdt5ytf xuk3077 xl56j7k x78zum5 x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xy13l1i",children:(0,i.jsx)(t9.$n,{onClick:t,children:(0,m.tx)("general.close")})})]})}var iD=n(821655),iP=n(369729),iq=n(263188),iG=n(383424),i$=n(824570),iB=n(568590);let iV=(0,T.eU)(null,async e=>{T.zl.set(nY.Op,null);let t=performance.now(),n=e(nu.E7),i=(0,nn.X5)();if(!i)return;let s=Object.values(n);await Promise.allSettled(s.map(e=>i.requestFix(e))),T.zl.set(nY.Op,performance.now()-t)});var iH=n(30532),iU=n(487899),iK=n(271899),iW=n(357524),iZ=n(284467),iX=n(222357),iY=n(331264);let iQ=s.memo(function({rootNodeId:e,reason:t,thumbnailWidth:n,thumbnailHeight:s,thumbnailPadding:r,source:l}){let a=(0,iW.ei)(e),o=(0,nR.wg)(a),d=(0,iX.yh)({nodeId:e,width:n,height:s,shouldSkip:!1,version:o,reason:t,regenerateAfterImagesLoaded:!0,isDevModeBlendedSection:!1,shouldCache:o>0}),{bg:u,type:x}=(0,iY.Mr)(e,l),c=x===iY.Vr.COLOR,p=x===iY.Vr.IMAGE;return d?(0,i.jsx)("div",{...en.Ay.props(i3.thumbnailContainer,p&&i3.backgroundImageContainer,i3.thumbnailContainerDimensions(s),c&&i3.thumbnailContainerBackgroundColor(u),p&&i3.thumbnailContainerBackgroundImage(u)),children:(0,i.jsx)("div",{...en.Ay.props(i3.thumbnailSizer(n)),children:(0,i.jsx)(eQ.oW,{src:d.src,className:"x19kjcj4 x193iq5w xmz0i5r",alt:(0,m.t)("design_linter.penalty_box.thumbnail_alt")})})}):(0,i.jsx)(iZ.Qp,{...en.Ay.props(i3.loadingThumbnail,i3.loadingThumbnailDimensions(n,s,r)),animationType:iZ.JR.LIGHT_SHIMMER})}),iJ={kB7OPa:"x9f619",kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",k1xSpc:"x78zum5",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",kmVPX3:"xe8ttls",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",kMzoRj:"xmkeg23",kjGldf:"",k2ei4v:"",kZ1KPB:"",ke9TFa:"",kWqL5O:"",kLoX6v:"",kEafiO:"",kt9PQ7:"",ksu8eU:"x1y0btm7",kJRH4f:"",kVhnKS:"",k4WBpm:"",k8ry5P:"",kSWEuD:"",kDUl1X:"",kPef9Z:"",kfdmCh:"",kVAM5u:"x1co876m",kzOINU:"",kGJrpR:"",kaZRDh:"",kBCPoo:"",k26BEO:"",k5QoK5:"",kLZC3w:"",kL6WhQ:"",kaIpWk:"x19y5rnk",krdFHd:"",kfmiAY:"",kVL7Gh:"",kT0f0o:"",kIxVMA:"",ksF3WI:"",kqGeR4:"",kYm2EN:"",$$css:!0},i0={kUk6DE:"x5mp9sv",kzQI83:"",kmuXW:"",kCS8Yb:"",kZKoxP:"x16ye13r",$$css:!0},i1={kKwaWg:"x1e87kdn",$$css:!0},i2={kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",kZKoxP:"x16ye13r",kmVPX3:"x1fozly0",kg3NbH:"",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",k8WAf4:"",kLKAdn:"",kGO01o:"",$$css:!0},i3={thumbnailContainer:{k1xSpc:"x78zum5",kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,$$css:!0},thumbnailSizer:e=>[iJ,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],thumbnailContainerDimensions:e=>[i0,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],thumbnailContainerBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],thumbnailContainerBackgroundImage:e=>[i1,{"--x-backgroundImage":`url(${e})`}],loadingThumbnail:{kMzoRj:"xmkeg23",kjGldf:null,k2ei4v:null,kZ1KPB:null,ke9TFa:null,kWqL5O:null,kLoX6v:null,kEafiO:null,kt9PQ7:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,kVAM5u:"x1co876m",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kB7OPa:"x9f619",$$css:!0},loadingThumbnailDimensions:(e,t,n)=>[i2,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${t}px`),"--x-padding":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${n}px`)}],backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0}},i5="design-linter-sidebar";var i4=(e=>(e.GROUP="group",e.ROOT="root",e))(i4||{});function i7(){let e=(0,s.useRef)(null),t=(0,T.md)(nu.$H),n=function(){let e=(0,T.md)(nu.nr),t=(0,T.md)(nu.Bd);return(0,s.useMemo)(()=>{if(!t)return[];let n=[];return t.forEach(t=>{let i=e===t.id,s=i?(0,nR.zr)(t):[],r=1+s.length;n.push({type:"group",group:t,isFirstInGroup:!0,isLastInGroup:1===r}),i&&s.forEach((e,i)=>{let r=et.getActiveTSSceneGraph().get(e)?.name;n.push({type:"root",group:t,rootNodeDevId:e,rootName:r,isFirstInGroup:!1,isLastInGroup:i===s.length-1})})}),n},[t,e])}(),r=(0,T.md)(nu.nr),l=(0,n8.Te)({count:n.length,getScrollElement:()=>e.current,overscan:10,estimateSize:e=>{let t=n[e];return t?.type==="root"?32:112}}),a=n.findIndex(e=>e.group.id===r);(0,s.useEffect)(()=>{-1!==a&&l.scrollToIndex(a,{align:"start",behavior:"smooth"})},[a,l]),(0,s.useEffect)(()=>{l.measure()},[n,l]);let o=t?t.y-40:480;return(0,i.jsx)(iG.P,{ref:e,children:(0,i.jsx)("div",{"data-testid":i5,...en.Ay.props(sr.contentWrapper(o)),children:(0,i.jsx)("div",{...en.Ay.props(sr.virtualContainer(l.getTotalSize(),8)),children:l.getVirtualItems().map(e=>{let t=n[e.index];if(!t)return null;let s="group"===t.type,r=`root-${t.group.id}-${t.rootNodeDevId}`;return s&&(r=`group-${t.group.id}`),(0,i.jsx)("div",{...en.Ay.props(sr.virtualItem(e.size,e.start+8)),children:(0,i.jsx)(i8,{group:t.group,virtualRow:e,isGroupItem:s,rootNodeDevId:t.rootNodeDevId,rootName:t.rootName,isFirstInGroup:t.isFirstInGroup,isLastInGroup:t.isLastInGroup})},r)})})})})}function i8({group:e,virtualRow:t,isGroupItem:n,rootNodeDevId:r,rootName:l,isFirstInGroup:a,isLastInGroup:o}){let{isEntireGroupSelected:d,isHoveredGroupItem:u,isHoveredRootItem:x,isSelectedRootItem:c}=function({isGroupItem:e,groupId:t,rootNodeDevId:n}){let i=(0,T.md)(nu.NM),r=(0,T.md)(nu.xo),l=(0,T.md)(nu.xX),a=function(e){let t=(0,T.md)(nu.Bd);return(0,s.useMemo)(()=>{let n=t?.find(t=>t.id===e);return n?n.rootNodeDevIdToViolatingNodeDevIdSet.size:0},[t,e])}(i),o=t===i,d=t===l.groupId,u=e&&l.isGroupItem&&d,x=n===l.rootNodeDevId&&d;return{isEntireGroupSelected:o&&(!r||a<=1),isHoveredGroupItem:u,isHoveredRootItem:!e&&x,isSelectedRootItem:o&&!!r&&n===r}}({isGroupItem:n,groupId:e.id,rootNodeDevId:r}),p=function({groupId:e,rootNodeDevId:t,isGroupItem:n}){let i=(0,T.Xr)(nu.xX);return{onMouseEnter:()=>{i({groupId:e,rootNodeDevId:t??null,isGroupItem:n});let s=t?(0,nQ.vc)(t):void 0;s&&(0,eA.Uc)(s)},onMouseLeave:()=>{i({groupId:null,rootNodeDevId:null,isGroupItem:n}),(0,eA.Uc)("")}}}({groupId:e.id,rootNodeDevId:r,isGroupItem:n}),m=n?(0,nR.ac)(e):r,h=m?(0,nQ.vc)(m):void 0;return h?n?(0,i.jsx)(i6,{displayedNodeId:h,group:e,groupId:e.id,hoverHandlers:p,isFirstInGroup:a,isHovered:u,isLastInGroup:o,isSelected:d,virtualRow:t}):(0,i.jsx)(i9,{displayedNodeId:h,group:e,hoverHandlers:p,isFirstInGroup:a,isHovered:x,isInSelectedGroup:d,isLastInGroup:o,isSelectedRow:c,rootName:l,rootNodeDevId:r,virtualRow:t}):null}function i6({displayedNodeId:e,isHovered:t,isSelected:n,groupId:r,group:l,virtualRow:a,isFirstInGroup:d,isLastInGroup:u,hoverHandlers:x}){let c=(0,T.md)(nu.JQ).has(r),p=(0,io.sf)(),m=(0,t8.Wo)(),h=(0,t8.Vz)(),f=(0,t8.Ci)(),g=(0,t8.RD)(),y=(0,s.useCallback)(()=>{p(),m(l.id),h(),n?f(l.id):g(l.id),l&&(0,nO.JT)(l,"SIDEBAR")},[p,m,l,h,n,f,g]),k=nr.Pt(i5,`group-${a.index}`);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n7.E,{...{0:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr"},2:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1k1lpwg x5omr3n"},1:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr xabvvm4 xeyy32k"},3:{className:"x78zum5 x1n2onr6 xh8yej3 xb3r6kr x1k1lpwg x5omr3n xabvvm4 xeyy32k"}}[!!d<<1|!!u<<0],recordingKey:k,"data-index":a.index,onClick:y,htmlAttributes:{...x,"data-testid":k},children:(0,i.jsx)("div",{...{0:{className:"xe8ttls x78zum5 x6s0dn4"},2:{className:"xe8ttls x78zum5 x6s0dn4 x30nh5c x19y5rnk"},1:{className:"xe8ttls x78zum5 x6s0dn4 xcr9a89"},3:{className:"xe8ttls x78zum5 x6s0dn4 x19y5rnk xcr9a89"}}[!!(t&&!n)<<1|!!n<<0],children:(0,i.jsx)(iQ,{rootNodeId:e,reason:"design-linter.sidebar-thumbnail",thumbnailWidth:128,thumbnailHeight:96,thumbnailPadding:8,source:iY.Uq.SIDEBAR})})}),(0,i.jsx)(se,{isViewed:c,instanceCount:l.rootNodeDevIdToViolatingNodeDevIdSet.size}),!!(0,o.kc)().aip_flower_garden_debug&&(0,i.jsx)(st,{groupType:l.type})]})}function i9({displayedNodeId:e,rootName:t,isHovered:n,isInSelectedGroup:r,isSelectedRow:l,group:a,rootNodeDevId:o,virtualRow:d,isFirstInGroup:u,isLastInGroup:x,hoverHandlers:c}){let p=(0,io.sf)(),m=(0,t8.Wo)(),h=(0,t8.OI)(),f=1===a.rootNodeDevIdToViolatingNodeDevIdSet.size,g=(0,s.useCallback)(()=>{!f&&(p(),m(a.id),o&&(h(o),(0,nO.oo)(a.id,o,"SIDEBAR")))},[p,m,a.id,o,h,f]),y=nr.Pt(i5,`root-${d.index}`),k=f?{}:c,j=!f&&n,_=r&&j,v=!r&&j,b=f&&r,C=r?f?sr.rootItemInSelectedGroupOnlyRoot:sr.rootItemInSelectedGroup:null,E=l?f?sr.selectedRootItemOnlyRoot:sr.selectedRootItem:null,S=r?f?sr.rootItemContainerInSelectedGroupOnlyRoot:sr.rootItemContainerInSelectedGroup:null;return(0,i.jsx)(n7.E,{...en.Ay.props(sr.item,sr.rootItemContainer,u&&sr.firstInGroup,x&&sr.lastInGroup,S),recordingKey:y,"data-index":d.index,onClick:g,disabled:f,htmlAttributes:{...k,"data-testid":y},children:(0,i.jsx)("div",{...en.Ay.props(sr.rootItem,C,_&&sr.hoveredRootItemInSelectedGroup,v&&sr.hoveredRootItem,E),children:(0,i.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x1jnr06f x12ulsxz xdqyycr x6s0dn4 xh8yej3 xeuugli",children:[(0,i.jsx)(iK.Bf,{guid:e,...{0:{className:"x78zum5"},1:{className:"x78zum5 x1eni305 x1wckc2o x1wgeqrm"}}[!!(l||b)<<0]}),(0,i.jsx)("div",{className:"xb3r6kr xlyipyv xuxw1ft x1iyjqo2 xs83m0k x1t1x2f9",children:t})]})})})}function se({isViewed:e,instanceCount:t}){return(0,i.jsx)(iU.F,{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x6s0dn4 x19y5rnk x78zum5 xss6m8b xg2d0mh xlup9mm x1qpfodn xt9pc3i x10l6tqk xomnu4r x87ps6o xu5wzci x1tk3asg"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x6s0dn4 x19y5rnk x78zum5 xss6m8b xg2d0mh xlup9mm x1qpfodn xt9pc3i x10l6tqk xomnu4r x87ps6o x1yjdb4r x1akne3o xmkeg23 x1y0btm7 x1co876m"}}[!!e<<0],htmlAttributes:{"data-tooltip":(0,m.t)("design_linter.suggestion_block.instance_count_tooltip",{count:t}),"data-tooltip-type":nl.Ib.TEXT},children:t})}function st({groupType:e}){return(0,i.jsx)(iU.F,{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x19y5rnk x191j7n5 xn5hqff x10l6tqk xt9pc3i x87ps6o x1yjdb4r x1akne3o",children:"SIMILARITY"===e?"Similarity":"Ancestry"})}let sn={k7Eaqz:"x1qn71ht",kzqmXN:"xj64pm3",kZKoxP:"x16ye13r",$$css:!0},si={kVAEAm:"x1n2onr6",kZKoxP:"x16ye13r",kg3NbH:"xdqyycr",kuDDbn:"",kE3dHu:"",kP0aTx:"",kpe85a:"",$$css:!0},ss={kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",kbCHJM:"xncym2f",kCIrl2:"x19up5dg",kLqNvP:"",kt4wiu:"",kZKoxP:"x16ye13r",k3aq6I:"xsqj5wx",$$css:!0},sr={contentWrapper:e=>[sn,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`)}],virtualContainer:(e,t)=>[si,{kLKAdn:null!=t?"x1jm3axb":t,kGO01o:null!=t?"xjqpyvm":t,$$css:!0},{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-paddingTop":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t),"--x-paddingBottom":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(t)}],virtualItem:(e,t)=>[ss,{"--x-height":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`${e}px`),"--x-transform":`translateY(${t}px)`}],item:{k1xSpc:"x78zum5",kVAEAm:"x1n2onr6",kzqmXN:"xh8yej3",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,$$css:!0},firstInGroup:{kIxVMA:"x1k1lpwg",ksF3WI:"x5omr3n",krdFHd:null,kfmiAY:null,$$css:!0},lastInGroup:{kqGeR4:"xabvvm4",kYm2EN:"xeyy32k",kVL7Gh:null,kT0f0o:null,$$css:!0},rootItemContainer:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kzqmXN:"xh8yej3",k7Eaqz:"xeuugli",kZKoxP:"x10w6t97",$$css:!0},rootItem:{k1xSpc:"x78zum5",kGNEyG:"x6s0dn4",kzqmXN:"xh8yej3",k7Eaqz:"xeuugli",kZKoxP:"xxk0z11",$$css:!0},rootItemContainerInSelectedGroup:{kWkggS:"xpjdn5u",$$css:!0},rootItemContainerInSelectedGroupOnlyRoot:{kWkggS:"xcr9a89",$$css:!0},rootItemInSelectedGroup:{kWkggS:"xpjdn5u",$$css:!0},rootItemInSelectedGroupOnlyRoot:{kWkggS:"xcr9a89",$$css:!0},selectedRootItem:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xkg04fo",$$css:!0},selectedRootItemOnlyRoot:{kaIpWk:"x13ol8rl",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"xcr9a89",$$css:!0},hoveredRootItemInSelectedGroup:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x1be12tr",$$css:!0},hoveredRootItem:{kaIpWk:"x19y5rnk",krdFHd:null,kfmiAY:null,kVL7Gh:null,kT0f0o:null,kIxVMA:null,ksF3WI:null,kqGeR4:null,kYm2EN:null,kWkggS:"x30nh5c",$$css:!0}};var sl=n(671170);let sa=s.memo(function(){return(0,i.jsxs)("div",{className:"x78zum5 xh8yej3 x5yr21d xb3r6kr",children:[(0,i.jsxs)("div",{className:"x78zum5 xj64pm3 xrvx654 xs1s249 x32b0ac x1lpqudl x9f619 x16v0e3u x1vvogim xdt5ytf x1cy8zhl",children:[(0,i.jsx)(su,{}),(0,i.jsx)(su,{}),(0,i.jsx)(su,{}),(0,i.jsx)(su,{}),(0,i.jsx)(su,{}),(0,i.jsx)(su,{})]}),(0,i.jsxs)("div",{className:"x78zum5 x1iyjqo2 xdt5ytf xqo8coc xrvx654 x1yjdb4r",children:[(0,i.jsx)("div",{className:"x78zum5 xfjqxxc x6pg8l1 xso031l x1q0q8m5 xertd99 xl56j7k x6s0dn4",children:(0,i.jsx)(nJ.k,{})}),(0,i.jsx)(so,{}),(0,i.jsx)("div",{className:"xr1yuqi x2lah0s",children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf xuk3077 xl56j7k x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xy13l1i xqo8coc",children:(0,i.jsxs)("div",{className:"x6s0dn4 x78zum5 x167g77z",children:[(0,i.jsx)(t9.$n,{onClick:Z.lQ,variant:"secondary",disabled:!0,children:(0,m.tx)("design_linter.suggestion_block.ignore_all")}),(0,i.jsx)(t9.$n,{onClick:Z.lQ,variant:"primary",disabled:!0,children:(0,m.tx)("design_linter.suggestion_block.apply_all_btn")})]})})})]})]})});function so(){return(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:[(0,i.jsx)("div",{className:"x78zum5 x1s0atuq x10dr8xq x1hr3lfm x9f619 x6s0dn4 x167g77z xkh2ocl",children:(0,i.jsx)("div",{className:"xq1dxzn x1qx5ct2 x1sxf85j x11k3p72"})}),(0,i.jsx)("div",{className:"x78zum5 x10w6t97 xnuq7ks xnm25rq x6s0dn4 xkh2ocl x9f619",children:(0,i.jsx)("div",{className:"x29ncy0 x1qx5ct2 x1sxf85j x11k3p72"})}),(0,i.jsx)(sd,{}),(0,i.jsx)(sd,{}),(0,i.jsx)(sd,{})]})}function sd(){return(0,i.jsx)("div",{className:"x78zum5 xt970qd xdqyycr x144ku6 x10w6t97 x9f619",children:(0,i.jsxs)("div",{className:"x9f619 x78zum5 x6s0dn4 xfawy5m xe3gq44 x1jnr06f",children:[(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x6wrskw",children:[(0,i.jsx)("div",{className:"x29ncy0 x1qx5ct2 xwrg52n x1sxf85j x9f619 x1sjmt1f"}),(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11",children:(0,i.jsx)("div",{className:"xe5c7bq",children:(0,i.jsx)(sl.H,{className:"xe5c7bq"})})})]}),(0,i.jsx)("div",{className:"xxbzjz2 x1l2q4c8 x78zum5 x6s0dn4 x1sxf85j x7z60cl xmkeg23 x1y0btm7 x1yjdb4r",children:(0,i.jsx)(iZ.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:iZ.JR.SHIMMER})})]})})}function su(){return(0,i.jsx)("div",{className:"x78zum5 xdqyycr xdt5ytf x6s0dn4 x9f619",children:(0,i.jsx)("div",{className:"x78zum5 x1fznrkb xdt5ytf x1cy8zhl",children:(0,i.jsx)("div",{className:"x78zum5 xe8ttls x6s0dn4 xkh2ocl x167g77z x9f619",children:(0,i.jsx)("div",{className:"x78zum5 x6u1d8d xy29vt0 x6s0dn4 x6pg8l1 x1sxf85j xmkeg23 x1y0btm7 x1co876m x9f619",children:(0,i.jsx)(iZ.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:iZ.JR.SHIMMER})})})})})}function sx({children:e}){return(0,i.jsx)("div",{className:"x78zum5 xh8yej3 x5yr21d xdt5ytf x6s0dn4 xl56j7k",children:e??(0,i.jsx)(sa,{})})}var sc=n(947357),sp=n(608608),sm=n(271849),sh=n(492210),sf=n(648526),sg=n(4865),sy=n(550209),sk=n(312387),sj=n(240803),s_=n(372103);let sv=[2,3,6,13,25,50,75,100,200,300,1e3];var sb=(e=>(e.CURRENT="current",e.SUGGESTED="suggested",e))(sb||{});function sC(e){let t=(0,T.md)(nu.$H),n=(0,iY.Mr)(e,iY.Uq.PREVIEW),i=sP(e,"suggested"),r=function(e,t){let n=e?(0,nQ.$x)(e):void 0;if(!e||!n)return null;let{activeToLinterDevIdsMap:i,linterToActiveDevIdsMap:s,linterDevIdsToNodeInfoMap:r}=function(e){let t=T.zl.get(t7.qL).get(sM(e,sb.SUGGESTED));return{activeToLinterDevIdsMap:t?.activeToLinterDevIdsMap,linterToActiveDevIdsMap:t?.linterToActiveDevIdsMap,linterDevIdsToNodeInfoMap:t?.linterDevIdsToNodeInfoMap}}(e),l=i?.get(n)??null;return l?sI(t,l,s,r):null}(e,i),l=(0,T.Xr)(iY.q6);return(0,s.useEffect)(()=>{l(n)},[n,l]),{modalSize:t,background:n,suggestedHighlightInfo:r}}function sE({children:e,modalSize:t}){return(0,i.jsx)(sj.o,{eventListeners:["onPointerDown"],children:(0,i.jsx)("div",{...en.xk(sR.previewContainer(t?.x)),children:e})})}function sS(){return(0,i.jsx)("div",{})}function sT(e,t){let{thumbnail:n,status:s}=e;return n&&"loaded"===s?(0,i.jsx)(s_.Nf,{image:n,paddingPixels:30,Overlay:t,customLoadingIndicator:(0,i.jsx)(sS,{}),resetEnhancedOnBaseChange:!0,clearBaseBeforeDrawing:!0}):"loading"===s?(0,i.jsx)("div",{className:"x78zum5 x5yr21d xh8yej3 x6s0dn4 xl56j7k",children:(0,i.jsx)(nJ.k,{})}):(0,i.jsx)("div",{className:"x78zum5 x5yr21d xh8yej3 x6s0dn4 xl56j7k x1v8gsql",children:(0,m.tx)("design_linter.preview.thumbnail_unavailable")})}function sI(e,t,n,i){let s=i?.get(t)?.absoluteRenderBounds;if(!s)return null;let r=[],l=new et.TSSceneGraph(a.juq.LINTER);for(let{developerId:t,ruleId:a,detectionContext:o}of e){let d=l.guidFromDeveloperFriendlyId(t),u=i?.get(t);if(!u)continue;let{absoluteCornerPoints:x,unrotatedBoundingBox:c,childrenUnrotatedBoundingBoxesMap:p,cornerRadiusValues:m,absoluteTransform:h,stackTopPadding:f,stackBottomPadding:g,stackLeftPadding:y,stackRightPadding:k,stackSpacing:j,gridColumnGap:_,gridRowGap:v,gridColumnCount:b,gridRowCount:C,gridRowComputedSizesInOrder:E,gridColumnComputedSizesInOrder:S}=u,T=c?sw(c,s):null,I=x?{topLeft:sN(x.topLeft,s),topRight:sN(x.topRight,s),bottomLeft:sN(x.bottomLeft,s),bottomRight:sN(x.bottomRight,s)}:null,w=new Map;for(let[e,t]of p)if(t){let n=sw(t,s);w.set(e,n)}let N=function(e,t,n){let i=(0,et.getActiveTSSceneGraph)(),s=n?.get(e);if(!s)return!1;for(let r of t){if(r.developerId===e)continue;let t=n?.get(r.developerId);if(!t)continue;let l=i.guidFromDeveloperFriendlyId(t),a=i.guidFromDeveloperFriendlyId(s);if((0,nX.rV)(i,l,a))return!0}return!1}(t,e,n);r.push({guid:d,developerId:t,ruleId:a,detectionContext:o,isNested:N,unrotatedBounds:T,childrenUnrotatedBoundsMap:w,cornerRadiusValues:m,cornerPoints:I,absoluteTransform:h,stackTopPadding:f,stackBottomPadding:g,stackLeftPadding:y,stackRightPadding:k,stackSpacing:j,gridColumnGap:_,gridRowGap:v,gridColumnCount:b,gridRowCount:C,gridRowComputedSizesInOrder:E,gridColumnComputedSizesInOrder:S})}return{overlayInfoList:r}}function sw(e,t){return{x:e.x-t.x,y:e.y-t.y,width:e.width,height:e.height}}function sN(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sL({title:e}){return(0,i.jsx)("div",{className:"xuuh30 x10l6tqk x1ey2m1c x1vjfegm x87ps6o x1y1aw1k xwib8y2 x1nrll8i",children:(0,i.jsx)("span",{className:"x4oah1p xewu7z0 x2ua9qx x1dnis8n xawads1 x1akne3o x2b8uid xldgpng x1iorvi4 xy13l1i xjkvuk6 x163pfp xur7f20",children:e})})}let sA={kzqmXN:"x5lhr3w",k7Eaqz:"xkj4a21",kZKoxP:"xfjqxxc",kt9PQ7:"xso031l",ksu8eU:"x1y0btm7",kJRH4f:"",kVhnKS:"",k4WBpm:"",k8ry5P:"",kSWEuD:"",kDUl1X:"",kPef9Z:"",kfdmCh:"",kVAM5u:"x7z60cl",kzOINU:"",kGJrpR:"",kaZRDh:"",kBCPoo:"",k26BEO:"",k5QoK5:"",kLZC3w:"",kL6WhQ:"",$$css:!0},sR={previewContainer:e=>[sA,{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??528}px - ${iF.sidebarWidth})`),"--x-minWidth":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(${e??528}px - ${iF.sidebarWidth})`)}]};function sO(e,t,n){let[i,r]=(0,s.useState)(!1),o=(0,nn.am)();(0,s.useEffect)(()=>{r(!0)},[]);let[d,u]=(0,s.useState)({thumbnail:null,status:"loading"}),x=(0,s.useRef)(null),{violationsWithFixes:c,areFixesReady:p}=function(e){let t=function(e){let t=(0,T.md)(nu.IZ);return(0,s.useMemo)(()=>{if(!e)return[];let n=(0,et.getActiveTSSceneGraph)();return t.filter(t=>{let i=n.guidFromDeveloperFriendlyId(t.developerId);return i===e||(0,nX.rV)(n,e,i)})},[e,t])}(e),n=(0,T.md)(nu.$C),[i,r]=(0,s.useState)(!1);return{violationsWithFixes:(0,s.useMemo)(()=>{if(!n)return[];let e=!0,i=t.map(t=>{let i=n.get(t.groupKey);return i?.status==="loading"&&(e=!1),{violation:t,selectedFix:i?.fix||null}});return r(e),i},[n,t]),areFixesReady:i}}(t),m=(0,T.md)(nu.kR),h=(0,T.md)(nu.TT);return(0,s.useEffect)(()=>{if(!t)return;let s=e===sb.SUGGESTED,r=sM(t,e),d=T.zl.get(t7.qL).get(r),{isThumbnailStale:f,violationsStateHash:g}=function(e,t,n,i){let s=e?.lastEditedAtTime!==t||t<=0,r=s,l="";if(i){l=function(e){let t=JSON.stringify(e.map(e=>(function({violation:e,selectedFix:t}){return t?.fixContext?`${e.developerId}_${e.groupKey}_${JSON.stringify(t.fixContext,(e,t)=>t&&"object"==typeof t&&!Array.isArray(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}`:`${e.developerId}_${e.groupKey}`})(e)).sort());return(0,sg.F)(t)}(n);let t=e?.violationsStateHash!==l;r=s||t}return{isThumbnailStale:r,violationsStateHash:l}}(d,n,c,s);if(d&&!f){u({thumbnail:d.thumbnail,status:"loaded"});return}if(!i||m||h.size>0)return;let y=async()=>{let i=performance.now();s?T.zl.set(nY.ky,null):T.zl.set(nY.iS,null);let d=new AbortController;x.current=d;try{let e;if(!t)return;let i=()=>{u({thumbnail:null,status:"error"}),console.error("Error generating thumbnail: Called showError on delegate")};if((e=s?await sF(o,t,n,g,c,i,d.signal):function(e,t,n,i){let s=a.mHF?.copyNodeToLinterScene(e);if(!s)throw Error("Current linter scene guid not found");let r=(0,et.getActiveTSSceneGraph)().get(e);if(!r)throw Error("Original node not found");if(i.aborted)throw new sh.Cu;let l=new et.TSSceneGraph(a.juq.LINTER).get(s);if(!l)throw Error("Current linter scene node not found");let{activeToLinterDevIdsMap:o,linterToActiveDevIdsMap:d}=sz(r,l);return{thumbnail:(0,sk.SI)({nodeId:s,linterScene:!0,showError:n})(),activeToLinterDevIdsMap:o,linterToActiveDevIdsMap:d,linterDevIdsToNodeInfoMap:sD(l),lastEditedAtTime:t}}(t,n,i,d.signal)).thumbnail){u({thumbnail:e.thumbnail,status:"loaded"}),function(e,t){let n=new Map(T.zl.get(t7.qL));n.set(e,t),T.zl.set(t7.qL,n)}(r,e);return}throw u({thumbnail:null,status:"error"}),Error("Error generating thumbnail: Thumbnail delegate does not exist")}catch(i){if(i instanceof sh.Cu)return;u({thumbnail:null,status:"error"}),(0,sy.$D)(l.e.DS_ENABLEMENT,i,{extra:{originalGuid:t,thumbnailType:e,lastEditedAtTime:n}})}finally{let e=performance.now()-i;s?T.zl.set(nY.ky,e):T.zl.set(nY.iS,e)}};if(s&&!p){u({thumbnail:null,status:"loading"});return}return y(),()=>{x.current?.abort()}},[t,n,e,c,p,i,o,m,h]),d}function sM(e,t){return`${e}-${t}`}async function sF(e,t,n,i,s,r,l){let o=a.mHF?.copyNodeToLinterScene(t);if(!o)throw Error("Suggested linter scene guid not found");let d=(0,et.getActiveTSSceneGraph)().get(t);if(!d)throw Error("Original node not found");if(l.aborted)throw new sh.Cu;let u=new et.TSSceneGraph(a.juq.LINTER).get(o);if(!u)throw Error("Suggested linter scene node not found");let{activeToLinterDevIdsMap:x,linterToActiveDevIdsMap:c}=sz(d,u);await e?.applyFixesToThumbnailNode(s,x,l);let p=(0,sk.SI)({nodeId:o,linterScene:!0,showError:r})();if(l.aborted)throw new sh.Cu;return a.mHF?.applyPendingLinterNodeUpdates(o),{thumbnail:p,activeToLinterDevIdsMap:x,linterToActiveDevIdsMap:c,linterDevIdsToNodeInfoMap:sD(u),lastEditedAtTime:n,violationsStateHash:i}}function sz(e,t){let n=new Map,i=new Map,s=[],r=[];return(0,ni.eA)(e,e=>{s.push(e.developerFriendlyId)}),(0,ni.eA)(t,e=>{r.push(e.developerFriendlyId)}),s.forEach((e,t)=>{let s=r[t];s&&(n.set(e,s),i.set(s,e))}),{activeToLinterDevIdsMap:n,linterToActiveDevIdsMap:i}}function sD(e){let t=new Map;return(0,ni.eA)(e,e=>{let n=null,i=new Map;try{let t=a.mHF?.getUnrotatedLinterNodeBounds(e.guid);if(!t)throw Error("Result is undefined or null");let s=t.bounds;n={x:s.origin.x,y:s.origin.y,width:s.size.x,height:s.size.y},t.childrenGuids.forEach((e,n)=>{let s=t.childrenBounds[n];s&&i.set(e,{x:s.origin.x,y:s.origin.y,width:s.size.x,height:s.size.y})})}catch(t){console.error(`Failed to get unrotated bounds for linter node ${e.guid}, error:`,t)}t.set(e.developerFriendlyId,{absoluteRenderBounds:function(e,t){let n=t?e.absoluteRenderBounds:e.absoluteBoundingBox;return n?{x:n.x,y:n.y,width:n.w,height:n.h}:null}(e,!0),unrotatedBoundingBox:n,childrenUnrotatedBoundingBoxesMap:i,cornerRadiusValues:e.cornerRadiusValues,absoluteCornerPoints:a.mHF?.getLinterNodeAbsoluteCornerPoints(e.guid)??null,absoluteTransform:e.absoluteTransform,stackTopPadding:e.stackTopPadding,stackBottomPadding:e.stackBottomPadding,stackLeftPadding:e.stackLeftPadding,stackRightPadding:e.stackRightPadding,stackSpacing:e.stackSpacing,gridColumnGap:e.gridColumnGap,gridRowGap:e.gridRowGap,gridColumnCount:e.gridColumnCount,gridRowCount:e.gridRowCount,gridRowComputedSizesInOrder:e.gridRowSizesInOrder.map(e=>e.computedSize),gridColumnComputedSizesInOrder:e.gridColumnSizesInOrder.map(e=>e.computedSize)})}),t}function sP(e,t){let n=(0,T.md)(t7.hx);return(0,s.useMemo)(()=>{if(!e)return[];let i=(0,et.getActiveTSSceneGraph)(),s=n.filter(t=>{let n=i.guidFromDeveloperFriendlyId(t.developerId);return n===e||(0,nX.rV)(i,e,n)}),r=T.zl.get(t7.qL).get(sM(e,t)),l=r?.activeToLinterDevIdsMap;return s.reduce((e,t)=>{let{ruleId:n,detectionContext:i,nodeType:s,developerId:r}=t,a=l?.get(r);return a&&e.push(new sf.U({ruleId:n,detectionContext:i,nodeType:s,developerId:a})),e},[])},[e,t,n])}var sq=n(700170),sG=n(779319),s$=n(582789),sB=n(724744);function sV(e){let t;return"prop"in e&&(t=e.prop),"assetType"in e&&(t=e.assetType),t??""}function sH(e,t){let n=e.transformRect(new s$.r(new sB.M(t.x,t.y),new sB.M(t.width,t.height)));return{x:n.left(),y:n.top(),width:n.width(),height:n.height()}}function sU(e,t){let n=new sB.M(t.x,t.y),i=e.transformPoint(n);return{x:i.x,y:i.y}}function sK(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function sW(e,t){let n=sK(e.topRight,e.topLeft),i=sK(e.bottomLeft,e.topLeft),s={topLeft:sU(t,e.topLeft),topRight:sU(t,e.topRight),bottomRight:sU(t,e.bottomRight),bottomLeft:sU(t,e.bottomLeft)},r=sK(s.topRight,s.topLeft),l=sK(s.bottomLeft,s.topLeft),a=Math.min(r/n,l/i);return{transformedPoints:s,width:r,height:l,scale:a}}function sZ(e){let t=sG.s.fromFigMatrix(e);return{normalizedRotation:(t.toDegrees()%360+360)%360,isFlipped:0>t.determinant()}}let sX={blueBorderHover:{kVAEAm:"x10l6tqk",kVAM5u:"x1va2ikv",kzOINU:null,kGJrpR:null,kaZRDh:null,kBCPoo:null,k26BEO:null,k5QoK5:null,kLZC3w:null,kL6WhQ:null,ksu8eU:"x1y0btm7",kJRH4f:null,kVhnKS:null,k4WBpm:null,k8ry5P:null,kSWEuD:null,kDUl1X:null,kPef9Z:null,kfdmCh:null,$$css:!0},pinkBgHover:{kVAEAm:"x10l6tqk",kWkggS:"x6zv46q",kSiTet:"xuzhngd",$$css:!0}};function sY({overlayInfo:e,imageTransform:t}){let n,s;let{detectionContext:r,cornerRadiusValues:l,cornerPoints:a,absoluteTransform:o}=e;if(!a)return null;let{transformedPoints:d,width:u,height:x,scale:c}=sW(a,t),p=Math.max(16*c,16),m=sV(r);if(!(m in sq.I$))return null;let h=sq.I$[m];if(!h)return null;let f=h.toLowerCase(),g=f.includes("right"),y=f.includes("bottom"),k=function(e,t,n,i,s){let r=Math.min(t/(e.topLeft+e.topRight),1),l=Math.min(n/(e.topRight+e.bottomRight),1),a=Math.min(t/(e.bottomLeft+e.bottomRight),1),o=Math.min(n/(e.topLeft+e.bottomLeft),1),d=e.topLeft*Math.min(r,o);return{topLeft:d*i+2,topRight:e.topRight*Math.min(r,l)*i+2,bottomRight:e.bottomRight*Math.min(a,l)*i+s,bottomLeft:e.bottomLeft*Math.min(a,o)*i+s}}(l,u/c,x/c,c,2);g&&y?(n=k.bottomRight,s=d.bottomRight):g&&!y?(n=k.topRight,s=d.topRight):!g&&y?(n=k.bottomLeft,s=d.bottomLeft):(n=k.topLeft,s=d.topLeft);let{borderWidth:j,borderLength:_}=function(e,t,n,i,s,r,l,a){let o=s?"bottom":"top",d=i?"Right":"Left",u=i?r[`${o}Left`]:r[`${o}Right`];return{borderWidth:Math.max(Math.min(n+(e+2-u-n)/2-2,a),n),borderLength:Math.max(Math.min(n+(t+2-(s?r[`top${d}`]:r[`bottom${d}`])-n)/2-2,a),n)}}(u,x,n,g,y,k,2,p),v=g?s.x-j:s.x-1,b=y?s.y-_:s.y-1,{normalizedRotation:C,isFlipped:E}=sZ(o),S=s.x-v,T=s.y-b,I={width:j,height:_,transformOrigin:`${S}px ${T}px`,transform:`translate(${v}px, ${b}px) rotate(${C}deg)${E?" scaleY(-1)":""}`,[`border${y?"Bottom":"Top"}Width`]:2,[`border${g?"Right":"Left"}Width`]:2,[`border${y?"Bottom":"Top"}${g?"Right":"Left"}Radius`]:n};return(0,i.jsx)("div",{...en.Ay.props(sX.blueBorderHover),style:I})}function sQ({overlayInfo:e,imageTransform:t}){let{detectionContext:n,unrotatedBounds:r,cornerPoints:l,gridColumnGap:a,gridRowGap:o,gridColumnCount:d,gridRowCount:u,gridRowComputedSizesInOrder:x,gridColumnComputedSizesInOrder:c,absoluteTransform:p}=e;if(!r||!l)return null;let m=sH(t,r),h="GRID_COLUMN_GAP"===sV(n),f=(h?d:u)-1,g=h?c:x,{width:y,height:k,scale:j}=sW(l,t),_=(h?a:o)*j,{normalizedRotation:v,isFlipped:b}=sZ(p),C=[],E=h?e.stackLeftPadding*j:e.stackTopPadding*j;for(let e=0;e<f;e++){let t=g[e];if(!t)continue;E+=t*j;let n=h?E+m.x:m.x,i=h?m.y:E+m.y,r=h?_:y,l=h?k:_,a=m.x-n,o=b?m.y+m.height-i:m.y-i;C.push((0,s.createElement)("div",{...en.Ay.props(sX.pinkBgHover),key:`hover-grid-${e}`,style:{transformOrigin:`${a}px ${o}px`,transform:`translate(${n}px, ${i}px) rotate(${v}deg)`,width:r,height:l}})),E+=_}return(0,i.jsx)(i.Fragment,{children:C})}var sJ=n(110973);function s0({overlayInfo:e,imageTransform:t}){let{detectionContext:n,cornerPoints:s,absoluteTransform:r}=e;if(!s)return null;let{transformedPoints:l,width:a,height:o,scale:d}=sW(s,t),u=sV(n);if(!(u in sJ.A))return null;let x=sJ.A[u];if(!x)return null;let c=e[({paddingTop:"stackTopPadding",paddingBottom:"stackBottomPadding",paddingLeft:"stackLeftPadding",paddingRight:"stackRightPadding"})[x]]*d,p={paddingTop:l.topLeft,paddingBottom:l.bottomLeft,paddingLeft:l.topLeft,paddingRight:l.topRight}[x],{translateX:m,translateY:h,highlightWidth:f,highlightHeight:g}={paddingTop:{translateX:p.x,translateY:p.y,highlightWidth:a,highlightHeight:c},paddingBottom:{translateX:p.x,translateY:p.y-c,highlightWidth:a,highlightHeight:c},paddingLeft:{translateX:p.x,translateY:p.y,highlightWidth:c,highlightHeight:o},paddingRight:{translateX:p.x-c,translateY:p.y,highlightWidth:c,highlightHeight:o}}[x],{normalizedRotation:y,isFlipped:k}=sZ(r),j=p.x-m,_=p.y-h,v=`translate(${m}px, ${h}px) rotate(${y}deg)${k?" scaleY(-1)":""}`;return(0,i.jsx)("div",{...en.Ay.props(sX.pinkBgHover),style:{transformOrigin:`${j}px ${_}px`,transform:v,width:f,height:g}})}function s1({overlayInfo:e,imageTransform:t}){let{ruleId:n,detectionContext:r,unrotatedBounds:l,childrenUnrotatedBoundsMap:a,cornerPoints:o,stackSpacing:d,absoluteTransform:u}=e;if(!l||!o||0===a.size)return null;let x=sH(t,l),c=Array.from(a.entries()).map(([e,n])=>({guid:e,bounds:sH(t,n)})),p=sV(r),m=n===iH.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES||"STACK_SPACING_HORIZONTAL"===p,h=c.sort((e,t)=>m?e.bounds.x-t.bounds.x:e.bounds.y-t.bounds.y),{width:f,height:g,scale:y}=sW(o,t),k=d*y,{normalizedRotation:j,isFlipped:_}=sZ(u),v=[];for(let e=0;e<h.length-1;e++){let t=h[e];if(!t)continue;let n=`${t.guid}`;if(m){let e=t.bounds.x+t.bounds.width,i=x.y,r=x.x-e,l=_?x.y+x.height-i:x.y-i;v.push((0,s.createElement)("div",{...en.Ay.props(sX.pinkBgHover),key:n,style:{transformOrigin:`${r}px ${l}px`,transform:`translate(${e}px, ${i}px) rotate(${j}deg)`,width:k,height:g}}))}else{let e=t.bounds.y+t.bounds.height,i=x.x,r=x.x-i,l=_?x.y+x.height-e:x.y-e;v.push((0,s.createElement)("div",{...en.Ay.props(sX.pinkBgHover),key:n,style:{transformOrigin:`${r}px ${l}px`,transform:`translate(${i}px, ${e}px) rotate(${j}deg)`,width:f,height:k}}))}}return(0,i.jsx)(i.Fragment,{children:v})}let s2=(0,s.createContext)(null);function s3({children:e,value:t}){return(0,i.jsx)(s2.Provider,{value:t,children:e})}function s5(e){let t=(0,s.useContext)(s2);return t?(0,i.jsx)(s4,{...e,...t}):null}let s4=s.memo(function(e){let{overlayInfoList:t,transform:n}=e;return(0,i.jsx)(i.Fragment,{children:t.map((e,t)=>(0,i.jsx)("div",{children:(0,i.jsx)(s7,{overlayInfo:e,imageTransform:n})},t))})});function s7({overlayInfo:e,imageTransform:t}){let{detectionContext:n}=e;switch(e.ruleId){case iH.C.REQUIRE_CORNER_RADIUS_VARIABLES:return(0,i.jsx)(sY,{overlayInfo:e,imageTransform:t});case iH.C.REQUIRE_HORIZONTAL_SPACING_VARIABLES:case iH.C.REQUIRE_VERTICAL_SPACING_VARIABLES:if(!("prop"in n))return null;switch(n.prop){case"STACK_SPACING_HORIZONTAL":case"STACK_SPACING_VERTICAL":return(0,i.jsx)(s6,{overlayInfo:e,imageTransform:t});case"GRID_COLUMN_GAP":case"GRID_ROW_GAP":return(0,i.jsx)(s9,{overlayInfo:e,imageTransform:t});default:return(0,i.jsx)(s8,{overlayInfo:e,imageTransform:t})}case iH.C.REQUIRE_PADDING_VARIABLES:return(0,i.jsx)(re,{overlayInfo:e,imageTransform:t});case iH.C.REQUIRE_ASSETS_FROM_SELECTED_LIBRARIES:if(!("assetType"in n))return null;switch(n.assetType){case"RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS":case"RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS":case"RECTANGLE_TOP_LEFT_CORNER_RADIUS":case"RECTANGLE_TOP_RIGHT_CORNER_RADIUS":return(0,i.jsx)(sY,{overlayInfo:e,imageTransform:t});case"STACK_SPACING_HORIZONTAL":case"STACK_SPACING_VERTICAL":return(0,i.jsx)(s6,{overlayInfo:e,imageTransform:t});case"STACK_PADDING_TOP":case"STACK_PADDING_BOTTOM":case"STACK_PADDING_LEFT":case"STACK_PADDING_RIGHT":return(0,i.jsx)(re,{overlayInfo:e,imageTransform:t});case"GRID_ROW_GAP":case"GRID_COLUMN_GAP":return(0,i.jsx)(s9,{overlayInfo:e,imageTransform:t});default:return(0,i.jsx)(s8,{overlayInfo:e,imageTransform:t})}default:return(0,i.jsx)(s8,{overlayInfo:e,imageTransform:t})}}function s8({overlayInfo:e,imageTransform:t}){let{cornerPoints:n,absoluteTransform:s}=e;if(!n)return null;let{transformedPoints:r,width:l,height:a}=sW(n,t),{normalizedRotation:o,isFlipped:d}=sZ(s),u=r.topLeft.x-2,x=r.topLeft.y-2,c=r.topLeft.x-u,p=r.topLeft.y-x,m=`translate(${u}px, ${x}px) rotate(${o}deg)${d?" scaleY(-1)":""}`;return(0,i.jsx)("div",{...en.Ay.props(sX.blueBorderHover),style:{transformOrigin:`${c}px ${p}px`,transform:m,borderWidth:2,width:l,height:a}})}function s6({overlayInfo:e,imageTransform:t}){return(0,i.jsxs)(i.Fragment,{children:[!e.isNested&&(0,i.jsx)(s8,{overlayInfo:e,imageTransform:t}),(0,i.jsx)(s1,{overlayInfo:e,imageTransform:t})]})}function s9({overlayInfo:e,imageTransform:t}){return(0,i.jsxs)(i.Fragment,{children:[!e.isNested&&(0,i.jsx)(s8,{overlayInfo:e,imageTransform:t}),(0,i.jsx)(sQ,{overlayInfo:e,imageTransform:t})]})}function re({overlayInfo:e,imageTransform:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s8,{overlayInfo:e,imageTransform:t}),(0,i.jsx)(s0,{overlayInfo:e,imageTransform:t})]})}var rt=n(307829),rn=n(550012),ri=n(390579);function rs(){let{isLoading:e,zoomPercentage:t,setZoomPercentage:n,isFitZoom:r,setIsFitZoom:l,position:a,setPosition:o,initialZoomPercentage:d,initialX:u,initialY:x}=(0,s_.DM)("LinterZoomSelectorToolbar"),{getTriggerProps:c,manager:p}=rt.b({initialPosition:"bottom-end"}),[h,f]=(0,T.fp)(nu.xi);s.useEffect(()=>{e||f(t)},[e,t,f]);let g=e?h:t;if(!g)return null;let y=r&&a.x===u&&a.y===x,k=t===d,j=p.isOpen;return(0,i.jsx)("div",{className:"x87ps6o x10l6tqk xfr5jun x19up5dg x11uqc5h",children:(0,i.jsxs)(rt.bL,{manager:p,children:[(0,i.jsx)(n7.E,{...c(),children:(0,i.jsx)("div",{className:"x3nfvp2 xfawy5m x1ldx8e xdt5ytf x1cy8zhl x9f619 xur7f20 x1yjdb4r x7s1b7r",children:(0,i.jsxs)("div",{...{0:{className:"x1247r65 xua88k8 x4pvk5x x78zum5 xl56j7k x6s0dn4"},1:{className:"x1247r65 xua88k8 x4pvk5x x78zum5 xl56j7k x6s0dn4 xcr9a89 x1aue78i"}}[!!j<<0],children:[(0,i.jsx)("div",{...{0:{className:"x1fcty0u x78zum5 xl56j7k x6s0dn4 x1iyjqo2 xt0e3qv x87ps6o x187nhsf x163pfp"},1:{className:"x1fcty0u x78zum5 xl56j7k x6s0dn4 x1iyjqo2 xt0e3qv x87ps6o x187nhsf x163pfp x1fgql6j"}}[!!j<<0],children:`${Math.round(g)}%`}),(0,i.jsx)(ri.O,{})]})})}),(0,i.jsxs)(rt.mc,{children:[(0,i.jsx)(rn.H_,{checked:y,onChange:()=>{y||(o({x:u,y:x}),l(!0))},children:(0,m.t)("design_linter.zoom_control.zoom_to_fit")}),(0,i.jsx)(rn.H_,{checked:k,onChange:()=>{k||(n(d),l(!1))},children:(0,m.t)("design_linter.zoom_control.zoom_to_default",{defaultPercentage:d})})]})]})})}function rr(){let e=(0,T.md)(nu.xi);return e?(0,i.jsx)("div",{className:"x87ps6o x10l6tqk xfr5jun x19up5dg x11uqc5h",children:(0,i.jsx)(n7.E,{children:(0,i.jsx)("div",{className:"x3nfvp2 xfawy5m x1ldx8e xdt5ytf x1cy8zhl x9f619 xur7f20 x1yjdb4r x7s1b7r",children:(0,i.jsxs)("div",{className:"x1247r65 xua88k8 x4pvk5x x78zum5 xl56j7k x6s0dn4",children:[(0,i.jsx)("div",{className:"x1fcty0u x78zum5 xl56j7k x6s0dn4 x1iyjqo2 xt0e3qv x87ps6o x187nhsf x163pfp",children:`${Math.round(e)}%`}),(0,i.jsx)(ri.O,{})]})})})}):null}function rl({rootNodeId:e,lastEditedAtTime:t}){let n=sO(sb.SUGGESTED,e,t),{modalSize:s,background:r,suggestedHighlightInfo:l}=sC(e);return(0,i.jsx)(sE,{modalSize:s,children:(0,i.jsx)("div",{className:"x5yr21d xh8yej3 x78zum5 xdt5ytf",children:(0,i.jsx)("div",{className:"x1n2onr6 xh8yej3 x1iyjqo2 xs83m0k x1t1x2f9",children:(0,i.jsxs)(s_.ao,{zoomPercentageOptions:sv,zoomOnMousePointer:!0,canFitZoomExceed100:!0,resetStateOnChangeValue:e,className:"x5yr21d xh8yej3 x78zum5 xdt5ytf",children:[(0,i.jsx)(ra,{image:n,highlightInfo:l,background:r,title:(0,m.t)("design_linter.preview.suggested")}),(0,i.jsx)(rs,{})]})})})})}function ra({image:e,highlightInfo:t,background:n,title:s}){let r=sT(e,s5);return(0,i.jsx)(s3,{value:t,children:(0,i.jsx)(ro,{title:s,background:n,imageStatus:e.status,children:r})})}function ro({title:e,children:t,background:n,imageStatus:s}){let r=(0,T.md)(iY.q6),{bg:l,type:a}="loading"===s?r:n,o=a===iY.Vr.COLOR,d=a===iY.Vr.IMAGE;return(0,i.jsxs)("div",{...en.xk(ru.suggestedOnlyThumbnailContainer,d&&ru.backgroundImageContainer,o&&ru.dynamicBackgroundColor(l),d&&ru.dynamicBackgroundImage(l)),children:[(0,i.jsx)(sL,{title:e}),t]})}let rd={kKwaWg:"x1e87kdn",$$css:!0},ru={suggestedOnlyThumbnailContainer:{kVAEAm:"x10l6tqk",kzqmXN:"xh8yej3",k1xSpc:"x3nfvp2",kXwgrk:"xdt5ytf",kZKoxP:"x5yr21d",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kzQI83:"x1iyjqo2",$$css:!0},backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0},dynamicBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],dynamicBackgroundImage:e=>[rd,{"--x-backgroundImage":`url(${e})`}]},rx=s.memo(function(){let{rootNodeDevId:e}=function(){let e=(0,T.md)(nu.Bp)??null,t=(0,T.md)(nu.xo);return t?{rootNodeDevId:t}:{rootNodeDevId:e}}(),t=e?(0,nQ.vc)(e):void 0,n=(0,iW.ei)(t),s=(0,nR.wg)(n),r=!(0,o.kc)().aip_flower_garden_no_current;return t?r?(0,i.jsx)(rc,{lastEditedAtTime:s,rootNodeId:t}):(0,i.jsx)(rl,{lastEditedAtTime:s,rootNodeId:t}):(0,i.jsx)(rm,{})});function rc({rootNodeId:e,lastEditedAtTime:t}){let{modalSize:n,background:s,suggestedHighlightInfo:r}=sC(e),l=sP(e,sb.CURRENT),a=function(e,t){let n=e?(0,nQ.$x)(e):void 0;if(!e||!n)return null;let{activeToLinterDevIdsMap:i,linterToActiveDevIdsMap:s,linterDevIdsToNodeInfoMap:r}=function(e){let t=T.zl.get(t7.qL).get(sM(e,sb.CURRENT));return{activeToLinterDevIdsMap:t?.activeToLinterDevIdsMap,linterToActiveDevIdsMap:t?.linterToActiveDevIdsMap,linterDevIdsToNodeInfoMap:t?.linterDevIdsToNodeInfoMap}}(e),l=i?.get(n)??null;return l?sI(t,l,s,r):null}(e,l),o=sO(sb.CURRENT,e,t),d=sO(sb.SUGGESTED,e,t);return(0,i.jsx)(sE,{modalSize:n,children:(0,i.jsxs)(sp.qW,{zoomPercentageOptions:sv,zoomOnMousePointer:!0,canFitZoomExceed100:!0,resetStateOnChangeValue:e,compareThumbnailSource:sm.FO.LINTER,children:[(0,i.jsx)(rp,{image:o,highlightInfo:a,background:s,title:(0,m.t)("design_linter.preview.current"),thumbnailType:sb.CURRENT}),(0,i.jsx)(rp,{image:d,highlightInfo:r,background:s,title:(0,m.t)("design_linter.preview.suggested"),thumbnailType:sb.SUGGESTED}),(0,i.jsx)(rs,{})]})})}function rp({image:e,highlightInfo:t,background:n,title:s,thumbnailType:r}){let l=sT(e,s5),a=r===sb.CURRENT,o=r===sb.SUGGESTED,d=(0,T.md)(iY.q6),{bg:u,type:x}="loading"===e.status?d:n,c=x===iY.Vr.COLOR,p=x===iY.Vr.IMAGE;return(0,i.jsx)(s3,{value:t,children:(0,i.jsxs)("div",{...{0:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2"},4:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03"},2:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 x3m8u43 xe0pwq x1y0btm7 x7z60cl"},6:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 x3m8u43 xe0pwq x1y0btm7 x7z60cl"},1:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},5:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},3:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 x3m8u43 xe0pwq x1y0btm7 x7z60cl xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"},7:{className:"x10l6tqk x3hqpx7 x3nfvp2 xdt5ytf x5yr21d xb3r6kr x1iyjqo2 xu96u03 x3m8u43 xe0pwq x1y0btm7 x7z60cl xiy17q3 x18d0r48 x1xsqp64 x1v8gsql"}}[!!a<<2|!!o<<1|!!p<<0],style:{...c&&{backgroundColor:u},...p&&{backgroundImage:`url(${u})`}},children:[(0,i.jsx)(sL,{title:s}),l]})})}function rm(){let e=(0,T.md)(nu.NM),{bg:t,type:n}=(0,T.md)(iY.q6),s=n===iY.Vr.COLOR,r=n===iY.Vr.IMAGE;return(0,i.jsxs)("div",{...en.xk(rf.loadingPreviewContainer,r&&rf.backgroundImageContainer,s&&rf.dynamicBackgroundColor(t),r&&rf.dynamicBackgroundImage(t)),children:[!e&&(0,i.jsx)(nJ.k,{}),(0,i.jsx)(rr,{})]})}let rh={kKwaWg:"x1e87kdn",$$css:!0},rf={backgroundImageContainer:{kz484i:"xiy17q3",kgSjnq:"x18d0r48",k1YJky:"x1xsqp64",kDwdnV:null,kAiEkY:null,kWkggS:"x1v8gsql",$$css:!0},loadingPreviewContainer:{k1xSpc:"x78zum5",kZKoxP:"xfjqxxc",kt9PQ7:"xso031l",kfdmCh:"x1q0q8m5",kL6WhQ:"xertd99",kjj79g:"xl56j7k",kGNEyG:"x6s0dn4",kVAEAm:"x1n2onr6",$$css:!0},dynamicBackgroundColor:e=>[{kWkggS:null!=e?"xl8spv7":e,$$css:!0},{"--x-backgroundColor":null!=e?e:void 0}],dynamicBackgroundImage:e=>[rh,{"--x-backgroundImage":`url(${e})`}]};function rg(){let e=function(){let e=(0,T.md)(t7.Iy),t=(0,T.md)(t7.m7),n=(0,T.md)(nO.Vg),i=(0,t8.sH)(),r=(0,s.useRef)(new Set),[a,o]=(0,s.useState)(()=>new Map),d=(0,s.useRef)(void 0);(0,s.useEffect)(()=>{n&&n!==d.current&&(d.current=n,o(new Map))},[n]);let u=(0,s.useMemo)(()=>{if(!n||!i||r.current.has(n))return null;let s=new Set;for(let t of e.values())for(let e of t.violatingNodeDevIdToRootNodeDevId.keys())s.add(e);let l=new Map;for(let e of t.values())for(let t of e.values())for(let e of t)if(!s.has(e.developerId)){let t=e.ruleId;l.set(t,(l.get(t)||0)+1)}return l},[t,e,n,i]);return(0,s.useEffect)(()=>{u&&n&&!r.current.has(n)&&(r.current.add(n),o(u),u.size>0&&(0,sy.$D)(l.e.DS_ENABLEMENT,Error("Found ungrouped violations"),e=>(e.setExtras({linterSessionId:n,violationCounts:Array.from(u.entries())}),e)))},[u,n]),a}(),t=(0,s.useMemo)(()=>{let t=0;for(let n of e.values())t+=n;return t},[e]),n=(0,s.useCallback)(()=>{let t=JSON.stringify({ungroupedViolations:Array.from(e.entries()).map(([e,t])=>({ruleId:e,count:t}))},null,2);navigator.clipboard.writeText(t)},[e]);return(0,o.kc)().aip_flower_garden_debug&&0!==t?(0,i.jsxs)(iD.Cs,{variant:"danger",children:[(0,i.jsx)(iP.Q,{children:`There are ${t} ungrouped violations`}),(0,i.jsx)(iq.$,{onClick:n,children:"Copy error state"})]}):null}var ry=n(333331),rk=n(469603),rj=n(564914),r_=n(751831),rv=n(237677),rb=n(736813),rC=n(89312),rE=n(683794),rS=n(638641);function rT(e){let t=(0,T.md)(nu.$C);return t?.get(e)??{fix:null,status:"loading"}}function rI(e){return(0,T.md)(t7.VG).get(e)??{fix:null,status:"loading"}}var rw=n(131442);function rN({applyFixToRow:e,hasFix:t,isDisabled:n}){return t?(0,i.jsx)(tf.K,{htmlAttributes:t?{"data-tooltip-type":nl.Ib.TEXT,"data-tooltip":(0,m.t)("design_linter.penalty_box.apply_suggestion_tooltip")}:{},onClick:e,"aria-label":t?(0,m.t)("design_linter.penalty_box.apply_suggestion_tooltip"):"",disabled:n,children:(0,i.jsx)(rw.r,{})}):null}function rL({blockConfig:e,children:t,violationsByGroupKey:n}){let{getLabel:s,id:r}=e,l=(0,T.md)(nu.kR),a=(0,T.md)(nu.TT),o=Object.keys(n),d=o.length,u=a.has(o[0]??"");return 0===d||1===d&&u?null:(0,i.jsx)(rq,{label:s(),children:t(l)},r)}function rA({children:e,showHover:t,applyFixToRow:n,hasFix:s,customContainerStyle:r,shouldShowApplyButton:l=!0,isApplying:a=!1}){return(0,i.jsx)("div",{...en.Ay.props(rV.violationRowContainer,r),children:(0,i.jsxs)("div",{...{0:{className:"x9f619 x78zum5 x6s0dn4 xfawy5m xe3gq44 x1jnr06f"},1:{className:"x9f619 x78zum5 x6s0dn4 xfawy5m xe3gq44 x1jnr06f x30nh5c x19y5rnk"}}[!!t<<0],children:[e,(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x1jnr06f x8x9d4c",children:l&&n&&(0,i.jsx)(rN,{applyFixToRow:n,hasFix:!!s,isDisabled:a||!s})})]})})}function rR({applyFixToRow:e,children:t,fixStatus:n,isApplying:s,showHover:r}){return(0,i.jsxs)(rA,{showHover:r,applyFixToRow:e,hasFix:"loaded"===n,isApplying:s,children:[(0,i.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 x1n0bwc9 x6s0dn4",children:[(0,i.jsx)("div",{...{0:{className:"xlyipyv xuxw1ft xb3r6kr x6wrskw x29ncy0 xwrg52n"},1:{className:"xlyipyv xuxw1ft xb3r6kr x6wrskw x29ncy0 xwrg52n x3vvef7"}}[!!s<<0],children:t.currentValue}),(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xvy4d1p xxk0z11",children:(0,i.jsx)(sl.H,{className:"xe5c7bq"})})]}),(0,i.jsx)(rM,{fixStatus:n,children:(0,i.jsx)("div",{className:"xxbzjz2 x1l2q4c8 x78zum5 x6s0dn4",children:t.suggestedValue})})]})}function rO({children:e,fixStatus:t,groupKey:n,violations:r,isApplyingFixesToGroup:l}){let[a,o]=(0,s.useState)(!1),{applyFixToRow:d,isApplying:u}=function(e,t){let[n,i]=(0,s.useState)("idle"),r=(0,nn.am)();return{applyFixToRow:(0,s.useCallback)(()=>{if("running"===n)return;i("running");let s=T.zl.get(nu.TT);T.zl.set(nu.TT,new Set([...s,t])),setTimeout(async()=>{let n=nR.rO(e)?.ruleId;try{if(!r)throw Error("Design linter not available");let n=T.zl.get(nu.$C),s=[],l=[],a=n?.get(t);if(!a?.fix?.fixContext)throw Error("No fix context available");a.fix.ruleId===iH.C.EXTENSIBILITY_RULE?l.push(...e):s.push({violations:e,fixContext:a.fix.fixContext}),await r.applyFixContextToViolations({violationsWithFixContexts:s,customRuleViolations:l}),i("applied"),(0,nO.lX)(e.length,a.fix.ruleId)}catch{(0,nR.Lt)({message:(0,m.t)("design_linter.penalty_box.fix_failed_bell"),icon:rS.zX.EXCLAMATION,type:"fix error"}),(0,nO.Yu)(n),i("error")}finally{let e=new Set(T.zl.get(nu.TT));e.delete(t),T.zl.set(nu.TT,e)}},0)},[n,e,t,r]),isApplying:"running"===n}}(r,n);if(!r||0===r.length||u)return null;let x=u||l;return(0,i.jsx)("div",{onMouseEnter:()=>{o(!0),T.zl.set(t7.hx,r)},onMouseLeave:()=>{o(!1),T.zl.set(t7.hx,[])},children:e.suggestionRowContent({fixStatus:t,isApplying:x,showHover:a&&!x,applyFixToRow:d})})}function rM({fixStatus:e,children:t}){return"loading"===e?(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x19y5rnk x7z60cl xmkeg23 x1y0btm7 x1yjdb4r xxbzjz2 x1l2q4c8",children:(0,i.jsx)(iZ.Wi,{className:"x5yr21d xh8yej3",opacity:33,animationType:iZ.JR.SHIMMER})}):(0,i.jsx)("div",{className:"xxbzjz2 x1l2q4c8 x78zum5 x6s0dn4 x1jnr06f",children:t})}let rF=s.forwardRef(function({onClick:e,type:t},n){let s="";switch(t){case rE.kQ.COLOR:case rE.kQ.NUMBER:s=(0,m.t)("design_linter.suggestion_block.no_match.variable_tooltip");break;case rE.kQ.TEXT:s=(0,m.t)("design_linter.suggestion_block.no_match.style_tooltip")}return(0,i.jsx)(rP,{ref:n,onClick:e,tooltip:s,children:e=>(0,i.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 x1n0bwc9 xmauxvm x1iyjqo2 xs83m0k x1t1x2f9"},1:{className:"x78zum5 x6s0dn4 x1iyjqo2 xs83m0k x1t1x2f9 x1akne3o xfq8vap"}}[!!e<<0],children:(0,i.jsx)(rz,{type:t})})})});function rz({type:e}){let t="";switch(e){case rE.kQ.COLOR:case rE.kQ.NUMBER:t=(0,m.t)("design_linter.suggestion_block.no_match.variable");break;case rE.kQ.TEXT:t=(0,m.t)("design_linter.suggestion_block.no_match.style")}return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{children:(0,i.jsx)(rv.V,{})}),(0,i.jsx)(n9.G,{text:t})]})}function rD({label:e,value:t,isApplying:n}){let s=void 0!==t;return(0,i.jsxs)("span",{...{0:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xrvj5dj xju1xpo xh8yej3 x87ps6o"},1:{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xrvj5dj xju1xpo xh8yej3 x87ps6o x167g77z"}}[!!s<<0],"data-tooltip":e,"data-tooltip-type":nl.Ib.TEXT,children:[(0,i.jsx)("div",{...{0:{className:"xlyipyv xuxw1ft xb3r6kr"},1:{className:"xlyipyv xuxw1ft xb3r6kr x3vvef7"}}[!!n<<0],children:e}),s&&(0,i.jsx)("div",{...{0:{className:"x1n0bwc9"},1:{className:"x3vvef7"}}[!!n<<0],children:t})]})}let rP=s.forwardRef(function({children:e,onClick:t,tooltip:n,disabled:s=!1},r){let[l,a]=(0,rC.M)();return(0,i.jsx)("div",{ref:e=>{l(e),r&&("function"==typeof r?r(e):r.current=e)},...{0:{className:"xh8yej3 xgqtt45 x78zum5 x6s0dn4 x19y5rnk x7z60cl x87ps6o xmkeg23 x1y0btm7 x1yjdb4r x1iyjqo2 xs83m0k x1t1x2f9 xmzs88n x9f619"},1:{className:"xh8yej3 xgqtt45 x78zum5 x6s0dn4 x19y5rnk x7z60cl x87ps6o xmkeg23 x1y0btm7 x1iyjqo2 xs83m0k x1t1x2f9 xmzs88n x9f619 x1oqziki"}}[!!a<<0],children:(0,i.jsx)(n7.E,{onClick:t,className:"x78zum5 x6s0dn4 xjbqb8w xh8yej3 x1l2q4c8 x1iyjqo2 xs83m0k x1t1x2f9","data-tooltip":n,"data-tooltip-type":nl.Ib.TEXT,disabled:s,children:e(a)})})});function rq({children:e,label:t}){return(0,i.jsxs)("div",{"data-testid":"design-linter-suggestion-block-container",className:"x78zum5 xdt5ytf x87ps6o xwib8y2",children:[(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x10w6t97 x1qughib xnm25rq xnuq7ks",children:(0,i.jsx)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5",children:t})}),e]})}function rG({children:e,isDisabled:t}){return(0,i.jsx)("div",{...{0:{className:"x78zum5 x6s0dn4 xl56j7k xxk0z11 xvy4d1p xnei2rj"},1:{className:"x78zum5 x6s0dn4 xl56j7k xxk0z11 xvy4d1p xnei2rj x1ksfsxq"}}[!!t<<0],children:e})}function r$({items:e,header:t,subheader:n,suggestionBlock:r,rowListId:l="row-list"}){let[a,o]=(0,s.useState)(!1),[d,u]=(0,s.useState)(!1);return e&&0!==e.length?(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf",onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,i.jsxs)(n7.E,{onClick:()=>o(e=>!e),className:"x1vvogim xnjsko4 xnuq7ks x78zum5 x6s0dn4 x5mp9sv x87ps6o x9f619","aria-label":a?(0,m.t)("design_linter.suggestion_block.expand_list_aria"):(0,m.t)("design_linter.suggestion_block.collapse_list_aria"),children:[(0,i.jsx)("div",{className:"xmauxvm x15kz4h8 x1hshjfz x78zum5 x6s0dn4 xl56j7k",children:d&&(a?(0,i.jsx)(rb.k,{}):(0,i.jsx)(ri.O,{}))}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x1cy8zhl",children:[(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xsplgde xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly",children:t}),n&&(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 x1n0bwc9 x1hshjfz",children:n})]})]}),!a&&e.map((e,t)=>(0,i.jsx)("div",{children:e},`${r}-${l}-${t}`))]}):(0,i.jsx)(i.Fragment,{})}function rB(){return(0,i.jsx)("div",{className:"xjm9jq1 xbpqucl"})}let rV={violationRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kzqmXN:"x144ku6",kZKoxP:"x10w6t97",kB7OPa:"x9f619",$$css:!0}};var rH=n(760800),rU=n(959345);function rK(e){return"libraryKey"in e&&"checkpointId"in e}var rW=n(892572),rZ=n(727612),rX=n(50593),rY=n(471628),rQ=n(288747),rJ=n(754039),r0=n(568383);function r1({libraryName:e,libraryKey:t}){let{showApprovedLibraryIcon:n,shouldShowCommunityIcon:s}=function(e){let t=(0,rQ.sZ)(),n=(0,rJ.Oe)(t),i=(0,rZ.fV)(e),s=(0,T.md)(r0.V9);return{showApprovedLibraryIcon:n&&i,shouldShowCommunityIcon:!!(e?s[e]?.hubFileId??null:null)}}(t);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{className:"xdj266r x1ldx8e xat24cr x1iog12x",children:e}),n&&(0,i.jsx)(rX.KP,{libraryKey:t}),s&&(0,i.jsx)(rY.E,{libraryKey:t,showTooltip:!0})]})}function r2({libraryKey:e}){let{libraryName:t,isLoading:n}=function(e){let t=(0,T.md)(t7.ri),n=t.libraryNameMap.get(e),i=!n&&"loaded"===t.status,[r]=(0,tv.IT)((0,e_.Eb)({libraryKey:e}),{enabled:i}),l=r.data?.libraryKeyToFile?.file?.name,a=n||l,o="loaded"!==t.status,d=!a&&"loading"===r.status,u=o||d;return!function(e,t){let n=(0,T.Xr)(t7.ri);(0,s.useEffect)(()=>{t&&n(n=>n.libraryNameMap.has(e)?n:{...n,libraryNameMap:new Map(n.libraryNameMap).set(e,t)})},[e,t,n])}(e,l),(0,s.useMemo)(()=>({libraryName:a,isLoading:u}),[a,u])}(e);return n?null:t?(0,m.tx)("design_linter.suggestion_block.assets_subheader",{name:(0,i.jsx)(r1,{libraryName:t,libraryKey:e})}):(0,m.tx)("design_linter.suggestion_block.unknown_library_name")}function r3(e,t,n){return!(!e||0===e.length||n.has(t))}function r5(e,t){if(!e)return{};let n={};return Object.entries(e).forEach(([e,i])=>{r3(i,e,t)&&(n[e]=i)}),n}function r4(e,t){return e.filter(e=>(function(e,t){let n=Object.keys(e||{});return 0!==n.length&&n.some(n=>r3(e[n],n,t))})(e.violationsByGroupKey,t))}function r7(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.Q6),n=(0,T.md)(nu.TT),r=s.useMemo(()=>{let t=r4(e,n).flatMap(e=>Object.entries(e.violationsByGroupKey).filter(([e])=>!n.has(e)).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))).reduce((e,{blockConfig:t,groupKey:n,violation:i})=>{let{detectionContext:s}=i;if(!rK(s))return e;let{checkpointId:r}=s,l=s.libraryKey;return e[l]||(e[l]={blockConfig:t,violationsByCheckpoint:{}}),e[l].violationsByCheckpoint[r]||(e[l].violationsByCheckpoint[r]={violationLists:[],violationsByGroupKey:{}}),e[l].violationsByCheckpoint[r].violationsByGroupKey[n]||(e[l].violationsByCheckpoint[r].violationsByGroupKey[n]=[],e[l].violationsByCheckpoint[r].violationLists.push({groupKey:n,violation:i})),e[l].violationsByCheckpoint[r].violationsByGroupKey[n].push(i),e},{});return Object.keys(t).sort().map(e=>({libraryKey:e,blockConfig:t[e].blockConfig,violationsByCheckpoint:t[e].violationsByCheckpoint}))},[e,n]);return t&&0!==r.length?(0,i.jsx)(i.Fragment,{children:r.map(({libraryKey:e,blockConfig:t,violationsByCheckpoint:n},r)=>(0,i.jsxs)(s.Fragment,{children:[r>0&&(0,i.jsx)(rB,{}),(0,i.jsx)(r8,{libraryKey:e,blockConfig:t,violationsByCheckpoint:n})]},`library-${e}`))}):null}function r8({libraryKey:e,blockConfig:t,violationsByCheckpoint:n}){let r=function(e){let{checkpoints:t}=(0,T.md)(r_._);return s.useMemo(()=>Object.entries(e).filter(([e,{violationLists:n}])=>n.length>0||!t?.find(t=>t.id===e)).map(([e,{violationLists:n,violationsByGroupKey:i}])=>{let s=t?.find(t=>t.id===e);return s&&null!==s.publishDate?{violationLists:n,violationsByGroupKey:i,publishDate:s.publishDate,checkpointId:e,description:s.description}:null}).filter(e=>null!==e).sort((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()).map(({checkpointId:e,description:t,publishDate:n,violationLists:i,violationsByGroupKey:s})=>({checkpointId:e,description:t,publishDate:n,violationLists:i,violationsByGroupKey:s})),[t,e])}(n),l=s.useMemo(()=>r.reduce((e,t)=>e+Object.keys(t.violationsByGroupKey).length,0),[r]);return(0,i.jsx)("div",{children:(0,i.jsx)(r$,{suggestionBlock:rE.pZ.ASSET_UPDATES,header:(0,m.t)("design_linter.suggestion_block_headers.update_assets",{count:l}),subheader:(0,i.jsx)(r2,{libraryKey:e}),items:r.map(e=>(0,i.jsx)(r6,{blockConfig:t,violationSubblockData:e},e.checkpointId))})})}function r6({blockConfig:e,violationSubblockData:t}){let n=t.violationLists[0]?.violation.detectionContext??null,r=n&&rK(n),l=r?n.assetId:void 0,a=r&&n?.assetType==="COMPONENT"?rj.PW.COMPONENT:r&&n?.assetType==="STATE_GROUP"?rj.PW.STATE_GROUP:rj.PW.STYLE,o=(0,rk.R8)({assetKey:l,type:a}),d=s.useMemo(()=>{if("loaded"!==o.status)return;let e=(0,ry.oA)(o.data?.assetAttribution);return e?.type===eX.GC.TEAM?e.handle:e?.type===eX.GC.COMMUNITY?e.name:void 0},[o]);return(0,i.jsx)(rL,{blockConfig:{...e,getLabel:()=>(0,i.jsxs)("div",{className:"xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up x78zum5 xdt5ytf",children:[d&&(0,i.jsx)("div",{children:(0,rU.U)(d,t.publishDate)}),d&&t.description&&(0,i.jsx)("div",{className:"x1n0bwc9",children:t.description})]})},violationsByGroupKey:t.violationsByGroupKey,children:e=>(0,i.jsx)(r9,{violationLists:t.violationLists,violationsByGroupKey:t.violationsByGroupKey,isApplying:e})},t.checkpointId)}function r9({violationLists:e,isApplying:t,violationsByGroupKey:n}){return(0,i.jsx)(i.Fragment,{children:e.map(({groupKey:e,violation:s})=>{let{detectionContext:r}=s;return rK(r)?(0,i.jsx)(le,{groupKey:e,violations:n[s.groupKey]??[],isApplying:t},e):null})})}function le({groupKey:e,violations:t,isApplying:n}){let s=(0,nR.rO)(t),{status:r}=rT(e),l=(0,T.md)(r_.m);if(!s?.detectionContext)return null;let{detectionContext:a}=s;if(!rK(a))return null;let o="completed"===l[a.assetType+a.checkpointId]&&"loaded"===r?"loaded":"loading",d="COMPONENT"===a.assetType||"STATE_GROUP"===a.assetType,u="TEXT_STYLE"===a.assetType;return(0,i.jsx)(rO,{fixStatus:o,groupKey:e,violations:t,isApplyingFixesToGroup:n,children:{suggestionRowContent:e=>(0,i.jsx)(rA,{...e,customContainerStyle:li.assetRowContainer,hasFix:"loaded"===o,children:d?(0,i.jsx)(ln,{context:a,...e}):u?(0,i.jsx)(lt,{context:a,...e}):null})}})}function lt({context:e}){let{checkpoints:t}=(0,T.md)(r_._),{assetId:n,checkpointId:s}=e,r=t?.find(e=>e.id===s);if(!r)return null;let l=r.styles.find(e=>e.key===n);return l?(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1vvogim xfn1xvj xe3gq44",children:[(0,i.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,i.jsx)(rH.M,{item:l,localThumbnailGenerationBehavior:"default",draggable:!1,style:{maxHeight:"70%",maxWidth:"70%"}})}),(0,i.jsx)("span",{className:"x1iyjqo2 xb3r6kr xlyipyv xuxw1ft x1nx2rwh","data-tooltip":l.name,"data-tooltip-type":nl.Ib.TEXT,children:l.name})]}):null}function ln({context:e}){let t=(0,nP.eS)(nP.aD.CURRENT),{assetId:n}=e;if(!t[n])return null;let s=t[n];return(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1vvogim xfn1xvj xe3gq44",children:[(0,i.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,i.jsx)(rH.M,{item:s,localThumbnailGenerationBehavior:"default",draggable:!1,style:{maxHeight:"90%",maxWidth:"90%"}})}),(0,i.jsx)("span",{className:"x1iyjqo2 xb3r6kr xlyipyv xuxw1ft x1nx2rwh","data-tooltip":s.name,"data-tooltip-type":nl.Ib.TEXT,children:s.name})]})}let li={assetRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kZKoxP:"xng8ra",$$css:!0}};var ls=n(252591),lr=n(491488),ll=n(188220),la=n(979850),lo=n(185411),ld=n(930612),lu=n(322839),lx=n(391145),lc=n(31786);function lp(e){return"libraryKey"in e&&"assetType"in e}function lm(e){return!!e&&"resolvedValue"in e&&e.resolvedValue.type===a.Z_n.FLOAT}function lh(e){return!!e&&"resolvedValue"in e&&e.resolvedValue.type===a.Z_n.COLOR}function lf(e){return!!e&&"type"in e&&e.type===lc.P.STYLE}let lg="suggestion_rule_blocks--chit--zCpjn";function ly(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.LG),n=(0,T.md)(nu.TT),r=r4(e,n),l=s.useMemo(()=>{let e=r.flatMap(e=>Object.entries(r5(e.violationsByGroupKey,n)).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))).reduce((e,{blockConfig:t,groupKey:n,violation:i})=>{let{detectionContext:s}=i;if(!lp(s))return e;let r=((e,t)=>{let n=["FRAME","TEXT"].includes(e)?i.nodeType:"SHAPE";return["RECTANGLE_TOP_LEFT_CORNER_RADIUS","RECTANGLE_TOP_RIGHT_CORNER_RADIUS","RECTANGLE_BOTTOM_LEFT_CORNER_RADIUS","RECTANGLE_BOTTOM_RIGHT_CORNER_RADIUS"].includes(t)?"SHAPE-CORNER_RADIUS":["STACK_PADDING_LEFT","STACK_PADDING_RIGHT","STACK_PADDING_TOP","STACK_PADDING_BOTTOM"].includes(t)?`${n}-PADDING`:["STACK_SPACING_HORIZONTAL","GRID_COLUMN_GAP"].includes(t)?`${n}-SPACING_HORIZONTAL`:["STACK_SPACING_VERTICAL","GRID_ROW_GAP"].includes(t)?`${n}-SPACING_VERTICAL`:"TEXT_STYLE"===t?`${n}-STYLE`:`${n}-${t}`})(i.nodeType,s.assetType),l=s.libraryKey;return e[l]||(e[l]={blockConfig:t,violationsByType:{"FRAME-FILL":{violationLists:[],violationsByGroupKey:{}},"FRAME-STROKE":{violationLists:[],violationsByGroupKey:{}},"FRAME-SPACING_HORIZONTAL":{violationLists:[],violationsByGroupKey:{}},"FRAME-SPACING_VERTICAL":{violationLists:[],violationsByGroupKey:{}},"FRAME-PADDING":{violationLists:[],violationsByGroupKey:{}},"TEXT-FILL":{violationLists:[],violationsByGroupKey:{}},"TEXT-STROKE":{violationLists:[],violationsByGroupKey:{}},"TEXT-STYLE":{violationLists:[],violationsByGroupKey:{}},"SHAPE-FILL":{violationLists:[],violationsByGroupKey:{}},"SHAPE-STROKE":{violationLists:[],violationsByGroupKey:{}},"SHAPE-COMPONENT":{violationLists:[],violationsByGroupKey:{}},"SHAPE-CORNER_RADIUS":{violationLists:[],violationsByGroupKey:{}}}}),e[l].violationsByType[r]&&(e[l].violationsByType[r].violationsByGroupKey[n]||(e[l].violationsByType[r].violationsByGroupKey[n]=[],e[l].violationsByType[r].violationLists.push({groupKey:n,violation:i})),e[l].violationsByType[r].violationsByGroupKey[n].push(i)),e},{});return Object.keys(e).sort().map(t=>({libraryKey:t,blockConfig:e[t].blockConfig,violationsByType:e[t].violationsByType}))},[r,n]);return t&&0!==l.length?(0,i.jsx)(i.Fragment,{children:l.map(({libraryKey:e,blockConfig:t,violationsByType:n},r)=>(0,i.jsxs)(s.Fragment,{children:[r>0&&(0,i.jsx)(rB,{}),(0,i.jsx)(lk,{libraryKey:e,blockConfig:t,violationsByType:n})]},`library-${e}`))}):null}function lk({libraryKey:e,blockConfig:t,violationsByType:n}){let r=s.useMemo(()=>Object.entries(n).filter(([e,{violationLists:t}])=>t.length>0).map(([e,{violationLists:t,violationsByGroupKey:n}])=>{let i={violationLists:t,violationsByGroupKey:n};switch(e){case"FRAME-FILL":return{...i,key:"frameFill",priority:1,label:(0,m.t)("design_linter.suggestion_block.fill_colors.background_colors"),dropdownTitle:(0,m.t)("design_linter.rules.color.dropdown_title")};case"FRAME-STROKE":return{...i,key:"frameStroke",priority:2,label:(0,m.t)("design_linter.suggestion_block.stroke_colors.stroke_color"),dropdownTitle:(0,m.t)("design_linter.rules.color.dropdown_title")};case"SHAPE-FILL":return{...i,key:"shapeFill",priority:3,label:(0,m.t)("design_linter.suggestion_block.fill_colors.shape_colors"),dropdownTitle:(0,m.t)("design_linter.rules.color.dropdown_title")};case"SHAPE-STROKE":return{...i,key:"shapeStroke",priority:4,label:(0,m.t)("design_linter.suggestion_block.stroke_colors.shape_stroke_colors"),dropdownTitle:(0,m.t)("design_linter.rules.color.dropdown_title")};case"TEXT-FILL":return{...i,key:"textFill",priority:5,label:(0,m.t)("design_linter.suggestion_block.fill_colors.text_color"),dropdownTitle:(0,m.t)("design_linter.rules.color.dropdown_title")};case"TEXT-STROKE":return{...i,key:"textStroke",priority:6,label:(0,m.t)("design_linter.suggestion_block.stroke_colors.text_stroke_color"),dropdownTitle:(0,m.t)("design_linter.rules.color.dropdown_title")};case"TEXT-STYLE":return{...i,key:"textStyle",priority:7,label:(0,m.t)("design_linter.suggestion_block.text_style"),dropdownTitle:(0,m.t)("design_linter.rules.text_styles.dropdown_title")};case"SHAPE-CORNER_RADIUS":return{...i,key:"shapeCornerRadius",priority:8,label:(0,m.t)("design_linter.suggestion_block.corner_radius"),dropdownTitle:(0,m.t)("design_linter.rules.corner_radius.dropdown_title")};case"FRAME-SPACING_HORIZONTAL":return{...i,key:"frameSpacingHorizontal",priority:9,label:(0,m.t)("design_linter.suggestion_block.horizontal_spacing"),dropdownTitle:(0,m.t)("design_linter.rules.spacing.dropdown_title")};case"FRAME-SPACING_VERTICAL":return{...i,key:"frameSpacingVertical",priority:10,label:(0,m.t)("design_linter.suggestion_block.vertical_spacing"),dropdownTitle:(0,m.t)("design_linter.rules.spacing.dropdown_title")};case"FRAME-PADDING":return{...i,key:"framePadding",priority:11,label:(0,m.t)("design_linter.suggestion_block.padding"),dropdownTitle:(0,m.t)("design_linter.rules.spacing.dropdown_title")};case"SHAPE-COMPONENT":return{...i,key:"component",priority:12,label:(0,m.t)("design_linter.suggestion_block.library_assets.components"),dropdownTitle:""};default:return null}}).filter(e=>null!==e).sort((e,t)=>e.priority-t.priority),[n]),l=s.useMemo(()=>r.reduce((e,t)=>e+Object.keys(t.violationsByGroupKey).length,0),[r]);return(0,i.jsx)("div",{children:(0,i.jsx)(r$,{rowListId:e,suggestionBlock:rE.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,header:(0,m.t)("design_linter.suggestion_block_headers.unexpected_assets",{count:l}),subheader:(0,i.jsx)(r2,{libraryKey:e}),items:r.map(e=>(0,i.jsx)(rL,{blockConfig:{...t,getLabel:()=>e.label},violationsByGroupKey:e.violationsByGroupKey,children:t=>(0,i.jsx)(lj,{violationLists:e.violationLists,violationsByGroupKey:e.violationsByGroupKey,isApplying:t,dropdownTitle:e.dropdownTitle})},e.key))})})}function lj({violationLists:e,isApplying:t,violationsByGroupKey:n,dropdownTitle:s}){return(0,i.jsx)(i.Fragment,{children:e.map(({groupKey:e,violation:r})=>{let{detectionContext:l}=r;return lp(l)?(0,i.jsx)(l_,{groupKey:e,violations:n[r.groupKey]??[],ruleId:r.ruleId,isApplying:t,dropdownTitle:s},e):null})})}function l_({groupKey:e,violations:t,ruleId:n,isApplying:s,dropdownTitle:r}){let l=(0,nR.rO)(t),{fix:a,status:o}=rT(e);if(!l?.detectionContext)return null;let{detectionContext:d,developerId:u,nodeType:x}=l;if(!lp(d))return null;let c="TEXT_STYLE"===d.assetType,p="COMPONENT"===d.assetType,m=ld.P.includes(d.assetType);return p?(0,i.jsx)(lC,{detectionContext:d,fixStatus:o,groupKey:e,violations:t,isApplying:s}):(0,i.jsx)(rO,{fixStatus:o,groupKey:e,violations:t,isApplyingFixesToGroup:s,children:{suggestionRowContent:t=>(0,i.jsx)(rR,{...t,children:{currentValue:c?(0,i.jsx)(lv,{context:d}):(0,i.jsx)(lb,{context:d}),suggestedValue:c?(0,i.jsx)(lS,{fix:a,groupKey:e,isApplying:s,ruleId:n,dropdownTitle:r}):m?(0,i.jsx)(lT,{fix:a,groupKey:e,ruleId:n,violatingDevId:u,assetType:d.assetType,isApplying:s,dropdownTitle:r}):(0,i.jsx)(lI,{fix:a,groupKey:e,ruleId:n,violatingDevId:u,nodeType:x,assetType:d.assetType,isApplying:s,dropdownTitle:r})}})}})}function lv({context:e}){let t=e?.assetId??null,n=(0,lu.Fj)(t);if(!e||!n)return null;let s=n.name;return(0,i.jsx)("span",{"data-tooltip":s,"data-tooltip-type":nl.Ib.TEXT,children:s})}function lb({context:e}){let t=(0,T.md)(t7.nE);if(!e)return null;let{assetId:n}=e,s=lr.sD.fromString(n);if(!s)return null;let r=t[s],l=r?.name;if(r||(l=la.D(s)?.name),!l)return null;let a=l;return(0,i.jsx)("span",{"data-tooltip":a,"data-tooltip-type":nl.Ib.TEXT,children:a})}function lC({detectionContext:e,fixStatus:t,groupKey:n,violations:s,isApplying:r}){let l=(0,nP.eS)(nP.aD.CURRENT)[e.assetId];return l?(0,i.jsx)(rO,{fixStatus:t,groupKey:n,violations:s,isApplyingFixesToGroup:r,children:{suggestionRowContent:e=>(0,i.jsx)(rA,{...e,customContainerStyle:lw.componentRowContainer,shouldShowApplyButton:!1,children:(0,i.jsx)(lE,{item:l,...e})})}}):null}function lE({item:e}){return(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 xe8ttls xe3gq44",children:[(0,i.jsx)("div",{className:"x6s0dn4 x1v8gsql xmkeg23 x1y0btm7 x1co876m x1sxf85j x78zum5 x2lah0s xl56j7k xyo1k6t x187nhsf xn3w4p2",children:(0,i.jsx)(rH.M,{className:"thumbClassName",item:e,localThumbnailGenerationBehavior:"default",draggable:!1,style:{maxHeight:"90%",maxWidth:"90%"}})}),(0,i.jsx)("span",{className:"x1iyjqo2 xb3r6kr xlyipyv xuxw1ft x1nx2rwh","data-tooltip":e.name,"data-tooltip-type":nl.Ib.TEXT,children:e.name})]})}function lS({fix:e,groupKey:t,isApplying:n,ruleId:r,dropdownTitle:l}){let{fixContext:a,valid:o}=e??{},d=(0,s.useRef)(null),u=(0,T.Xr)(ia.uw),x=(0,T.Xr)(ia.aW),c=(0,T.Xr)(ia.iO),p=(0,T.Xr)(ia.rg),m=(0,T.Xr)(ia.jV),h=(0,io.sf)(),{fix:f}=rI(t),{fixContext:g}=f??{},y=a?.fixes,k=g?.fixes,{allStyles:j,listItems:_,styleKeyToStyle:v}=(0,io.td)({selectedStyles:y?.fixes??[],cachedStyles:(k?.fixes??[]).slice(0,io.lz)}),b=y?.fixes.length?y?.fixes[0]:j[0],C=(0,s.useCallback)(e=>!!lf(y?.fixes?.[0])&&"style"in e&&e.style.key.toString()===y?.fixes[0].key.toString(),[y]),E=(0,s.useCallback)(({id:e,rankPosition:n,isFromSuggestedList:i})=>{let s=v[e];if(!s)return;let l={...a,fixes:{suggestionId:(0,ll.g)(),fixes:[s],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i}};T.zl.set(nu.Sg,{groupKey:t,selectedFixItem:{fix:{ruleId:r,valid:!0,fixContext:l},status:"loaded"}})},[v,t,a,r]),S=(0,s.useCallback)(()=>{if(n)return;let e=T.zl.get(ia.uw),t=!!e?.current&&!!d.current,i=e?.current===d.current;if(t&&i){h();return}let s=a?.suggestionId;m(()=>C),p(()=>E),c({title:l,blockType:rE.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:s,items:_}),u(d),x(!0)},[h,n,C,_,E,u,x,m,c,p,a,l]);return e&&o&&a&&lf(b)?(0,i.jsx)(rP,{ref:d,onClick:S,tooltip:b.name,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:n,children:(0,i.jsx)(lx.J,{fillStyle:b,className:lg})}),(0,i.jsx)(rD,{label:b.name,isApplying:n})]})}):(0,i.jsx)(rF,{ref:d,onClick:S,type:rE.kQ.TEXT})}function lT({ruleId:e,fix:t,groupKey:n,violatingDevId:r,assetType:l,isApplying:o,dropdownTitle:d}){let{fixContext:u,valid:x}=t??{},c=(0,s.useRef)(null),p=(0,io.sf)(),m=(0,T.Xr)(ia.uw),h=(0,T.Xr)(ia.aW),f=(0,T.Xr)(ia.iO),g=(0,T.Xr)(ia.rg),y=(0,T.Xr)(ia.jV),{fix:k}=rI(n),{fixContext:j}=k??{},_=u?.fixes,v=j?.fixes,b=(0,lo.d$)({ruleId:e,assetType:l}),{fixes:C,listItems:E,allResolvedVariables:S,variableMap:I}=(0,io.Dt)({selectedFixes:_?.fixes??[],cachedFixes:(v?.fixes??[]).slice(0,io.OL),violatingDevId:r,type:a.rXF.FLOAT,scopes:b}),w=s.useMemo(()=>{if(!lm(_?.fixes[0]))return C[0];let e=_?.fixes[0].variableId;if(!e||!S)return C[0];let t=S.libraryVariables[e]?.resolvedValue??S.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:C[0]},[_,S,C]),N=(0,s.useCallback)(e=>!!(e?.id&&lm(_?.fixes[0]))&&e.id===_?.fixes[0].variableId,[_]),L=(0,s.useCallback)(({id:t,rankPosition:i,isFromSuggestedList:s})=>{if(!S)return;let r=S.libraryVariables[t]?.resolvedValue??S.localVariables[t]?.resolvedValue;if(!r)return;let l={...u,fixes:{suggestionId:(0,ll.g)(),fixes:[{variableId:t,resolvedValue:r}],selectedItemRankPosition:i,selectedItemIsFromSuggestedList:s}};T.zl.set(nu.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:e,valid:!0,fixContext:l},status:"loaded"}})},[S,e,n,u]),A=(0,s.useCallback)(()=>{let e=T.zl.get(ia.uw),t=!!e?.current&&!!c.current,n=e?.current===c.current;if(t&&n){p();return}let i=u?.suggestionId;m(c),h(!0),y(()=>N),g(()=>L),f({title:d,blockType:rE.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:i,items:E})},[m,h,y,N,g,L,f,E,p,u,d]);if(!t||!x||!u||!C||0===C.length||!w||!r)return(0,i.jsx)(rF,{ref:c,onClick:A,type:rE.kQ.NUMBER});let{variableId:R,resolvedValue:O}=w,M=(I??{})[R]?.name,F=O.value;return F&&M?(0,i.jsx)(rP,{ref:c,onClick:A,tooltip:M,disabled:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:o,children:(0,i.jsx)(ls.J,{})}),(0,i.jsx)(rD,{label:M,value:F,isApplying:o})]})}):(0,i.jsx)(rF,{ref:c,onClick:A,type:rE.kQ.NUMBER})}function lI({ruleId:e,fix:t,groupKey:n,violatingDevId:r,nodeType:l,assetType:o,isApplying:d,dropdownTitle:u}){let{fixContext:x,valid:c}=t??{},p=(0,s.useRef)(null),m=(0,io.sf)(),h=(0,T.Xr)(ia.uw),f=(0,T.Xr)(ia.aW),g=(0,T.Xr)(ia.iO),y=(0,T.Xr)(ia.rg),k=(0,T.Xr)(ia.jV),{fix:j}=rI(n),{fixContext:_}=j??{},v=x?.fixes,b=_?.fixes,C=(0,lo.d$)({ruleId:e,nodeType:l,assetType:o}),{fixes:E,listItems:S,allResolvedVariables:I,variableMap:w}=(0,io.Dt)({selectedFixes:v?.fixes??[],cachedFixes:(b?.fixes??[]).slice(0,io.EN),violatingDevId:r,type:a.rXF.COLOR,scopes:C}),N=s.useMemo(()=>{if(!lh(v?.fixes[0]))return E[0];let e=v?.fixes[0].variableId;if(!e||!I)return E[0];let t=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:E[0]},[v,I,E]),L=(0,s.useCallback)(e=>!!(e?.id&&lh(v?.fixes[0]))&&e.id===v?.fixes[0].variableId,[v]),A=(0,s.useCallback)(({id:t,rankPosition:i,isFromSuggestedList:s})=>{if(!I)return;let r=I.libraryVariables[t]?.resolvedValue??I.localVariables[t]?.resolvedValue;if(!r)return;let l={...x,fixes:{suggestionId:(0,ll.g)(),fixes:[{variableId:t,resolvedValue:r}],selectedItemRankPosition:i,selectedItemIsFromSuggestedList:s}};T.zl.set(nu.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:e,valid:!0,fixContext:l},status:"loaded"}})},[I,e,x,n]),R=(0,s.useCallback)(()=>{let e=T.zl.get(ia.uw),t=!!e?.current&&!!p.current,n=e?.current===p.current;if(t&&n){m();return}let i=x?.suggestionId;h(p),f(!0),k(()=>L),y(()=>A),g({title:u,blockType:rE.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,suggestionId:i,items:S})},[h,f,k,L,y,A,g,S,m,x,u]);if(!t||!c||!x||!E||0===E.length||!N||!r)return(0,i.jsx)(rF,{ref:p,onClick:R,type:rE.kQ.COLOR});let{variableId:O,resolvedValue:M}=N,F=(w??{})[O]?.name,z=M.value;return z&&F?(0,i.jsx)(rP,{ref:p,onClick:R,tooltip:F,disabled:d,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:d,children:(0,i.jsx)(lx.J,{color:z,opacity:z.a,className:lg})}),(0,i.jsx)(rD,{label:F,isApplying:d})]})}):(0,i.jsx)(rF,{ref:p,onClick:R,type:rE.kQ.COLOR})}let lw={componentRowContainer:{k1xSpc:"x78zum5",k8WAf4:"xt970qd",kLKAdn:null,kGO01o:null,kg3NbH:"xdqyycr",kuDDbn:null,kE3dHu:null,kP0aTx:null,kpe85a:null,kZKoxP:"xng8ra",$$css:!0}};var lN=n(41076),lL=n(435049);function lA(e){let{blocks:t,totalViolations:n}=e,i=(0,T.md)(nu.TT),r=s.useMemo(()=>r4(t,i),[t,i]),l=s.useMemo(()=>r.reduce((e,{violationsByGroupKey:t})=>e+Object.keys(r5(t,i)).length,0),[r,i]),a=!!n&&r.length>0;return{visibleSuggestionBlocks:r,numRows:l,shouldShow:a}}function lR(e){let{shouldShow:t}=lA(e);return t}function lO({data:e,suggestionBlock:t,header:n,subheader:r,renderRow:l}){let{visibleSuggestionBlocks:a,shouldShow:o}=lA(e),d=(0,T.md)(nu.TT);return o?(0,i.jsx)(r$,{suggestionBlock:t,header:n,subheader:r,items:a.map(({blockConfig:e,violationsByGroupKey:t})=>{let n=r5(t,d);return(0,i.jsx)(rL,{blockConfig:e,violationsByGroupKey:n,children:t=>(0,i.jsx)(i.Fragment,{children:Object.entries(n).map(([n,r])=>{let a=(0,nR.rO)(r);return(0,i.jsx)(s.Fragment,{children:l({blockConfig:e,violations:r,groupKey:n,ruleId:a?.ruleId,isApplying:t})},n)})})},e.id)})}):null}function lM(){let e=(0,T.md)(rW.r0),{numRows:t}=lA(e);return(0,i.jsx)(lO,{data:e,suggestionBlock:rE.sE.COLOR_VARIABLES,header:(0,m.t)("design_linter.suggestion_block_headers.color",{count:t}),renderRow:({blockConfig:e,violations:t,groupKey:n,ruleId:s,isApplying:r})=>(0,i.jsx)(lF,{blockConfig:e,violations:t,groupKey:n,ruleId:s,isApplying:r})})}function lF({blockConfig:e,groupKey:t,violations:n,ruleId:s,isApplying:r}){let l=(0,nR.rO)(n),{fix:a,status:o}=rT(t);if(!l?.detectionContext)return null;let{detectionContext:d,developerId:u,nodeType:x}=l;return(0,i.jsx)(rO,{fixStatus:o,groupKey:t,violations:n,isApplyingFixesToGroup:r,children:{suggestionRowContent:n=>(0,i.jsx)(rR,{...n,children:{currentValue:(0,i.jsx)(lz,{context:d}),suggestedValue:(0,i.jsx)(lD,{blockConfig:e,fix:a,groupKey:t,ruleId:s,violatingDevId:u,nodeType:x,isApplying:r})}})}})}function lz({context:e}){if(!e)return null;let t=e.color,n=e.opacity,s=`${lN.z5.format(t)}${n&&n<1?` \xb7 ${function(e){let t=new lL.t6({min:0,max:100});return`${t.format(100*e)}%`}(n)}`:""}`;return(0,i.jsx)("span",{"data-tooltip":s,"data-tooltip-type":nl.Ib.TEXT,children:s})}function lD({blockConfig:e,ruleId:t,fix:n,groupKey:r,violatingDevId:l,nodeType:o,isApplying:d}){let{fixContext:u,valid:x}=n??{},{id:c,dropdownTitle:p}=e,m=s.useRef(null),h=(0,io.sf)(),f=(0,T.Xr)(ia.uw),g=(0,T.Xr)(ia.aW),y=(0,T.Xr)(ia.iO),k=(0,T.Xr)(ia.rg),j=(0,T.Xr)(ia.jV),{fix:_}=rI(r),{fixContext:v}=_??{},b=u?.fixes,C=v?.fixes,E=(0,lo.d$)({ruleId:t,nodeType:o}),{fixes:S,listItems:I,allResolvedVariables:w,variableMap:N}=(0,io.Dt)({selectedFixes:b??[],cachedFixes:(C??[]).slice(0,io.EN),violatingDevId:l,type:a.rXF.COLOR,scopes:E}),L=s.useMemo(()=>{if(!b?.length)return S[0];let e=b[0]?.variableId;if(!e||!w)return S[0];let t=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:S[0]},[b,w,S]),A=(0,s.useCallback)(e=>!!(e?.id&&b?.length)&&e.id===b[0]?.variableId,[b]),R=(0,s.useCallback)(({id:e,rankPosition:n,isFromSuggestedList:i})=>{if(!w||!t)return;let s=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;if(!s)return;let l={...u,fixes:[{variableId:e,resolvedValue:s}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i};T.zl.set(nu.Sg,{groupKey:r,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:l},status:"loaded"}})},[w,t,r,u]),O=(0,s.useCallback)(()=>{let e=T.zl.get(ia.uw),t=!!e?.current&&!!m.current,n=e?.current===m.current;if(t&&n){h();return}let i=u?.suggestionId;f(m),g(!0),j(()=>A),k(()=>R),y({title:p,suggestionId:i,blockType:c,items:I})},[c,f,g,j,A,k,R,y,I,h,u,p]);if(!n||!x||!u||!S||0===S.length||!L||!l)return(0,i.jsx)(rF,{ref:m,onClick:O,type:rE.kQ.COLOR});let{variableId:M,resolvedValue:F}=L,z=(N??{})[M]?.name,D=F.value;return D&&z?(0,i.jsx)(rP,{ref:m,onClick:O,tooltip:z,disabled:d,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:d,children:(0,i.jsx)(lx.J,{color:D,opacity:D.a,className:lg})}),(0,i.jsx)(rD,{label:z,isApplying:d})]})}):(0,i.jsx)(rF,{ref:m,onClick:O,type:rE.kQ.COLOR})}function lP(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.yU),n=(0,T.md)(t7.d$),r=(0,T.md)(nu.TT),l=s.useMemo(()=>{let t=r4(e,r).flatMap(e=>Object.entries(r5(e.violationsByGroupKey,r)).flatMap(([t,n])=>n.map(n=>({groupKey:t,violation:n,blockConfig:e.blockConfig})))),n={};return t.forEach(({blockConfig:e,groupKey:t,violation:i})=>{let{detectionContext:s}=i,r=s?.pluginId,l=s?.rule?.name;r&&l&&(n[r]||(n[r]={}),n[r][l]||(n[r][l]={blockConfig:e,violationsByGroupKey:{},ruleName:l}),n[r][l].violationsByGroupKey[t]||(n[r][l].violationsByGroupKey[t]=[]),n[r][l].violationsByGroupKey[t].push(i))}),Object.keys(n).sort().map(e=>({pluginId:e,rules:Object.values(n[e])}))},[e,r]);return t&&0!==l.length?(0,i.jsx)(i.Fragment,{children:l.map(({pluginId:e,rules:t},r)=>(0,i.jsxs)(s.Fragment,{children:[r>0&&(0,i.jsx)(rB,{}),(0,i.jsx)(r$,{suggestionBlock:rE.pZ.EXTENSIBILITY_RULE,header:(0,m.t)("design_linter.rules.plugin_rules.header",{pluginName:n?.get(e)?.name??""}),items:t.filter(({violationsByGroupKey:e})=>Object.keys(e).length>0).map(({blockConfig:t,violationsByGroupKey:n,ruleName:s})=>(0,i.jsx)(rL,{blockConfig:{...t,getLabel:()=>(0,i.jsx)("span",{children:s})},violationsByGroupKey:n,children:e=>(0,i.jsx)(i.Fragment,{children:Object.entries(n).map(([t,n])=>(0,i.jsx)(lq,{groupKey:t,violations:n,isApplying:e},t))})},`${t.id}-${e}-${s}`))})]},`plugin-${e}`))}):null}let lq=s.memo(function({groupKey:e,violations:t,isApplying:n}){return(0,i.jsx)("div",{children:(0,i.jsx)(lG,{violations:t,groupKey:e,isApplying:n})},e)});function lG({violations:e,groupKey:t,isApplying:n}){let[r]=(0,s.useState)(!1),{status:l}=rT(t),a=(0,nR.rO)(e),o=a?.detectionContext;return!r&&o?.explanation&&e.length?(0,i.jsx)(rO,{fixStatus:"loaded"===l?"loaded":"loading",groupKey:t,violations:e,isApplyingFixesToGroup:n,children:{suggestionRowContent:e=>(0,i.jsx)(rA,{...e,hasFix:!0,children:(0,i.jsx)("div",{className:"x1akne3o x37zpob x1iyjqo2 xs83m0k x1t1x2f9 xilkfi8 x1vvkbs x1mzt3pk xeuugli",children:o.explanation})})}}):null}function l$(){let e=(0,T.md)(rW.d9),{numRows:t}=lA(e);return(0,i.jsx)(lO,{data:e,suggestionBlock:rE.sE.NUMBER_VARIABLES,header:(0,m.t)("design_linter.suggestion_block_headers.number",{count:t}),renderRow:({blockConfig:e,violations:t,groupKey:n,ruleId:s,isApplying:r})=>(0,i.jsx)(lB,{blockConfig:e,violations:t,groupKey:n,ruleId:s,isApplying:r})})}function lB({blockConfig:e,groupKey:t,violations:n,ruleId:s,isApplying:r}){let l=(0,nR.rO)(n),{fix:a,status:o}=rT(t);if(!l?.detectionContext)return null;let{detectionContext:d,developerId:u}=l;return(0,i.jsx)(rO,{fixStatus:o,groupKey:t,violations:n,isApplyingFixesToGroup:r,children:{suggestionRowContent:n=>(0,i.jsx)(rR,{...n,children:{currentValue:(0,i.jsx)(lV,{context:d}),suggestedValue:(0,i.jsx)(lH,{blockConfig:e,fix:a,groupKey:t,ruleId:s,violatingDevId:u,isApplying:r})}})}})}function lV({context:e}){if(!e)return null;let t=parseFloat(e.numericValue.toFixed(2)).toString();return(0,i.jsx)("span",{"data-tooltip":t,"data-tooltip-type":nl.Ib.TEXT,children:t})}function lH({blockConfig:e,ruleId:t,fix:n,groupKey:r,violatingDevId:l,isApplying:o}){let{fixContext:d,valid:u}=n??{},{id:x,dropdownTitle:c}=e,p=(0,s.useRef)(null),m=(0,io.sf)(),h=(0,T.Xr)(ia.uw),f=(0,T.Xr)(ia.aW),g=(0,T.Xr)(ia.iO),y=(0,T.Xr)(ia.rg),k=(0,T.Xr)(ia.jV),{fix:j}=rI(r),{fixContext:_}=j??{},v=d?.fixes,b=_?.fixes,C=(0,lo.d$)({ruleId:t}),{fixes:E,listItems:S,allResolvedVariables:I,variableMap:w}=(0,io.Dt)({selectedFixes:v??[],cachedFixes:(b??[]).slice(0,io.OL),violatingDevId:l,type:a.rXF.FLOAT,scopes:C}),N=s.useMemo(()=>{if(!v?.length)return E[0];let e=v[0]?.variableId;if(!e||!I)return E[0];let t=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:E[0]},[v,I,E]),L=(0,s.useCallback)(e=>!!(e?.id&&v?.length)&&e.id===v[0]?.variableId,[v]),A=(0,s.useCallback)(({id:e,rankPosition:n,isFromSuggestedList:i})=>{if(!I||!t)return;let s=I.libraryVariables[e]?.resolvedValue??I.localVariables[e]?.resolvedValue;if(!s)return;let l={...d,fixes:[{variableId:e,resolvedValue:s}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i};T.zl.set(nu.Sg,{groupKey:r,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:l},status:"loaded"}})},[I,t,r,d]),R=(0,s.useCallback)(()=>{let e=T.zl.get(ia.uw),t=!!e?.current&&!!p.current,n=e?.current===p.current;if(t&&n){m();return}let i=d?.suggestionId;h(p),f(!0),k(()=>L),y(()=>A),g({title:c,blockType:x,suggestionId:i,items:S})},[x,h,f,k,L,y,A,g,S,m,d,c]);if(!n||!u||!d||!E||0===E.length||!N||!l)return(0,i.jsx)(rF,{ref:p,onClick:R,type:rE.kQ.NUMBER});let{variableId:O,resolvedValue:M}=N,F=(w??{})[O]?.name,z=M.value;return F?(0,i.jsx)(rP,{ref:p,onClick:R,tooltip:F,disabled:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:o,children:(0,i.jsx)(ls.J,{})}),(0,i.jsx)(rD,{label:F,value:z,isApplying:o})]})}):(0,i.jsx)(rF,{ref:p,onClick:R,type:rE.kQ.NUMBER})}var lU=n(350205),lK=n(131436),lW=n(769845),lZ=n(467202);function lX(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.qQ),n=(0,T.md)(nu.TT),r=s.useMemo(()=>r4(e,n),[e,n]);return t&&0!==r.length?(0,i.jsx)(r$,{suggestionBlock:rE.pZ.TEXT_BACKGROUND_CONTRAST_AA,header:(0,m.t)("design_linter.suggestion_block_headers.accessibility_standards"),items:r.map(({blockConfig:e,violationsByGroupKey:t})=>{let s=r5(t,n);return(0,i.jsx)(rL,{blockConfig:e,violationsByGroupKey:s,children:t=>(0,i.jsx)(i.Fragment,{children:Object.entries(s).map(([n,s])=>{let r=(0,nR.rO)(s);return(0,i.jsx)(lY,{blockConfig:e,violations:s,groupKey:n,ruleId:r?.ruleId,isApplying:t},n)})})},e.id)})}):null}function lY({blockConfig:e,groupKey:t,violations:n,ruleId:s,isApplying:r}){let l=(0,nR.rO)(n),{fix:a,status:o}=rT(t);if(!l?.detectionContext)return null;let{detectionContext:d,developerId:u}=l;return(0,i.jsx)(rO,{fixStatus:o,groupKey:t,violations:n,isApplyingFixesToGroup:r,children:{suggestionRowContent:n=>(0,i.jsx)(rR,{...n,children:{currentValue:(0,i.jsx)(lQ,{context:d}),suggestedValue:(0,i.jsx)(lJ,{blockConfig:e,fix:a,groupKey:t,ruleId:s,violatingDevId:u,isApplying:r,detectionContext:d})}})}})}function lQ({context:e}){if(!e)return null;let t=e.fillColor,n=e.fillOpacity,s=`${lN.z5.format(t)}${n&&n<1?` \xb7 ${function(e){let t=new lL.t6({min:0,max:100});return`${t.format(100*e)}%`}(n)}`:""}`;return(0,i.jsx)("span",{"data-tooltip":s,"data-tooltip-type":nl.Ib.TEXT,children:s})}function lJ({blockConfig:e,ruleId:t,fix:n,groupKey:r,violatingDevId:l,isApplying:o,detectionContext:d}){let{fixContext:u,valid:x}=n??{},{id:c,dropdownTitle:p}=e,m=s.useRef(null),h=(0,io.sf)(),f=(0,T.Xr)(ia.uw),g=(0,T.Xr)(ia.aW),y=(0,T.Xr)(ia.iO),k=(0,T.Xr)(ia.rg),j=(0,T.Xr)(ia.jV),_=(0,T.Xr)(ia.Ue),{fix:v}=rI(r),{fixContext:b}=v??{},C=u?.fixes,E=b?.fixes,{fixes:S,listItems:I,allResolvedVariables:w,variableMap:N}=(0,io.Dt)({selectedFixes:C??[],cachedFixes:(E??[]).slice(0,io.EN),violatingDevId:l,type:a.rXF.COLOR,scopes:(0,lo.d$)({ruleId:t})}),L=s.useMemo(()=>{if(!C?.length)return S[0];let e=C[0]?.variableId;if(!e||!w)return S[0];let t=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;return t?{variableId:e,resolvedValue:t}:S[0]},[C,w,S]),A=s.useCallback(e=>!!(e?.id&&C?.length)&&e.id===C[0]?.variableId,[C]),R=s.useCallback(({id:e,rankPosition:n,isFromSuggestedList:i})=>{if(!w||!t)return;let s=w.libraryVariables[e]?.resolvedValue??w.localVariables[e]?.resolvedValue;if(!s)return;let l={...u,fixes:[{variableId:e,resolvedValue:s}],selectedItemRankPosition:n,selectedItemIsFromSuggestedList:i};T.zl.set(nu.Sg,{groupKey:r,selectedFixItem:{fix:{ruleId:t,valid:!0,fixContext:l},status:"loaded"}})},[w,t,r,u]),O=s.useCallback(()=>{let e=T.zl.get(ia.uw),t=!!e?.current&&!!m.current,n=e?.current===m.current;if(t&&n){h();return}let{backgroundColor:s,contrastRatios:r}=d,l=function(e){if("LIST"!==e.type||!e.variable||!w)return null;let t=e.variable.node_id,n=w.libraryVariables[t]?.resolvedValue??w.localVariables[t]?.resolvedValue;if(!n?.value)return null;let l=n.value;return(0,i.jsx)(l0,{backgroundColor:s,selectedColor:l,contrastRatios:r})},a=u?.suggestionId;f(m),g(!0),j(()=>A),k(()=>R),_(()=>l),y({title:p,blockType:c,suggestionId:a,items:I})},[c,f,g,j,A,k,R,_,y,I,h,d,w,u,p]);if(!n||!x||!u||!S||0===S.length||!L||!l)return(0,i.jsx)(rF,{ref:m,onClick:O,type:rE.kQ.COLOR});let{variableId:M,resolvedValue:F}=L,z=(N??{})[M]?.name,D=F.value;return D&&z?(0,i.jsx)(rP,{ref:m,onClick:O,tooltip:z,disabled:o,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:o,children:(0,i.jsx)(lx.J,{color:D,opacity:D.a,className:lg})}),(0,i.jsx)(rD,{label:z,isApplying:o}),(0,i.jsx)(l0,{backgroundColor:d.backgroundColor,selectedColor:F.value,contrastRatios:d.contrastRatios})]})}):(0,i.jsx)(rF,{ref:m,onClick:O,type:rE.kQ.COLOR})}function l0({backgroundColor:e,selectedColor:t,contrastRatios:n}){let r=s.useMemo(()=>{let{aaPass:i}=(0,lZ.Ef)((0,lW.Hu)(t),e,n?.AA,n?.AAA);return!!i},[e,t,n]);return(0,i.jsxs)("div",{...{0:{className:"x78zum5 x6s0dn4 x195vfkc x87ps6o x1n0bwc9 xmauxvm"},1:{className:"x78zum5 x6s0dn4 x195vfkc x87ps6o xq6u9c4 x11vm0g5"}}[!!r<<0],children:[r?(0,i.jsx)(lU.l,{}):(0,i.jsx)(lK.X,{}),(0,m.t)("design_linter.suggestion_block.text_background_contrast_aa.aaStandard")]})}function l1(){let e=(0,T.md)(rW.GM),{numRows:t}=lA(e);return(0,i.jsx)(lO,{data:e,suggestionBlock:rE.pZ.TEXT_STYLE,header:(0,m.t)("design_linter.suggestion_block_headers.styles",{count:t}),renderRow:({blockConfig:e,violations:t,groupKey:n,isApplying:s})=>(0,i.jsx)(l2,{blockConfig:e,violations:t,groupKey:n,isApplying:s})})}function l2({blockConfig:e,groupKey:t,violations:n,isApplying:s}){let r=(0,nR.rO)(n),{fix:l,status:a}=rT(t);return r?.detectionContext?(0,i.jsx)(rO,{fixStatus:a,groupKey:t,violations:n,isApplyingFixesToGroup:s,children:{suggestionRowContent:n=>(0,i.jsx)(rR,{...n,children:{currentValue:(0,i.jsx)(l3,{context:r.detectionContext}),suggestedValue:(0,i.jsx)(l5,{blockConfig:e,fix:l,groupKey:t,isApplying:s})}})}}):null}function l3({context:e}){let{fontFamily:t,fontSize:n,lineHeight:s}=e,r=parseFloat(n.toFixed(2)).toString(),l=parseFloat(s.toFixed(2)).toString(),a=`${t} ${r}, ${l}`;return(0,i.jsx)("span",{"data-tooltip":a,"data-tooltip-type":nl.Ib.TEXT,children:a})}function l5({blockConfig:e,fix:t,groupKey:n,isApplying:r}){let{fixContext:l,valid:a}=t??{},{id:o,dropdownTitle:d}=e,u=s.useRef(null),x=(0,T.Xr)(ia.uw),c=(0,T.Xr)(ia.aW),p=(0,T.Xr)(ia.iO),m=(0,T.Xr)(ia.rg),h=(0,T.Xr)(ia.jV),f=(0,io.sf)(),{fix:g}=rI(n),{fixContext:y}=g??{},k=l?.fixes,{allStyles:j,listItems:_,styleKeyToStyle:v}=(0,io.td)({selectedStyles:k??[],cachedStyles:(y?.fixes??[]).slice(0,io.lz)}),b=k?.length?k[0]:j[0],C=s.useCallback(e=>!!k?.length&&"style"in e&&e.style.key.toString()===k[0]?.key?.toString(),[k]),E=s.useCallback(({id:e,rankPosition:t,isFromSuggestedList:i})=>{let s=v[e];if(!s)return;let r={...l,fixes:[s],selectedItemRankPosition:t,selectedItemIsFromSuggestedList:i};T.zl.set(nu.Sg,{groupKey:n,selectedFixItem:{fix:{ruleId:iH.C.REQUIRE_TEXT_STYLES,valid:!0,fixContext:r},status:"loaded"}})},[v,n,l]),S=s.useCallback(()=>{if(r)return;let e=T.zl.get(ia.uw),t=!!e?.current&&!!u.current,n=e?.current===u.current;if(t&&n){f();return}let i=l?.suggestionId;h(()=>C),m(()=>E),p({title:d,blockType:o,suggestionId:i,items:_}),x(u),c(!0)},[o,f,r,C,_,E,x,c,h,p,m,l,d]);return t&&a&&l&&b?(0,i.jsx)(rP,{ref:u,onClick:S,tooltip:b.name,children:()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rG,{isDisabled:r,children:(0,i.jsx)(lx.J,{fillStyle:b,className:tk()(lg,"suggestion_rule_blocks--textStyleIcon--viX5U")})}),(0,i.jsx)(rD,{label:b.name,isApplying:r})]})}):(0,i.jsx)(rF,{ref:u,onClick:S,type:rE.kQ.TEXT})}function l4(){(0,t_.h)(()=>{(0,nO.fx)()});let e=(0,sc.K)();return(0,i.jsxs)(iD.Cs,{variant:"warn",children:[(0,i.jsx)(iP.Q,{children:(0,m.tx)("design_linter.modal.stale_linter_banner.title")}),(0,i.jsx)(iq.$,{onClick:e,children:(0,m.tx)("design_linter.modal.stale_linter_banner.button")})]})}function l7(){let[e,t]=s.useState(!1),n=(0,T.md)(nu.E$)??null,r=(0,T.md)(nu.NM),l=(0,T.md)(nu.xo),a=l??(0,nR.ac)(n),d=(0,io.sf)(),u=function(){let e=lR((0,T.md)(rW.r0)),t=lR((0,T.md)(rW.GM)),n=lR((0,T.md)(rW.d9)),r=function(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.qQ);return!!e.length&&!!t}(),l=function(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.Q6);return!!e.length&&!!t}(),a=function(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.LG);return!!r4(e,(0,T.md)(nu.TT)).length&&!!t}(),o=function(){let{blocks:e,totalViolations:t}=(0,T.md)(rW.yU);return!!e.length&&!!t}();return s.useMemo(()=>{let s=[];return e&&s.push({key:rE.pZ.BACKGROUND_COLOR,block:(0,i.jsx)(lM,{})}),t&&s.push({key:rE.pZ.TEXT_STYLE,block:(0,i.jsx)(l1,{})}),n&&s.push({key:rE.pZ.CORNER_RADIUS,block:(0,i.jsx)(l$,{})}),r&&s.push({key:rE.pZ.TEXT_BACKGROUND_CONTRAST_AA,block:(0,i.jsx)(lX,{})}),l&&s.push({key:rE.pZ.ASSET_UPDATES,block:(0,i.jsx)(r7,{})}),a&&s.push({key:rE.pZ.ASSETS_OUTSIDE_SELECTED_LIBRARIES,block:(0,i.jsx)(ly,{})}),o&&s.push({key:rE.pZ.EXTENSIBILITY_RULE,block:(0,i.jsx)(lP,{})}),s},[l,e,t,n,r,a,o])}(),x=(0,sc.F)(),c=function(){let e=(0,T.md)(t7.wU),t=(0,T.md)(t7.o0),n=!(0,o.kc)().aip_flower_garden_full_responsiveness,i=t||e.size>0;return n&&i}(),{next:p,hasNext:m}=function(e,t){let n=(0,T.md)(nu.NM),i=(0,T.md)(nu.xo),r=(0,T.md)(nu.Bd),l=(0,T.md)(t7.Iy),a=(0,s.useRef)(null),o=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),x=(0,t8.Wo)(),c=(0,t8.OI)(),p=(0,t8.Vz)(),m=(0,t8.RD)();(0,s.useEffect)(()=>{if(!(o.current!==n))return;o.current=n;let e=r.map(e=>e.id),t=e.findIndex(e=>e===n);a.current=-1!==t?e.slice(t+1):e},[n,r]),(0,s.useEffect)(()=>{let e=u.current!==i,t=o.current!==n;if(!e&&!t)return;if(u.current=i,!n){d.current=null;return}let s=l.get(n);if(!s){d.current=null;return}let r=(0,nR.zr)(s);if(!i){d.current=r;return}let a=r.findIndex(e=>e===i);d.current=-1!==a?r.slice(a+1):r},[i,n,l]);let h=(0,s.useCallback)((e,n)=>{e&&(0,nO.oo)(e,n,"NEXT"),c(n),t?.()},[c,t]),f=(0,s.useCallback)(e=>{let n=l.get(e);n&&(0,nO.JT)(n,"NEXT"),x(e),p(),m(e),T.zl.set(iV),t?.()},[l,p,m,x,t]),g=(0,s.useCallback)(()=>{let e=d.current?.[0];if(e)return h(n,e),!0;if(!n)return!1;let t=l.get(n);if(!t)return!1;let s=(0,nR.ac)(t);return!!s&&s!==i&&(h(n,s),!0)},[h,n,i,l]),y=(0,s.useCallback)(()=>{if(!a.current||!r.length)return;let e=r.reduce((e,t)=>(e.add(t.id),e),new Set),t=null;for(let n=0;n<a.current.length;n++){let i=a.current[n]??null;if(i&&e.has(i)){t=i;break}}if(!t){let e=r[0]?.id??"";if(!e){(0,nd._)();return}t=e}f(t)},[r,f]);return{next:(0,s.useCallback)(()=>{if(e){y();return}g()||y()},[e,g,y]),hasNext:r.length>0}}(null===l,(0,s.useCallback)(()=>{t(!1)},[])),h=(x||e)&&null!==r,f=0===u.length&&!h;return!function({selectedGroupId:e,selectedRootId:t,isCompleted:n,hasNext:i,next:r}){let l=(0,s.useRef)(!1),a=n&&i;(0,s.useEffect)(()=>{l.current=!1},[e,t]),(0,s.useEffect)(()=>{a&&!l.current&&(l.current=!0,r())},[a,r])}({selectedGroupId:r,selectedRootId:l,isCompleted:h,hasNext:m,next:p}),(0,id.fR)(),(0,s.createElement)("div",{className:"x78zum5 x5yr21d xh8yej3 xdt5ytf x1yjdb4r",key:`suggestionsView-${r}-${a}`},h?(0,i.jsx)(rm,{}):(0,i.jsx)(rx,{}),(0,i.jsx)(iG.P,{children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xqo8coc xuhaxrz x1obevfs",children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x5yr21d xp6roeo x1iyjqo2",onScroll:d,children:f?(0,i.jsx)(so,{}):(0,i.jsx)("div",{className:"x78zum5 x1iyjqo2 xdt5ytf",children:u.map(({key:e,block:t},n)=>(0,i.jsxs)(s.Fragment,{children:[n>0&&(0,i.jsx)(rB,{}),t]},`suggestion-block-${e}-${r}-${l}`))})})})}),(0,i.jsxs)("div",{className:"xr1yuqi x2lah0s",children:[c&&(0,i.jsx)(l4,{}),(0,i.jsx)(l9,{setDidIgnore:t})]}))}let l8="design-linter-ignore-all-group",l6="design-linter-apply-all-group";function l9({setDidIgnore:e}){let t=(0,t8.rL)(e),{applyAllFixes:n}=function(){let e=(0,nn.am)();return{applyAllFixes:(0,s.useCallback)(async()=>{if(!e)throw Error("Design linter not available");T.zl.set(nu.kR,!0),await new Promise(e=>requestAnimationFrame(()=>e()));let t=!1,n=0,i=0,s=0,r=e.linterAbortSignal;try{let l=T.zl.get(nu.DJ);for(let a of Object.values(l)){if(r.aborted)break;try{let l=[],o=[];for(let e in a){let t=a[e]??[],s=T.zl.get(nu.$C)?.get(e);s?.fix?.fixContext&&(s.fix.ruleId===iH.C.EXTENSIBILITY_RULE?o.push(...t):l.push({violations:t,fixContext:s.fix.fixContext}),n+=t.length,i+=1)}await e.applyFixContextToViolations({violationsWithFixContexts:l,customRuleViolations:o,shouldSkipCommit:!0,abortSignal:r}),t=!0,s+=1}catch{(0,nO.m7)()}finally{T.zl.set(nu.kR,!1)}}t&&(0,nO.i7)({numViolationsFixed:n,numRowsFixed:i,numBlocksFixed:s})}catch{(0,nO.Rz)()}finally{t&&n1.Y5.commit()}},[e])}}(),r=(0,T.md)(nu.kR),l=!(0,T.md)(nu.mE)||r;return(0,i.jsx)("div",{className:"xdt5ytf xuk3077 xl56j7k x78zum5 x178xt8z x13fuv20 x16ufvko x9f619 x1vqgdyp xy13l1i xqo8coc","data-testid":"design-linter-group-view-footer",children:(0,i.jsxs)("div",{className:"x6s0dn4 x78zum5 x167g77z",children:[(0,i.jsx)(t9.$n,{onClick:t,variant:"secondary",htmlAttributes:{"data-testid":l8},recordingKey:l8,children:(0,m.tx)("design_linter.suggestion_block.ignore_all")}),(0,i.jsx)(t9.$n,{onClick:n,variant:"primary",htmlAttributes:{"data-testid":l6},recordingKey:l6,disabled:l,children:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1jnr06f",children:[r&&(0,i.jsx)(nJ.k,{size:"sm"}),(0,m.tx)("design_linter.suggestion_block.apply_all_btn")]})})]})})}let ae=(0,s.memo)(function(){return!function(){let e=(0,T.md)(nu.vu),t=(0,i$.k9)(()=>Array.from(e).sort(),[e]),n=(0,T.md)(nu.xo),i=(0,iB.Z)("design_linter_group_selection_navigate");(0,s.useEffect)(()=>{let e=(0,nQ.RG)(n?[n]:t);if(!e.length||(a.Egt?.replaceSelection(e,!0),!(0,o.kc)().aip_flower_garden_zoom_to_node))return;let s=(0,nd.a)();s&&i(a.mHF?.getViewportSettingsForLinterAutoZoom(e,s)??null)},[i,t,n])}(),(0,t_.h)(()=>{T.zl.set(iV)}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(rg,{}),(0,i.jsxs)("div",{className:"x78zum5 x5yr21d",children:[(0,i.jsx)("div",{className:"xs1s249 x32b0ac x1lpqudl x9f619 xj64pm3",children:(0,i.jsx)(i7,{})}),(0,i.jsx)(l7,{})]})]})});function at(){let e=(0,t8._i)(),t=(0,t8.l2)()&&!e;return(!function(e){let t=(0,r.wA)(),n=(0,tm.f)("seen_linter_home_view");(0,s.useEffect)(()=>{n||e||t(tp.b({seen_linter_home_view:!0}))},[n,t,e])}(e),(0,id._9)(),(0,id.p6)(),(0,t8.Y0)(),!function(){let e=(0,T.md)(nO.Vg),t=(0,t8.bk)(),n=(0,s.useRef)(null);(0,s.useEffect)(()=>{(async function(){e!==n.current&&e&&(n.current=e,await t())})()},[t,e])}(),e)?(0,i.jsx)(sx,{}):t?(0,i.jsx)(iz,{}):(0,i.jsx)(ae,{})}function an(){let e=nH.ox(),t=function(){let e=(0,T.Xr)(nu.$H);return(0,s.useMemo)(()=>nW()(t=>{e(t)},100),[e])}(),n=function(){let e=(0,T.Xr)(nu.r4);return(0,s.useMemo)(()=>nW()(t=>{e(t)},100),[e])}(),r=(0,t8.Hl)(),l=(0,T.Xr)(nu.$H),a=s.useCallback(e=>{e.size&&t(e.size),n(e.position)},[n,t]);(0,t_.h)(()=>{let e={x:528,y:664};t(e),l(e),n({x:d.x,y:d.y})}),(0,s.useLayoutEffect)(()=>{let n=new nZ.Mi(528,664);e.setSize(n),t(n),l(n)},[l,t,e]),(0,nO.ZE)();let d=(0,s.useMemo)(()=>new nZ.Mi(56,70),[]);return(0,i.jsxs)(t6.bL,{width:528,maxHeight:664,defaultPosition:{left:d.x,top:d.y},manager:e,onClose:({source:e})=>{"outside"!==e&&((0,nO.Zz)(e),r(ns.FR.SELECTED_VISUAL_GROUP_VIEW))},onTransform:a,htmlAttributes:{"data-testid":"design-linter-suggestions-modal"},children:[(0,i.jsxs)(Q.vo,{children:[(0,i.jsx)(Q.Y9,{children:(0,i.jsx)(ai,{})}),(0,i.jsxs)(Q.nB,{padding:0,scrolling:"manual",className:"xb3r6kr xrvx654",children:[(0,i.jsx)(at,{}),!!(0,o.kc)().aip_flower_garden_debug&&(0,i.jsx)(iM,{})]})]}),(0,i.jsx)(ig,{})]})}function ai(){let e=(0,T.Xr)(iO);return(0,i.jsx)("div",{className:"xt0e3qv x87ps6o xh8yej3",children:(0,i.jsxs)("div",{className:"x78zum5 x1qughib x6s0dn4",children:[(0,i.jsxs)("div",{className:"x78zum5 x167g77z x163pfp x6s0dn4",children:[(0,i.jsx)("div",{className:"x78zum5 x1g2dr8m xiqqdae xkezfkh x1giz659 x14kxzw3 xb3r6kr xlyipyv xuxw1ft",children:(0,m.tx)("design_linter.title")}),(0,i.jsx)("div",{className:"x2lah0s",children:(0,i.jsx)(na.E,{children:(0,m.tx)("general.beta")})})]}),!!(0,o.kc)().aip_flower_garden_debug&&(0,i.jsx)("div",{className:"x78zum5 xg2d0mh x1057jvv",children:(0,i.jsx)(tf.K,{onClick:()=>{e(e=>!e)},"aria-label":"Internal debug view",children:(0,i.jsx)(nU.W,{})})})]})})}function as(){return(0,t7.L4)()?(0,i.jsx)("div",{"data-testid":"design-linter-modals",children:(0,i.jsx)(ar,{})}):null}let ar=s.memo(()=>{let e=(0,eq.ut)(a.Ez5?.uiState()?.showDesignLinter,!1),t=(0,T.md)(nu.pR),n=(0,t8.PM)();return((0,s.useEffect)(()=>()=>{a.Ez5?.uiState()?.showDesignLinter?.set(!1)},[]),(0,nO.yU)(e,t),e)?n?(0,i.jsx)(ng,{}):(0,i.jsx)(al,{children:(0,i.jsx)(an,{})}):null});function al({children:e}){!function(){let e=(0,s.useRef)(null),t=(0,s.useRef)(null),n=(0,nA.$)(),i=(0,nL.e)(),[r,l]=(0,T.fp)(t7.ri),a=function(){let[e,t]=(0,T.fp)(t7.vV),n=(0,nw.ZC)(e),i=(0,T.Xr)(t7.v4),r=(0,T.Xr)(t7.jq);return(0,s.useCallback)(e=>{t(e);let s=n??new Set;e.size===s.size&&[...e].every(e=>s.has(e))||(i(e=>({...e,status:"stale"})),r(e=>({...e,status:"stale"})))},[t,n,i,r])}(),o=(0,_.tS)(),d=(0,nN.Z)(),u=(0,s.useMemo)(()=>{let e=new Set,t=new Map,s=new Map;return"loading"===n.status||"loading"===i.status?{status:"loading",availableLibraryKeys:e,libraryNameMap:t,keyToPublishedLibraryMap:s}:(n.data&&n.data.forEach(n=>{e.add(n.library_key),t.set(n.library_key,n.library_name),s.set(n.library_key,n)}),i.data&&(i.data.unpublishedLibraries.forEach(n=>{e.add(n.library_key),t.set(n.library_key,n.library_name)}),i.data.publishedLibraries.forEach(n=>{e.add(n.library_key),t.set(n.library_key,n.library_name),s.set(n.library_key,n)}),(0,nI.nl)()&&o&&(e.add(o),t.set(o,d))),{status:"loaded",availableLibraryKeys:e,libraryNameMap:t,keyToPublishedLibraryMap:s})},[n,i,o,d]),x=(0,s.useMemo)(()=>new Set(n?.data?.map(e=>e.library_key)),[n?.data]),c="loaded"===n.status&&"loaded"===u.status;(0,s.useEffect)(()=>{let t=e.current;(!t||t.status!==u.status||t.availableLibraryKeys.size!==u.availableLibraryKeys.size||Array.from(t.availableLibraryKeys).some(e=>!u.availableLibraryKeys.has(e)))&&(t&&t.libraryNameMap.size>0&&t.libraryNameMap.forEach((e,t)=>{u.libraryNameMap.has(t)||u.libraryNameMap.set(t,e)}),l(u),e.current=u)},[u,l]),(0,s.useEffect)(()=>{if(!c)return;let e=new Set(x);(0,nI.nl)()&&o&&e.add(o);let n=t.current;if(!n||n.size!==e.size||Array.from(e).some(e=>!n.has(e))){if(a(e),t.current=e,!n)return;let i=(0,nn.X5)();(0,nR.Qi)(n,e).some(e=>{let t=r.keyToPublishedLibraryMap.get(e);return!t||t.num_styles>0||t.num_variables>0})?T.zl.set(t7.o0,!0):i?.onLinterDependencyChange()}},[c,x,o,a,r])}(),(0,t8.mr)(),(0,t8.vP)(),(0,t8.xg)();let t=(0,o.kc)().aip_flower_garden_component_update;return(0,i.jsxs)("div",{"data-testid":"design-linter-data-loader",children:[(0,i.jsx)(nB,{}),t&&(0,i.jsx)(aa,{}),e]})}function aa(){return(0,t8.zO)(),null}var ao=n(382256),ad=n(405215),au=n(513833),ax=n(776968),ac=n(704086),ap=n(466764),am=n(610757),ah=n(296217),af=n(62847),ag=n(921093),ay=n(899496),ak=n(370020),aj=n(349951),a_=n(583072),av=n(422108),ab=n(98826);function aC({asset:e}){let t;let n=(0,_.q5)();e.type===rj.PW.COMPONENT?t=e.component_key:e.type===rj.PW.STATE_GROUP&&(t=e.key);let{status:r,displayedComponent:l,onFileChanged:a,onComponentChanged:o,onActiveRowChange:d,onConfirmConnection:u,onConfirmSuggestion:x,onValueChange:c,onDeleteMapping:p,onIgnoreMapping:m,onUpdateUserRules:h,bulkSuggestions:f,searchSessionId:g,isLoadingSuggestions:y}=(0,ay.WA)({libraryKey:e.library_key,defaultFilter:"all",componentKey:t,entrypoint:"design_system_view"}),k=(0,ah.OG)(e.library_key),j=k?.selectedRepositories[0]?.id,v=l?.component?.code_connect_info?.v1?.state==="connected",b=l?.component?.code_connect_info?.v1?.state==="ignored",C=l?.sourceIndex??0,E=l&&f[l?.assetKey]||[],S=(0,ak.ER)(n),T=(0,a_.C)(e.library_key),I=(0,aj.MO)({canvasAsset:e,canViewPlaygroundQueryResult:T,onLoaded:Z.lQ,onError:Z.lQ,thumbnailOptions:{maxWidth:640,maxHeight:480}}),w=(0,s.useMemo)(()=>{if(I?.state==="LOADED")return{hasChangesToReset:I?.currentAssetData?.hasChangesToReset??!1,nodeData:I?.currentAssetData?.nodeData??void 0,resetNodedata:I?.currentAssetData?.refetchAndResetScene,thumbnailData:I?.currentAssetData?.thumbnailData??void 0}},[I]),{showRulesPopout:N,setShowRulesPopout:L,savedUserRules:A,draftUserRules:R,setDraftUserRules:O,defaultPosition:M,handleOpenRulesWindow:F}=(0,af.E)(l??null,"design_system_view",l?.sourceGuid??"");return k?.queryStatus==="loading"||"loading"===r?(0,i.jsx)("div",{className:"x78zum5 xl56j7k x6s0dn4 x5yr21d","data-testid":"loading-spinner",children:(0,i.jsx)(nJ.k,{size:"lg"})}):l?(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf x5u9viy",children:[(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k xdl72j9 x1odjw0f",children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x1i71x30 x1iyjqo2 xs83m0k xdl72j9 xeuugli x1r36162",children:(0,i.jsx)(ag.W,{data:l,entrypoint:"design_system_view",fullWidth:!0,isConnected:v,isIgnored:b,isLoadingSuggestions:y,mcpUserRulesEnabled:S,onActiveRowChange:d,onComponentChanged:o,onConfirmConnection:u,onConfirmSuggestion:x,onDeleteMapping:p,onFileChanged:a,onIgnoreMapping:m,onOpenRulesWindow:F,onValueChange:c,playgroundData:w,repositoryId:j,savedUserRules:A,searchSessionId:g,sourceIndex:C,suggestions:E})})}),N&&(0,i.jsx)(am.T,{defaultPosition:M,draftUserRules:R,onClose:()=>L(!1),onSave:e=>{(0,tj.sx)("component_browser.component_details_user_rules_saved",{componentBrowserEntrypoint:"design_system_view",nodeId:l?.sourceGuid??"",userRulesLength:e.length}),l&&h({row:l,userRules:e})},savedUserRules:A,setDraftUserRules:O,setShowRulesPopout:L})]}):null}function aE(){let e=(0,ab.K)();return e?(0,av.HF)(e)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,i.jsx)(aC,{asset:e})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,i.jsx)("div",{className:"x78zum5 xl56j7k x1efd9su x1n0bwc9 xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:(0,i.jsx)("h2",{children:(0,m.tx)("design_systems.home.editor.code_connect.not_published")})})]}):null}var aS=n(915123),aT=n(805733),aI=n(406606),aw=n(859689),aN=n(248622),aL=n(298581),aA=n(90228),aR=n(93508),aO=n(85109),aM=n(288315);let aF={maxWidth:320,maxHeight:240};function az(){let e=(0,T.md)(aI.h3),t=(0,ab.K)(),n=(0,aw._)();return t?(0,i.jsx)(aO.A,{isLoading:n,children:(0,i.jsx)(aD,{asset:t,libraryKey:e})}):null}function aD({asset:e,libraryKey:t}){let n=(0,a_.C)(t),[r,l]=(0,s.useState)(!1),a=(0,s.useRef)(null),[o,d]=(0,s.useState)(aF);s.useLayoutEffect(()=>{if(a.current){let{clientWidth:e,clientHeight:t}=a.current;d({maxWidth:.75*e,maxHeight:.75*t})}},[]);let u=(0,s.useCallback)(()=>l(!1),[]),x=(0,aj.MO)({canvasAsset:e,canViewPlaygroundQueryResult:n,onLoaded:Z.lQ,onError:u,thumbnailOptions:{maxWidth:2*o.maxWidth,maxHeight:2*o.maxHeight}});if(!x)return(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k x5yr21d",children:(0,i.jsx)(nJ.k,{})});let c="LOADED"===x.state?x.currentAssetData:x.previousAssetData,p="ERROR"===x.state?x.errorType:void 0,m=n.unwrapOr(!1);return(0,i.jsxs)("div",{className:"x78zum5 x1q0g3np x5yr21d",children:[(0,i.jsx)("div",{className:"x1iyjqo2",ref:a,children:(0,i.jsx)(aR.r,{renderedAssetData:c,canViewPlayground:m,onCloseIfHidden:Z.lQ,setFlyoutHidden:Z.lQ,enableDragInsert:!1,maxThumbnailSize:o,fallbackToPublishedThumbnail:!1})}),(0,i.jsxs)("div",{className:"x1dz1jew xe0pwq x19ypqd9 x1u2bih1",children:[(0,i.jsx)(aP,{renderedAssetData:c}),(0,i.jsx)(aA.a,{renderedAssetData:c,errorType:p,canViewPlayground:m,shouldHideError:r,onSetShouldHideError:l})]})]})}function aP({renderedAssetData:e}){let t=(0,s.useMemo)(()=>(0,it.kH)(e.asset.name??""),[e.asset.name]),n=(0,s.useRef)(null),r=(0,aS.NG)({text:t,textRef:n}),l=e.asset,a=(0,rZ.fV)(l.library_key);return(0,i.jsxs)("div",{className:"xi4r6k5",children:[(0,i.jsx)("div",{className:"xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly xlyipyv xuxw1ft xb3r6kr","data-tooltip":r?t:void 0,"data-tooltip-type":nl.Ib.TEXT,ref:n,children:t}),(0,i.jsxs)("div",{className:"x78zum5 x1q0g3np x6s0dn4 xg2d0mh",children:[l&&(0,i.jsx)(aN.Q,{assetLibraryKey:l.library_key,assetNodeId:l.node_id}),l&&(0,i.jsx)(aq,{asset:l}),a&&(0,i.jsx)(rX.KP,{libraryKey:l.library_key,variant:"secondary",tooltipLocation:"below"})]}),l.updated_at&&(0,i.jsx)("div",{className:"x1w4f5ud",children:(0,i.jsx)(aL.M,{assetKey:(0,nP.Av)(l),type:l.type,updatedAt:l.updated_at})})]})}function aq({asset:e}){let t=(0,aT.b)({libraryKey:e.library_key,nodeId:e.node_id,mainComponent:!0}),n=s.useMemo(()=>t.data?.type==="community",[t.data]),r=(0,s.useMemo)(()=>!!(e.type===rj.PW.COMPONENT&&e.component_key)||!!(e.type===rj.PW.STATE_GROUP&&e.key),[e]),l=(0,aM.K$)({isCommunityComponent:n,hasSingleBackingSymbol:!0,isBackingSymbolShared:r}),a=s.useMemo(()=>t.data?.link?{backingSymbolGUID:e.node_id,dataTooltip:l,disabled:!1,onMouseDown:Z.lQ,ui3Icon:(0,i.jsx)("span",{className:"x180r7m8",children:(0,i.jsx)(aM.ab,{isCommunityComponent:n})}),url:t.data?.link}:null,[t.data,l,n,e.node_id]);return a?(0,i.jsx)(aM.iF,{data:a,recordingKey:"mainComponentLink"}):null}var aG=n(459125);function a$({description:e=""}){let t=(0,s.useMemo)(()=>({heading:{h1:en.Ay.classNames(aV.rtH1)},paragraph:en.Ay.classNames(aV.rtP),list:{ol:en.Ay.classNames(aV.rtP,aV.rtListOl),ul:en.Ay.classNames(aV.rtP,aV.rtListUl),listitem:en.Ay.classNames(aV.rtListItem)}}),[]);return(0,i.jsx)("div",{className:"x65f84u","data-testid":"ds-lexical-comp-docs",children:(0,i.jsx)(aG.C,{"data-testid":"ds-lexical-comp-docs",value:e,valueFormat:"html",namespace:"rt-documentation",lexicalContentClassName:"rt-documentation",themeOverride:t})})}function aB(){let e=(0,ab.K)(),t=(0,aw._)();return e?(0,i.jsxs)(aO.A,{isLoading:t,children:[(0,i.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,i.jsx)("div",{className:"x1efd9su x1r36162 x1eecynx x78zum5 xl56j7k",children:e.description_rt?(0,i.jsx)(a$,{description:e.description_rt}):(0,i.jsx)("div",{className:"x1n0bwc9 xor4psk x1ncjjhx xaoa4km x2i041 x14terfx",children:(0,m.tx)("design_systems.home.editor.component_documentation.no_documentation")})})]}):null}let aV={rtH1:{kMwMTN:"x1akne3o",kGuDYH:"x540y09",kMv6JI:"x1ubm3qo",k63SB2:"x578rrm",kLWn49:"x17evb6q",kb6lSQ:"xpyeu0a",$$css:!0},rtP:{kMwMTN:"x1akne3o",kMv6JI:"x17hqfcz",kGuDYH:"xemv814",kKX8nH:"x1j61x8r",k63SB2:"x1ma9mv9",kLWn49:"xyny9ap",kb6lSQ:"x12638g3",$$css:!0},rtListOl:{kpqbRz:"x43c9pm",kH6xsr:"x3yw8vx",$$css:!0},rtListUl:{kpqbRz:"x43c9pm",kH6xsr:"xtaz4m5",$$css:!0},rtListItem:{koQZXg:"xs2suwn",keTefX:null,k71WvV:null,$$css:!0}};var aH=n(977473),aU=n(147718),aK=n(986436),aW=n(936031),aZ=n(988543),aX=n(961524),aY=n(380917);function aQ({components:e,onCardClick:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"xsdox4t xh8yej3 xso031l x1q0q8m5 xertd99"}),(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x5u9viy",children:(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k xdl72j9 x1odjw0f x1yjdb4r",children:(0,i.jsx)("div",{className:"xrvj5dj x1rr9rqv x1r05qx8 x1ger3g",children:e.map(e=>(0,i.jsx)(aJ,{component:e,onClick:t},`ds-view-component-grid-${(0,aY.V)(e.component)}`))})})})]})}function aJ({component:e,onClick:t}){let n=(0,s.useCallback)(()=>{t?.(e)},[t,e]);return(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x19y5rnk x1yjdb4r x8nzjqq xb3r6kr","data-testid":"card-root",children:(0,i.jsxs)(aW.bL,{children:[(0,i.jsx)(aW.O6,{onClick:n,"aria-label":e.component.name}),(0,i.jsxs)("div",{className:"x78zum5 xdt5ytf",children:[(0,i.jsx)("div",{className:"x1n2onr6 x1v8gsql x19y5rnk xb3r6kr x18vase2 x186iv6y x78zum5 x6s0dn4 xl56j7k x1mh6rdz",children:(0,i.jsx)(a0,{component:e.component})}),(0,i.jsxs)("div",{className:"xrvj5dj x52fmzj xw3wufv x6s0dn4 xilkfi8 x1cmmqis xg2d0mh xb3r6kr",children:[(0,i.jsx)(aW.hE,{className:"x1lliihq xrlp15q x1nmd3yn xm735u9 xkbmbem x3wk4up xb3r6kr xlyipyv xuxw1ft x1vz1zt2 xeuugli",children:e.component.name}),(0,i.jsxs)("div",{className:"x1j80ffk x78zum5 x6s0dn4 xg2d0mh x2lah0s x52n8ys",children:[(0,i.jsx)(aZ.P,{"aria-hidden":"true","data-testid":"icon-component"}),e.isCodeConnected&&(0,i.jsx)(aX.D,{"aria-hidden":"true","data-testid":"icon-code-connect"})]})]})]})]})})}function a0({component:e}){return e.thumbnail_url?(0,i.jsx)(eQ.oW,{className:"x193iq5w xmz0i5r x19kjcj4 x115dhu7",src:e.thumbnail_url,alt:e.name,loading:"lazy",draggable:!1}):e.node_id?(0,i.jsx)(rH.M,{className:"x193iq5w xmz0i5r x19kjcj4 x115dhu7 x1lliihq",draggable:!1,item:e,localThumbnailGenerationBehavior:"default",loading:"lazy"}):(0,i.jsx)("div",{className:"x78zum5 x6s0dn4 xl56j7k xh8yej3 x5yr21d x52n8ys x1v8gsql","aria-hidden":!0,children:(0,i.jsx)(aZ.P,{"aria-hidden":"true"})})}function a1(){let e=(0,T.md)(aI.h3),t=(0,T.md)((0,aH.kz)(e)),n=(0,aw._)(),r=s.useCallback(e=>{(0,aU.Cw)(e?.component,aK.n.DESIGN)},[]);return(0,i.jsx)(aO.A,{isLoading:n,children:(0,i.jsx)(aQ,{components:t,onCardClick:r})})}function a2(){return(0,i.jsx)("div",{className:"x78zum5 xdt5ytf x6s0dn4 xl56j7k x5yr21d",children:(0,i.jsx)("h2",{className:"x1n0bwc9 xor4psk x1ncjjhx xaoa4km x2i041 x14terfx x1j61x8r",children:(0,m.tx)("design_systems.home.editor.coming_soon")})})}let a3={kLqNvP:"",kt4wiu:"",$$css:!0},a5={base:{kVAEAm:"x10l6tqk",k87sOh:"x13vifvy",krVfgx:"x1ey2m1c",kCIrl2:"x3m8u43",kfSwDN:"x87ps6o",kB7OPa:"x9f619",kWkggS:"x1yjdb4r",$$css:!0},left:e=>[a3,{kbCHJM:null!=e?"xgq9j65":e,$$css:!0},{"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(e)}]};function a4(){let e=(0,eL.dP)()+(0,ap.B)(),[t]=(0,T.fp)(aI.BE),[n]=(0,T.fp)(aI.Px),s=function(e,t){switch(e){case aK.q.OVERVIEW:return(0,i.jsx)(a2,{});case aK.q.COMPONENTS:return(0,i.jsx)(a1,{});case aK.q.COMPONENT:return function(e){switch(e){case aK.n.DOCUMENTATION:return(0,i.jsx)(aB,{});case aK.n.CODE:return(0,i.jsx)(aE,{});case aK.n.DESIGN:default:return(0,i.jsx)(az,{})}}(t);case aK.q.STYLES:case aK.q.VARIABLES:return(0,i.jsx)(a2,{});default:return null}}(t,n);return(0,i.jsx)(aH.Cj,{children:(0,i.jsx)("section",{"data-testid":"design-system-view",...en.Ay.props(a5.base,a5.left(e)),children:s})})}var a7=n(147046),a8=n(657878);let a6=(0,o.kc)().ds_home?function(){(function(){let e=(0,r.wA)(),t=(0,T.md)(aI.f_),n=(0,T.md)(aI.BE),i=(0,T.md)(aI.Px),l=(0,T.md)(aI.h3),a=(0,T.md)(aI.gS);(0,s.useEffect)(()=>{let t=T.zl.get(a8.OC);e((0,a7.sf)({...t}))},[e,t,n,i,l,a])})(),function(){let e=(0,r.wA)(),t=(0,T.Xr)(aI.Nj),[n,i]=(0,T.fp)(aI.ZN);(0,s.useEffect)(()=>{n&&(i(!1),t(!0),n1.Y5.dispatch((0,tW.FP)({tab:a.xae.DESIGN_SYSTEM})))},[e,t,i,n])}()}:Z.lQ;var a9=n(804363),oe=n(835531);function ot({children:e,navbarWidth:t,isFileLoading:n,isViewPanelMinimized:s}){return n?null:(0,i.jsx)("div",{...en.Ay.props(or.base(t,s)),children:e})}function on({title:e,isViewPanelMinimized:t,setIsViewPanelMinimized:n,children:r}){let l=s.useCallback(()=>{n(!1)},[n]);return(0,i.jsxs)("div",{className:"x78zum5 x1qughib xsdox4t x1gcgh60 x6s0dn4 x2lah0s xso031l x1q0q8m5 xertd99 x16v0e3u",children:[(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4 x1nfngrj xrbesu5 x12cwyba x1l993ej x1ejgcx7 x1aos5ly",children:[t&&(0,i.jsx)(oe.IO,{onClick:l,isViewPanelMinimized:!0}),(0,i.jsx)("h2",{children:e})]}),r]})}let oi=(e,t)=>t?`${e}px`:`calc(var(--left-panel-width) + ${e+1}px)`,os={kWkggS:"x1yjdb4r",kVAEAm:"x10l6tqk",k87sOh:"x167uce1",kZKoxP:"xqmztoh",kzqmXN:"x5lhr3w",kLqNvP:"",kt4wiu:"",k1xSpc:"x78zum5",kGNEyG:"x1qjc9v5",kXwgrk:"xdt5ytf",kHBbk8:"xc8icb0",$$css:!0},or={base:(e,t)=>[os,{kbCHJM:null!=oi(e,t)?"xgq9j65":oi(e,t),$$css:!0},{"--x-width":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(`calc(100% - ${oi(e,t)})`),"--x-left":(e=>"number"==typeof e?e+"px":null!=e?e:void 0)(oi(e,t))}]};var ol=n(616248),oa=n(747003);function oo({overlayState:e,isMultiplayer:t=!1,children:n}){let s=(0,ec.aV)(),r=(0,ap.B)(),l=(0,a9.b4)(e),a=(0,T.md)(l);return(0,ol.x)(t),(0,i.jsx)(oa.N5.Provider,{value:{isMultiplayer:t},children:(0,i.jsx)(ot,{navbarWidth:r,isFileLoading:s,isViewPanelMinimized:a,children:n})})}var od=n(85598),ou=n(859802),ox=n(819222),oc=n(691201);function op(e){let t=(0,r.d4)(e=>e.multiplayer),n=s.useMemo(()=>t.allUsers.find(e=>e.sessionID===t.sessionID)||null,[t.allUsers,t.sessionID]),l=(0,_.q5)(),a=(0,e9.iZ)(),{isViewPanelMinimized:o,setIsViewPanelMinimized:d}=(0,od.MC)();return(0,i.jsx)(on,{title:e.title,isViewPanelMinimized:o,setIsViewPanelMinimized:d,children:(0,i.jsxs)("div",{className:"x78zum5 x6s0dn4",children:[n&&(0,i.jsx)(ou.v7,{multiplayer:t,currentUser:n,onUserClick:Z.lQ}),l&&(0,i.jsx)(ox.ShareButton,{user:a,editingFile:l,isFileInWorkshop:!1,appendedClassname:oc.OI})]})})}function om(){return(0,i.jsx)(oo,{overlayState:a9.NA.VARIABLES,children:(0,i.jsx)(op,{title:(0,m.t)("design.navbar.variables_view")})})}function oh(){let e=(0,a9.fF)()[0];return(0,eD.o3)(eD.nt.designNavBarView)&&e===a9.NA.VARIABLES?(0,i.jsx)(om,{}):null}var of=n(896784),og=n(512038),oy=n(582689),ok=n(460608);function oj({children:e}){return(0,i.jsx)(ok.G.Provider,{value:{loggerEventName:"design_navigate"},children:(0,i.jsx)(og.s.Provider,{value:{allowLibraryPublish:!0},children:(0,i.jsx)(oy.y0.Provider,{value:oy.X,children:e})})})}var o_=n(55029),ov=n(819851),ob=n(551037),oC=n(83202),oE=n(530299),oS=n(443208),oT=n(583134),oI=n(865840),ow=n(375627),oN=n(96877),oL=n(754446),oA=n(390669),oR=n(861671),oO=n(64004);function oM({dropdownShown:e,pickerShown:t,saveAsState:n,sceneGraphSelection:s}){let l=(0,r.wA)(),a=(0,_.q5)(),o=(0,ec.p8)("currentPage"),d=(0,ec.p8)("isReadOnly"),u=(0,ec.p8)("currentSelectedProperty"),x=(0,ov.m0)(),c=d&&!x,p=(0,oL.Gt)("numSelected"),{exportSettings:h}=(0,oL.pw)("exportSettings"),f=(0,oR.Wd)();return(0,i.jsx)(oA.VF,{isVisible:!0,children:()=>(0,i.jsx)(oR.LI,{currentPage:o,currentSelectedProperty:u,dispatch:l,dropdownShown:e,exportSettings:h,isSelectionRenamable:oR.LI.isSelectionRenamable(Object.keys(s)),numSelected:p,openFile:a,panelWidth:oO.iP,pickerShown:t,recordingKey:"exportsPanel",saveAsState:n,sceneGraphSelection:s,singleNodeName:f,standalone:!0,title:c?(0,m.t)("fullscreen.properties_panel.export"):(0,m.t)("fullscreen.properties_panel.presets")},"export")})}var oF=n(510314),oz=n(512810),oD=n(834573),oP=n(665891),oq=n(645842),oG=n(167151),o$=n(88393),oB=n(309801),oV=n(890719),oH=n(796141);let oU=(0,u.j)(function({dropdownShown:e,pickerShown:t,sceneGraphSelection:n,shownPanels:s,userFlags:r}){let l=(0,_.q5)(),d=(0,oG.cJ)(),u=(0,oL.tN)("containsSiteWebpages"),x=!s[a.ibQ.FRAME_PRESETS]&&!s[a.ibQ.PENCIL_TOOL]&&!u;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(oA.VF,{isVisible:s[a.ibQ.FRAME_PRESETS],children:()=>(0,i.jsx)(o$.nl,{recordingKey:"framePresetPanel"},"frame-presets")}),!d&&(0,i.jsx)(oA.VF,{isVisible:s[a.ibQ.PENCIL_TOOL],children:()=>(0,i.jsx)(oV.q,{id:"pencilToolPanel",recordingKey:"pencilToolPanel",openFile:l},"pencilToolPanel")}),(0,i.jsx)(oA.VF,{isVisible:x,children:()=>(0,i.jsx)(oH.Z0,{recordingKey:"prototypePanel",dropdownShown:e,pickerShown:t,sceneGraphSelection:n,shouldUseSelectedStyleProperties:!0,userFlags:r},"prototype")}),(0,o.kc)().jsx_debugging&&(0,i.jsx)(oB.Ay,{recordingKey:"jsxDebugPanel"})]})},"PrototypeTab");function oK({scrollContainer:e,refMainScrollContainer:t,...n}){(0,oF.S2)();let s=(0,ob.k)(),r=n.propertiesPanelTab,l=(0,ec.p8)("topLevelMode"),o=(0,oO.Dj)(n.user),d=l!==a.lyf.PREVIEW&&(l!==a.lyf.BRANCHING||!o)&&l!==a.lyf.DEV_HANDOFF&&r===a.FAf.DESIGN,u=l!==a.lyf.PREVIEW&&l!==a.lyf.BRANCHING&&r===a.FAf.PROTOTYPE,x=l===a.lyf.PREVIEW&&!n.userStateLoaded&&!s||r===a.FAf.INSPECT,c=r===a.FAf.EXPORT,p=r===a.FAf.COMMENT;return(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)(oN.Y,{scrollContainer:e,...n}),u&&(0,i.jsx)(oU,{dropdownShown:n.dropdownShown,pickerShown:n.pickerShown,sceneGraphSelection:n.sceneGraphSelection,shownPanels:n.shownPanels,userFlags:n.userFlags}),x&&(0,i.jsx)(oz.q,{scrollContainer:e}),c&&(0,i.jsx)(oM,{dropdownShown:n.dropdownShown,pickerShown:n.pickerShown,saveAsState:n.saveAsState,sceneGraphSelection:n.sceneGraphSelection}),p&&(0,i.jsx)(n.commentsPanel,{})]})}function oW(e){return(0,i.jsx)(u.l,{id:"PropertiesPanel",children:(0,i.jsx)(x.u,{label:"PropertiesPanel",children:(0,i.jsx)(oZ,{...e})})})}function oZ(e){!function(){let{isPropertiesPanelCollapsed:e,setPropertiesPanelCollapsed:t}=(0,ow.iT)(),n=(0,tN.Ye)(),i=(0,ov.ow)(),l=(0,ec.ax)(),o=(0,ec.dH)(),d=o===a.NLJ.FRAME||o===a.NLJ.COMMENTS||o===a.NLJ.VECTOR_PENCIL,u=(0,r.d4)(e=>e.mirror.appModel.activeUserAction===a.QOV.DEFAULT),x=(0,ow.ys)();(0,s.useEffect)(()=>{u&&!i&&e&&(d||l)&&t(!1)},[l,u,o,t,e,n,d,i]),(0,s.useEffect)(()=>{x&&t(!0)},[x,t,e])}();let t=(0,ec.p8)("showUi"),[n,l]=(0,T.fp)(oq.m),d=(0,r.d4)(e=>e.mirror.appModel.topLevelMode),u=(0,ec.p8)("isReadOnly"),x=(0,oF.G$)(),c=(0,ec.dH)(),p=function(){let e=(0,oP.NK)(),t=(0,oP.Ex)(),n=(0,oP.UM)(),i=(0,oP.Eo)();return(0,s.useMemo)(()=>({[a.FAf.COMMENT]:e,[a.FAf.INSPECT]:t,[a.FAf.DESIGN]:n,[a.FAf.PROTOTYPE]:i}),[e,t,n,i])}(),m=(0,oI.wm)(()=>{let t=d===a.lyf.PREVIEW,n=d===a.lyf.LAYOUT,i=d===a.lyf.BRANCHING;return n&&u||t?[a.FAf.COMMENT,a.FAf.INSPECT]:n&&e.propertiesPanelTab===a.FAf.COMMENT?[a.FAf.COMMENT]:i?[a.FAf.INSPECT]:x?[a.FAf.DESIGN,a.FAf.PROTOTYPE,a.FAf.INSPECT]:[a.FAf.DESIGN,a.FAf.PROTOTYPE]},[d,u,e.propertiesPanelTab,x]),h=s.useCallback(e=>{c===a.NLJ.SCALE&&e===a.FAf.PROTOTYPE?n1.Y5.triggerAction("set-tool-default"):d===a.lyf.PREVIEW&&(e===a.FAf.COMMENT?n1.Y5.triggerAction("set-tool-comments"):n1.Y5.triggerAction("set-tool-default"))},[c,d]);if((0,o.kc)().dont_render_ui&&!t)return(0,i.jsx)(i.Fragment,{});(0,o.kc)().ui3p_properties_panel_view_tab_logging&&!(0,oT.A)(m,n)&&l(m);let f=null,g=e=>{f=e};return(0,i.jsx)(oD.j,{recordingKey:e.recordingKey,activeTab:e.propertiesPanelTab,refMainScrollContainer:g,shouldDeferCanvasUpdateOnPanelResize:!0,tabs:m,tabInfo:p,onSetTabsHeader:h,children:(0,i.jsx)(oK,{...e,scrollContainer:f,refMainScrollContainer:g})})}var oX=n(831330),oY=n(454903),oQ=n(190764);let oJ=s.memo(function(){let e=(0,ec.aV)(),t=(0,r.d4)(e=>e.loadingState),n=(0,et.getActiveTSSceneGraph)(),l=(0,r.d4)(e=>e.mirror.sceneGraphSelection),o=(0,r.d4)(e=>e.dropdownShown),d=(0,r.d4)(e=>e.installedPluginVersions),u=(0,r.d4)(e=>e.library),x=(0,r.d4)(e=>e.localPlugins),c=(0,r.d4)(e=>e.modalShown),p=(0,r.d4)(e=>e.openFile),m=(0,r.d4)(e=>e.pickerShown),h=(0,r.d4)(e=>e.pickerInStyleCreationShown),f=(0,r.d4)(e=>e.publishedPlugins),g=(0,r.d4)(e=>e.saveAsState),y=(0,r.d4)(e=>e.stylePickerListLayout),k=(0,r.d4)(e=>e.stylePickerShown),j=(0,r.d4)(e=>e.stylePreviewShown),_=(0,r.d4)(e=>e.user),v=(0,r.d4)(e=>e.userFlags),b=(0,r.d4)(e=>e.userStateLoaded),C=(0,ov.my)()===e$.nT.Design,E=(0,ob.k)(),S=(0,oE.VP)(t,"edit_button_upgrading_to_edit"),T=e||S,I=(0,eq.ut)((0,eA.aY)(),a.FAf.DESIGN),w=(0,eq.J2)((0,eA.J$)().shownPropertiesPanels),N=(0,eL.Ku)(),L=(0,eL.qw)(),A=(0,eR.s_)(),R=!(0,o_.Oo)()&&A,O=(0,eq.J2)((0,eL.UK)().renderRulers),{isRightPanelCollapsed:M}=(0,s.useContext)(oS.t),{inProductHelpViewType:F}=(0,tw.A5)(),z=(0,eR.yO)(),D=(0,oC.T)(),P=(0,oC.q)(),q=(0,s.useMemo)(()=>E?a.FAf.COMMENT:I,[I,E]);return(0,s.useEffect)(()=>{q!==I&&eA.aY()?.set(q)},[q,I]),(0,i.jsxs)(oQ.o,{boundaryKey:"PropertiesPanel",loggedOutDesktopRevampExpAvaialable:C,children:[(0,i.jsx)(oW,{allSavedPlugins:d,colorFormat:N,commentsPanel:oY.L,dropdownShown:o,inProductHelpSidePanelWidth:z,inProductHelpViewType:F,isCollapsed:M,isLoading:T,isUIMinimized:P,justChangedMinimizeUIValue:D,library:u,localPlugins:x,modalShown:c,openFile:p,pickerInStyleCreationShown:h,pickerShown:m,propertiesPanelSplitPosition:L,propertiesPanelTab:q,publishedPlugins:f,recordingKey:"propertiesPanel",rulersVisible:O,saveAsState:g,sceneGraph:n,sceneGraphSelection:l,shouldAnimateLoadingState:e,shouldShowBackgroundGradient:R,shownPanels:w,stylePickerListLayout:y,stylePickerShown:k,stylePreviewShown:j,user:_,userFlags:v,userStateLoaded:b},(0,nI.tw)()??void 0),(0,i.jsx)(oX.tZ,{})]})}),o0=(0,u.j)(oJ,"DesignUIPanels");var o1=n(536811),o2=n(495766),o3=n(754245),o5=n(223837),o4=n(692042),o7=n(703375),o8=n(946408),o6=n(331447);function o9(){let e=(0,eq.ut)(a.Ez5?.uiState()?.nodeIdsOfCurrentlyPlayingMakes,null);if(!e||0===e.length)return null;let t=(0,o6.Jf)();return t?(0,o3.createPortal)((0,i.jsx)(de,{nodeIds:e}),t):null}function de({nodeIds:e}){let t=(0,s.useCallback)(e=>e.nodeId&&e.position?{nodeId:e.nodeId,position:e.position}:void 0,[]),n=(0,o5.tB)("HTMLPreviewsOfMakesOnCanvas",e,t,{useFlushSyncExpensive:!0});return(0,i.jsx)(i.Fragment,{children:e.map(e=>{let t=n[e]?.position;return t&&(0,i.jsx)(dt,{nodeId:e,position:t},e)})})}function dt({nodeId:e,position:t}){var n,l;let o=(0,o4._X)({subscribeToUpdates_expensive:!0}),d=(0,s.useMemo)(()=>o&&t?(0,o4.Yb)(o,t):null,[o,t]),u=(0,r.d4)(({mirror:{sceneGraphSelection:t}})=>e in t),x=(0,r.d4)(({mirror:{sceneGraphSelection:t,appModel:n}})=>{let i=e in t,s=n.activeUserAction===a.QOV.DRAGGING,r=n.activeUserAction===a.QOV.CLICKING_TO_CHANGE_SELECTION,l=n.activeUserAction===a.QOV.RESIZING;return s||r||l||!i});if(!o||!t||!d)return null;let c=o.zoomScale;return(0,i.jsx)("div",{style:{position:"fixed",width:t.width,height:t.height,top:o.y,left:o.x,transform:`translate(${d.x}px, ${d.y}px) ${(0,o5.aZ)(t)} scale(${c})`,transformOrigin:"top left",pointerEvents:"none"},children:(0,i.jsx)("div",{style:{pointerEvents:x?"none":"auto",height:"100%",width:"100%",...u&&{clipPath:(n=1/c,l=5/c,`polygon(
    ${l}px ${n}px,
    calc(100% - ${l}px) ${n}px,
    calc(100% - ${l}px) ${l}px,
    calc(100% - ${n}px) ${l}px,
    calc(100% - ${n}px) calc(100% - ${l}px),
    calc(100% - ${l}px) calc(100% - ${l}px),
    calc(100% - ${l}px) calc(100% - ${n}px),
    ${l}px calc(100% - ${n}px),
    ${l}px calc(100% - ${l}px),
    ${n}px calc(100% - ${l}px),
    ${n}px ${l}px,
    ${l}px ${l}px
  )`)}},children:(0,i.jsx)(o8.m,{codeSelectionToRender:{type:"instance",codeInstanceNodeGuid:e,allCodeInstanceNodeIds:[e]},chatNodeId:null,disableDrawer:!0,disablePointerEvents:x,isVisible:!0,sandbox:null,useProgressBarWhenLoading:!0,surface:o7.e.DesignPlayableMakesOnCanvas})})})}var dn=n(7331),di=n(822846),ds=n(389276),dr=n(998873),dl=n(980931),da=n(722850),dd=n(289243),du=n(728458),dx=n(483933),dc=n(141330),dp=n(290407),dm=n(946847),dh=n(288971),df=n(638393),dg=n(598369),dy=n(654200);function dk(){let e=(0,dp.wj)(dc.JT.EXPAND_IMAGE),t=(0,eq.ut)(a.ruz?.expandState().dragTarget,null),n=(0,dh.zB)(dc.JT.EXPAND_IMAGE),s=(0,eq.ut)(a.Ez5?.editShapeBehaviorState().isAnyHandleBeingDragged,!1),r=(0,eq.ut)(a.ruz?.expandState().isExpandMode,!1);return!t||e.state===dp.qy.RUNNING||!n||s||r?null:(0,i.jsx)(p.tH,{boundaryKey:"ExpandImageOverlay",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:l.e.AI_PRODUCTIVITY},children:(0,i.jsx)(d_,{dragTarget:t})})}let dj="expand-image-overlay";function d_({dragTarget:e}){let t=(0,s.useCallback)(()=>{let t=e.source;(0,dh.$I)({moduleToOpen:{type:"custom",module:(0,i.jsx)(df.n,{source:t}),beforeModuleOpen:()=>{(0,dp.B3)(dc.JT.EXPAND_IMAGE),(0,dp.Ag)(dc.JT.EXPAND_IMAGE,dx.E,{source:t,target:e})},name:dm.Sn.EXPAND_IMAGE_VIEW},trackingData:{source:t}})},[e]),n=(0,eq.ut)(a.ruz?.expandState().isResizing,!1),r=(0,s.useRef)(!1),l=(0,s.useCallback)(()=>{r.current=a.ruz?.expandState().shouldShowExpandBackground.getCopy()??!1,r.current||n||a.ruz?.expandState().shouldShowExpandBackground.set(!0)},[n]),o=(0,s.useCallback)(()=>{r.current||n||a.ruz?.expandState().shouldShowExpandBackground.set(!1)},[n]);return(0,s.useEffect)(()=>(a.ruz?.expandState().isExpandButtonShowing.set(!0),(0,dg.Vm)(e.guid,(0,i.jsx)(ex.fu,{name:"Expand Image Button",properties:{source:e.source},children:(0,i.jsxs)(eB.m,{role:"region","aria-label":(0,m.t)("fullscreen_actions.expand_image"),children:[(0,i.jsx)("div",{onMouseEnter:l,onMouseLeave:o,...en.Ay.props(db.button,[a._ns.TOP,a._ns.TOP_LEFT,a._ns.TOP_RIGHT].includes(e.direction)&&db.top,[a._ns.BOTTOM,a._ns.BOTTOM_LEFT,a._ns.BOTTOM_RIGHT].includes(e.direction)&&db.bottom,[a._ns.LEFT,a._ns.TOP_LEFT,a._ns.BOTTOM_LEFT].includes(e.direction)&&db.left,[a._ns.RIGHT,a._ns.TOP_RIGHT,a._ns.BOTTOM_RIGHT].includes(e.direction)&&db.right,[a._ns.TOP,a._ns.BOTTOM].includes(e.direction)&&db.centerX,[a._ns.LEFT,a._ns.RIGHT].includes(e.direction)&&db.centerY,[a._ns.TOP,a._ns.BOTTOM].includes(e.direction)&&db.centerX,[a._ns.LEFT,a._ns.RIGHT].includes(e.direction)&&db.centerY),children:(0,i.jsx)(eJ.Me,{trackingProperties:{trackingDescriptor:R.c.EXPAND_IMAGE,source:e.source},"aria-label":(0,m.t)("fullscreen_actions.expand_image"),variant:"primary",onClick:t,"data-onboarding-key":dj,children:(0,i.jsx)(du.V,{})})}),(0,i.jsx)(dv,{})]})}),{minSize:64,overlayId:dj}),()=>{(0,dg.ks)(e.guid,dj),a.ruz?.expandState().isExpandButtonShowing.set(!1)}),[e.guid,e.source,e.direction,t,l,o]),null}function dv(){let e=(0,e7.r1)("seen_expand_image_feature_callout"),t=(0,T.md)(e),{show:n,isShowing:r,complete:l}=(0,M.e)({overlay:V.WAI,priority:P.N.DEFAULT_MODAL},[t]);return(0,s.useEffect)(()=>{n()},[n]),(0,i.jsx)(eb.rq,{arrowPosition:dy.F_.BOTTOM_RIGHT,clickOutsideToHide:!0,description:(0,m.tx)("image_ai.expand.feature_callout.description"),isShowing:r,media:(0,i.jsx)(q.w,{src:(0,I.ck)("3c264d9568a9593189da6d47438d382f94a70d95"),aspectRatio:16/9}),onClose:l,primaryCta:{label:(0,m.tx)("general.got_it"),onClick:l,type:"button",ctaTrackingDescriptor:R.c.GOT_IT},secondaryCta:{label:(0,m.tx)("general.learn_more"),type:"link",href:dc.LC,ctaTrackingDescriptor:R.c.LEARN_MORE},targetKey:dj,title:(0,m.tx)("image_ai.expand.feature_callout.title"),trackingContextName:"ExpandImageFeatureCallout",userFlagOnShow:"seen_expand_image_feature_callout"})}let db={button:{kfzvcC:"x71s49j",kVAEAm:"x10l6tqk",$$css:!0},top:{k87sOh:"x8ow593",$$css:!0},bottom:{krVfgx:"x17339ns",$$css:!0},left:{kbCHJM:"x2s4c47",kLqNvP:null,kt4wiu:null,$$css:!0},right:{kCIrl2:"xibut22",kLqNvP:null,kt4wiu:null,$$css:!0},centerX:{kbCHJM:"x1nrll8i",kLqNvP:null,kt4wiu:null,k3aq6I:"xuuh30",$$css:!0},centerY:{k87sOh:"xwa60dl",k3aq6I:"x1cb1t30",$$css:!0}};var dC=n(508504),dE=n(57712),dS=n(991263),dT=n(565911),dI=n(76578),dw=n(5175),dN=n(7221),dL=n(735652),dA=n(866810),dR=n(897024),dO=n(681075),dM=n(11216),dF=n(12480),dz=n(446071);let dD=s.memo(function({shouldShowDragAndDropBorder:e}){let t=(0,ec.p8)("isReadOnly"),n=(0,r.d4)(e=>e.progressBarState),u=(0,ec.p8)("loadingEmbeds"),x=(0,eR.L3)(),g=(0,eG.Lk)(),y=(0,s.useRef)(null),k=(0,r.d4)(e=>e.openFile),j=k?k.key:"";(0,eI.Gb)(j),(0,eP.W)(),(0,eV.qh)(),a6();let _=(0,eF.BI)(),v=(0,ek.l7)(),b=(0,oa.cE)(),C=(0,eq.ut)((0,eL.UK)().enableCodegenMcpServer,!1),E=(0,f.vb)(),T=(0,c.BE)(),I=(0,eD.o3)(eD.nt.collabToolsInDesign),w=(0,r.d4)(e=>e.multiplayerEmoji),N=(0,r.d4)(e=>e.isFullscreenDocumentLoaded),L=(0,aU.bE)(),A=(0,i.jsx)(eB.m,{role:"region","aria-label":(0,m.t)("fullscreen_actions.left_sidebar_label"),children:v?(0,i.jsx)(p.tH,{boundaryKey:"DevModeLeftPanel",fallback:p.H4.NONE_I_KNOW_WHAT_IM_DOING,sentryTags:{area:l.e.DEV_MODE},children:(0,i.jsx)(S.O,{})}):(0,i.jsx)(di.m,{})});return(0,i.jsxs)(oj,{children:[(0,i.jsx)(eN.ED,{}),(0,i.jsxs)(o1.sk,{children:[n.mode!==a.Oin.OFF&&(0,i.jsx)("div",{className:dz._q}),(0,i.jsxs)(ew.pO,{initialFilterState:{currentPage:!1},children:[u.map(e=>(0,i.jsx)(ax._,{nodeId:e},`loading-embed-${e}`)),T&&(0,o.kc)().aip_expand_image&&(0,i.jsx)(dk,{}),T&&E&&(0,i.jsx)(h.u,{}),(0,i.jsx)(o2.qn,{}),(0,i.jsx)(o6.uV,{}),((0,o.kc)().aip_mw_video||(0,o.kc)().video_in_canvas_design)&&(0,i.jsx)(dE.H,{}),x&&(0,i.jsx)(dl.n,{}),(0,o.kc)().ce_al_experiments_on&&(0,i.jsx)(dl.n,{}),(0,i.jsx)(au.G,{}),(0,i.jsx)(au.b,{}),(0,i.jsx)(dC.J,{}),!b&&(0,i.jsx)(t4.b,{}),(0,o.kc)().dt_mcp_auto_resources&&C&&(0,i.jsx)(d.y6,{}),(0,i.jsx)(o2.XI,{commentsDetailContainerRef:y}),(0,i.jsx)(dF.Z,{}),(0,i.jsx)(dn.X,{}),I&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dS.c7,{}),(0,i.jsx)(ac.S4,{multiplayerEmoji:w})]}),(0,i.jsx)(ao.J,{}),(0,i.jsx)(ds.Nz,{}),(0,i.jsx)("div",{ref:y}),!(0,eO.T)()&&A,!t&&(0,i.jsx)(da.E,{}),(0,i.jsx)(ad.G,{children:b&&N?(0,i.jsxs)(i.Fragment,{children:[L&&(0,i.jsx)(p.tH,{boundaryKey:"DesignSystemView",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:l.e.DESIGN_SYSTEMS_ECOSYSTEM},hasCustomWASMBuild:eM.y4,children:(0,i.jsx)(a4,{})}),(0,i.jsx)(p.tH,{boundaryKey:"DesignFullPageView",fallback:p.H4.DEFAULT_FULL_PAGE,sentryTags:{area:l.e.UX_PLATFORM},hasCustomWASMBuild:eM.y4,children:(0,i.jsx)(oh,{})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(dP,{}),!!_?.shouldOptimizeForIpadApp&&(0,i.jsx)(dL.K,{}),!!_?.shouldOptimizeForIpadApp&&(0,i.jsx)(dA.t,{})]})}),(0,o.kc)().bake_canvas&&(0,i.jsx)(dI.tX,{}),(0,o.kc)().bake_canvas&&(0,i.jsx)(o9,{}),e&&(0,i.jsx)(ds.X5,{}),(0,o.kc)().aip_flower_garden&&(0,i.jsx)(as,{})]}),(0,i.jsx)(eH.A,{editorType:e$.nT.Design,openFile:k}),(0,i.jsx)(dd.l,{defaultViewTabsAvailable:!0,defaultViewAssetsTabVisible:!0})]}),g&&(0,i.jsx)(dr.K,{className:dz.PA,children:(0,i.jsx)(dN.s,{})})]})}),dP=s.memo(function(){let e=(0,ec.p8)("topLevelMode"),t=(0,ec.ax)(),n=(0,ec.dH)();return(0,ez.z)({topLevelMode:a.lyf.PREVIEW,eventName:"Preview Mode Selection Changed",teamFilesOnly:!0}),s.useEffect(()=>{t&&e===a.lyf.PREVIEW&&n!==a.NLJ.COMMENTS&&(0,eA.NT)(a.FAf.INSPECT)},[t,e,n]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o0,{}),(0,i.jsx)(dq,{})]})}),dq=s.memo(function(){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eU.p,{children:(0,i.jsx)(tc.NuxOnboardingOverlay,{entryPoint:dw.C5.Design})}),(0,i.jsx)(eU.p,{featureFlag:"starting_points_modal",children:(0,i.jsx)(tH,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(tx,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(ef,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(eS,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(dT.e,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(W.S,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(t5,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(U,{})}),(0,i.jsx)(eU.p,{children:(0,i.jsx)(e2,{})}),(0,i.jsx)(eU.p,{featureFlag:"cheddar",children:(0,i.jsx)(dR.Ab,{})}),(0,i.jsxs)(eU.p,{featureFlag:"buzz_import_from_design",children:[(0,i.jsx)(E.Hm,{}),(0,i.jsx)(C,{})]}),(0,i.jsx)(eU.p,{featureFlag:"bob_template_gen",children:(0,i.jsx)(dO.E,{})})]})});function dG(){let[e,t]=(0,s.useState)(!1);return(0,i.jsx)(u.l,{id:"DesignView",children:(0,i.jsx)(x.u,{label:"DesignView",children:(0,i.jsx)(of.c,{loadedCommentsProvider:!1,children:(0,i.jsx)(dM.v,{setShouldShowDragAndDropBorder:t,isDragTarget:!1,children:(0,i.jsx)(dD,{shouldShowDragAndDropBorder:e})})})})})}},12480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C});var i=n(104076),s=n(716976),r=n(237420),l=n(980852),a=n(812714),o=n(511570),d=n.n(o),u=n(983500),x=n(361170),c=n(750371),p=n(968169),m=n(553065),h=n(754446),f=n(692042),g=n(331497),y=n(728977),k=n(863995),j=n(404343);let _="offscreen_indicators--indicatorGraphicBlue---nYr-",v="offscreen_indicators--indicatorGraphicPurple--FAz-M",b=(0,u.jz)(j.y9S);function C(){let e=[],t=(0,h.kl)("selectionRegions"),n=(0,m.E7)(t);n&&(e=n);let s=(0,r.d4)(e=>e.mirror.appModel.hoveredNode);if(s&&(0,a.kc)().ce_offscreen_indicators_for_hovered_nodes){let t=(0,l.getActiveTSSceneGraph)().get(s);if(t){let n=t.absoluteBoundingBox;e=[...e,{bounds:{height:n.h,width:n.w,x:n.x,y:n.y},regionType:t.isPrimaryInstance||t.isInstanceSublayer||t.isComponentish||t.isSymbolSublayer?k.fV.SYMBOLS_ONLY:k.fV.MIXED_OR_NO_SYMBOLS}]}}let o=!!e&&e.length>=1,d=(0,f._X)({subscribeToUpdates_expensive:o});return d&&e?(0,i.jsx)(E,{viewportInfo:d,regions:e}):null}function E({viewportInfo:e,regions:t}){let n=(0,s.useContext)(y.kw),l=(0,s.useMemo)(()=>n.getCommentsWrapperOffset(e),[n,e]),a=l.x,o=l.y,d={transform:`translate(${a}px, ${o}px)`},u=(0,r.d4)(e=>e.mirror?.appModel.showUi),x=(0,g.J2)((0,p.UK)().renderRulers)&&u?b:0,m={x:-3.5+x,y:-3.5+x,width:e.width- -7-x,height:e.height- -7-x},h={x:-3.5+x,y:-3.5+x,width:e.width- -7-x,height:e.height- -7-x};return(0,i.jsx)(c.p,{children:(0,i.jsx)("div",{"aria-hidden":!0,"data-forward-events-to-fullscreen":!0,className:"offscreen_indicators--overlay--pNOlw",style:d,children:!!t?.length&&(0,i.jsx)("div",{children:t.map((t,n)=>{let s=(0,f.Z0)(e,{x:t.bounds.x,y:t.bounds.y}),r=(0,f.Z0)(e,{x:t.bounds.x+t.bounds.width,y:t.bounds.y+t.bounds.height}),l={x:s.x,y:s.y,width:r.x-s.x,height:r.y-s.y};return l.x<m.x+m.width&&l.x+l.width>m.x&&l.y+l.height>m.y&&l.y<m.y+m.height?null:(0,i.jsx)(S,{viewportBounds:h,viewportInfo:e,indicatorViewportBounds:l,selectionBoundsScaledWidth:function(e,t){let n=Math.max(e.x,t.x);return Math.max(Math.min(e.x+e.width,t.x+t.width)-n,10)}(l,h),selectionBoundsScaledHeight:function(e,t){let n=Math.max(e.y,t.y);return Math.max(Math.min(e.y+e.height,t.y+t.height)-n,10)}(l,h),selectionRegionType:t.regionType},n)})})})})}function S({viewportBounds:e,viewportInfo:t,indicatorViewportBounds:n,selectionBoundsScaledWidth:s,selectionBoundsScaledHeight:l,selectionRegionType:a}){let o=function(e,t){let n=0-t.x,i=0+e.width-t.x,s=0-t.y,r=0+e.height-t.y,l=Math.abs(n)<i?n:i,a=Math.abs(s)<r?s:r,o=n<0!=i<0,d=s<0!=r<0;return o&&d?Math.abs(l)<Math.abs(a)?{x:t.x+l,y:t.y}:{x:t.x,y:t.y+a}:!o&&d?{x:t.x+l,y:t.y}:o&&!d?{x:t.x,y:t.y+a}:{x:t.x+l,y:t.y+a}}(t,{x:n.x+n.width/2,y:n.y+n.height/2});o.x-=s/2,o.y-=l/2;let u=(0,r.d4)(e=>e.mirror?.appModel.showUi),c=(0,g.J2)((0,p.UK)().renderRulers)&&u?b:0,m=1+c,h=Math.max(m,t.width-1-s),f=1+c,y=Math.max(f,t.height-1-l-1),j=x.Mi.bound(o,{min:{x:m,y:f},max:{x:h,y:y}}),C=n.y+n.height<e.y,E=n.y>e.y+e.height,S=n.x+n.width<e.x,T=n.x>e.x+e.width;j.x+=t.x,j.y+=t.y;let I=Math.min(t.width-2,s),w=Math.min(t.height-2,l);return(0,i.jsxs)("div",{className:"offscreen_indicators--indicator---T9xk",style:{transform:`translate3D(${j.x}px, ${j.y}px, 0)`},children:[(C||E)&&(0,i.jsx)("div",{style:{position:"absolute",height:1.5,width:I,marginTop:E?w-1.5:0},className:d()({[_]:a===k.fV.MIXED_OR_NO_SYMBOLS,[v]:a===k.fV.SYMBOLS_ONLY})}),(S||T)&&(0,i.jsx)("div",{style:{position:"absolute",left:0,height:w,width:1.5,marginLeft:T?I-1.5:0},className:d()({[_]:a===k.fV.MIXED_OR_NO_SYMBOLS,[v]:a===k.fV.SYMBOLS_ONLY})})]})}},980931:(e,t,n)=>{"use strict";n.d(t,{n:()=>o});var i=n(104076),s=n(237420),r=n(835307),l=n(714714),a=n(589337);function o(){let e=function(){let e=(0,s.d4)(e=>e.mirror.appModel.onCanvasPillInfo);return(0,r.Fk)((e,t)=>t&&0!==t.length?t.map(t=>{let n=e.get(t.guid);if(!n||"-1:-1"===n.guid)return null;let i={guid:n.guid,name:n.name,type:n.type,boundingBox:n.absoluteBoundingBox,isFigmaPurple:t.isFigmaPurple,hasEnabledStaticImagePaint:n.hasEnabledStaticImagePaint,isState:n.isState,isStateGroup:n.isStateGroup,stackCounterAlignItems:n.stackCounterAlignItems,stackMode:n.stackMode,isGroup:n.isGroup,canHaveStatus:n.canHaveStatus,hasStatus:n.hasStatus,objectsPanelThumbnailId:n.objectsPanelThumbnailId};if(i.isState&&t.symbolId){let n=e.get(t.symbolId);i.symbolName=n?.name}return i}):null,e)}()?.[0];return e?(0,i.jsx)(l.MO,{node:e,offsetX:-3,children:(0,i.jsxs)("div",{className:a.nM,children:[(0,i.jsx)(l.Tq,{node:e}),(0,i.jsx)("span",{className:a.dK,children:e.symbolName?e.symbolName:e.name})]})}):null}},512810:(e,t,n)=>{"use strict";n.d(t,{q:()=>m});var i=n(104076),s=n(111297),r=n(754446),l=n(74620),a=n(211862),o=n(390669),d=n(563554),u=n(270351),x=n(546547),c=n(235566),p=n(645626);function m({scrollContainer:e}){let t=(0,a.q5)(),n=(0,l.KH)(),m=(0,r.Gt)("prototypeStartingPointsInfo"),h=!m||m.length>0,f=0===Object.keys(n).length,g=t?.canEdit,y=(0,i.jsx)(o.VF,{isVisible:f&&!g&&h,children:()=>(0,i.jsx)(p.A,{viewOnly:!0})}),k=(0,i.jsx)(o.VF,{isVisible:f,children:()=>(0,i.jsx)(u.Q,{recordingKey:"code-local-styles",scrollContainer:e},"code-local-styles")});return(0,i.jsxs)(s.fu,{name:d.e0.CODE_PANEL,children:[(0,i.jsx)(x.Mw,{panelName:x.ON.INSPECT}),(0,i.jsx)(c.t,{recordingKey:"inspectionPanel",flowPanel:y,localStylesPanel:k},"inspection-properties-panel")]})}},57712:(e,t,n)=>{"use strict";n.d(t,{H:()=>w});var i=n(104076),s=n(716976),r=n(237420),l=n(276800),a=n(584781),o=n(266808),d=n(812714),u=n(795033),x=n(165681),c=n(772523),p=n(223837),m=n(176836),h=n(692042),f=n(74620),g=n(835307),y=n(569258),k=n(404660),j=n(749484),_=n(980852),v=n(609817),b=n(88180),C=n(185117),E=n(20226),S=n(382827);function T(e){return e?e.richMediaInfo?.richMediaType==="VIDEO"?(0,y.MT)(e.type)&&!(0,d.kc)().figjam_canvas_migrate_video_nodes?null:e.childrenGuids[0]??null:e.hasEnabledVideoPaint?e.guid:null:null}function I(e){let t=T(e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode));return t?[t]:[]}function w(){let e=function(){let e=(0,f.Mw)(),t=(0,r.d4)(I);return(0,s.useMemo)(()=>{let n=[...t],i=T(e);return i&&n.push(i),[...new Set(n)]},[t,e])}();return e.length?(0,i.jsx)(N,{videoNodeIds:e}):null}function N({videoNodeIds:e}){let t=function(e){let t=(0,s.useCallback)(e=>e.nodeId&&e.position?{nodeId:e.nodeId,position:e.position}:void 0,[]);return(0,p.tB)("VideoOverlays",e,t,{useFlushSyncExpensive:!0})}(e),n=(0,h._X)({subscribeToUpdates_expensive:!0});return n?(0,i.jsx)(i.Fragment,{children:Object.entries(t).map(([e,t])=>(0,i.jsx)(L,{nodeId:e,position:t.position,viewportInfo:n},e))}):null}function L({nodeId:e,position:t,viewportInfo:n}){let d=(0,k.US)(E.R8,{nodeId:e}),[T,I]=(0,s.useState)(!1),w=(0,S.sO)(),N=(0,f.KH)(),L=(0,s.useMemo)(()=>Object.keys(N),[N]),A=(0,r.d4)(e=>e.mirror.sceneGraph),R=(0,s.useMemo)(()=>(0,h.Yb)(n,t),[n,t]),O=(0,g.wA)((e,t)=>{let n=e.get(t);if(!n||!n.hasEnabledVideoPaint)return null;let i=n.fills.findIndex(e=>m.y7(e)?.video?.hash);if(-1===i)return null;let s=n.fills[i];return s&&s.video?.hash?{hexHash:(0,a.nj)(s.video.hash),index:i,showControls:!!(n.videoPlayback?.showControls||n.isInImmutableFrame)}:null},e),[M,F,z,D,P]=function(e,t,n,i,r,l){let[a,d]=(0,s.useState)("dormant"),[x,c,p]=(0,b.J)(null),[m,h,f]=(0,b.J)(null),[g,y,k]=(0,b.J)(null),[E]=(0,u.fp)(C.oe),S=(0,s.useRef)();void 0===S.current&&(S.current=E[e]?.currentVolume??1);let T=function(e,t,n,i,r,l,a,o){let d=(0,s.useRef)(l),u=(0,s.useRef)(a);return(0,s.useCallback)(()=>{if(!e)return;t("loading");let s=document.createElement("video");s.crossOrigin="anonymous",s.autoplay=!0,s.muted=0===o,s.volume=o,n(s);let l=document.createElement("div");l.appendChild(s),l.style.width=`${d.current}px`,l.style.height=`${u.current}px`,document.body.appendChild(l),i(l),async function(){e&&r(await (0,j.mc)(null,s,e))}()},[e,t,r,n,i,o])}(t,d,f,k,p,i,r,S.current),I=(0,s.useCallback)(()=>{if(x.current){try{x.current.dispose()}catch(e){console.error("Error disposing of video player",e)}p(null)}function t(){let t=(0,_.getActiveTSSceneGraph)().get(e);t&&null!=n&&(o.Ez5?.markContainingIndependentLayerNodesDirty(t.guid)||o.Ez5?.invalidateCanvas(),o.Ez5?.moveFromIndependentRenderLayer(t.guid),t.invalidateCanvasSpaceBoundsForSelfAndParents())}m.current&&m.current.parentNode&&m.current.remove(),f(null),g.current&&g.current.parentNode&&g.current.remove(),k(null),o.Ez5?.removeAllVideoNodeReferences(e),d("dormant"),t(),setTimeout(t,0)},[e,n,x,p,d,m,f,g,k]);return function(e,t,n,i,r,l){let a=(0,s.useRef)(l);a.current=l,(0,s.useEffect)(()=>{n&&i&&i.parentNode&&null!=t&&(n.on("playing",()=>{r("playing");let n=(0,_.getActiveTSSceneGraph)().get(e);if(n){n.initializeVideoTextureInFillPaint(t,i.videoWidth,i.videoHeight),n.setVideoElementInFillPaint(t,i),o.Ez5?.moveToIndependentRenderLayer(n.guid);let s=()=>{if(!a.current&&(n=(0,_.getActiveTSSceneGraph)().get(e))){let e=Math.floor(1e3*i.currentTime);n.setVideoCurrentTimeInFillPaint(t,e),n.setVideoIsPlayingInFillPaint(t,!i.paused),o.Ez5?.markContainingIndependentLayerNodesDirty(n.guid)||o.Ez5?.invalidateCanvas(),n.invalidateCanvasSpaceBoundsForSelfAndParents()}};if("requestVideoFrameCallback"in HTMLVideoElement.prototype){let e=()=>{s(),i.requestVideoFrameCallback(e)};e()}else{let e=()=>{s(),requestAnimationFrame(e)};e()}}}),_.getActiveTSSceneGraph().get(e)?.videoPlayback?.muted&&(n.muted(!0),n.volume(0)),n.play())},[e,t,n,i,r])}(e,n,c,h,d,l),(0,s.useEffect)(()=>{if(!h)return;let t=E[e]?.currentVolume;void 0!==t&&h.volume!==t&&(h.volume=t)},[E,h,e]),(0,s.useEffect)(()=>()=>{I()},[I]),(0,s.useEffect)(()=>{let e=(0,v.tG)().subscribeToContextLost(()=>{I()});return()=>{e()}},[I]),[h,y,a,T,I]}(e,O?.hexHash??null,O?.index??null,t.width*n.zoomScale,t.height*n.zoomScale,n.isPanning||n.isZooming),q=(0,s.useCallback)(t=>{let n=A.get(e),i=n?.parentNode?.type||"";if((0,y.MT)(i)){let e=n?.parentGuid;e&&!L.includes(e)&&c.tJ([e])}else L.includes(e)||c.tJ([e]);t&&"dormant"!==z?t?.paused?t?.play():t?.pause():(I(!1),D())},[z,D,e,L,A]),G=(0,j.DD)(e),$=(0,j.ZU)(e),[B,V]=(0,u.fp)(C.H),{isVideoNodeHovered:H,pointerDownOnVideo:U}=B,K=(0,s.useCallback)((e,t)=>{V({isVideoNodeHovered:e,pointerDownOnVideo:t})},[V]),W=o.qmM?.editorTypeConfig().shouldAlwaysShowPlaybackOverlay()??!1;return O&&(W||O.showControls)?(0,i.jsx)("div",{tabIndex:-1,style:{position:"fixed",width:t.width*n.zoomScale,height:t.height*n.zoomScale,top:n.y,left:n.x,transform:`translate(${R.x}px, ${R.y}px) ${(0,p.aZ)(t)}`,transformOrigin:"top left",pointerEvents:"none"},children:(0,i.jsx)("div",{style:{pointerEvents:"auto"},children:(0,i.jsx)(x._L,{didAutoplayOnSelection:!1,hasEnded:T,isLoading:"loading"===z,isMaximized:!1,isVideoHovered:!0,isVideoNodeHovered:H,mediaHash:O.hexHash,playButtonRef:d,pointerDownOnVideo:U,setHasEnded:e=>{I(e),e&&P()},setIsMaximized:l.lQ,setIsVideoHovered:l.lQ,setVideoControls:K,shouldHideControlBar:$,shouldHideFullscreenButton:w,shouldHidePlaybackButton:G,toggleVideoPlayback:q,videoContainerElement:F,videoElement:M})})}):null}},991263:(e,t,n)=>{"use strict";n.d(t,{c7:()=>F});var i=n(104076),s=n(716976),r=n(237420),l=n(681398),a=n(192075),o=n(89782),d=n(211862),u=n(141524),x=n(349311),c=n(826160),p=n(314788),m=n(88314),h=n(983500),f=n(345477),g=n(223837),y=n(692042),k=n(594440),j=n(404343);let _=(0,h.hG)(j.Yub),v=(0,h.hG)(j.Dts)+4;function b({stamp:e,renderChildren:t}){let n=(0,y._X)({subscribeToUpdates_expensive:!0}),[r,l]=(0,s.useState)(null),a=(0,f.Yk)(),[o,d]=(0,s.useState)(x.Zj.ABOVE),[u,c]=(0,s.useState)(null),p=e.guid;(0,s.useEffect)(()=>{let e=`stamp-tooltip-${p}`,t=(0,g.EE)(e,[p],e=>l(e.position));return l(t.currentNodePosition[p]?.position||null),()=>{(0,g.lB)(e)}},[p]);let h=(0,s.useMemo)(()=>r?(0,y.Yb)(n,r.absoluteBounds):null,[r,n]),j=(0,s.useMemo)(()=>h?{...h,x:h.x+n.x,y:h.y+n.y}:null,[h,n.x,n.y]),b=(0,s.useMemo)(()=>!!h&&(0,y.ZT)(h,n),[h,n]),C=(0,s.useCallback)((e,t,i)=>{let s;let r=n.y+10,l=n.y+n.height-10-a-t.height,o=n.x+10,d=n.x+n.width-10-t.width,u=x.Zj.ABOVE,c=(0,m.qE)((0,k.Al)(e,t),o,d);return c+_+v>e.x+e.width?(c=(0,m.qE)(e.x+e.width+i,o,d),u=x.Zj.RIGHT):c+t.width-_-v<e.x&&(c=(0,m.qE)(e.x-t.width-i,o,d),u=x.Zj.LEFT),u===x.Zj.LEFT||u===x.Zj.RIGHT?s=(0,k.tJ)(e,t):(s=(0,k.T1)(e,t,i))<r&&(s=(0,k.DH)(e,t,i),u=x.Zj.BELOW),{pos:u,x:c,y:(0,m.qE)(s,r,l)}},[a,n]),E=(0,s.useCallback)((e,t,n)=>C(e,t,n).x,[C]),S=(0,s.useCallback)((e,t,n)=>C(e,t,n).y,[C]),T=(0,s.useCallback)((e,t,n,i)=>{if(!j)return;let s=C(j,n,i).pos;d(s),c(i=>{let r=function({targetRect:e,tooltipRect:t,tooltipPosition:n}){let i=e.x-t.x+e.width/2,s=e.y-t.y+e.height/2,r=t.width-2*_-v,l=t.height-2*_-v;switch(n){case x.Zj.ABOVE:return{left:(0,m.qE)(i-_,v,r),top:Math.floor(t.height)};case x.Zj.BELOW:return{left:(0,m.qE)(i-_,v,r),top:-_};case x.Zj.RIGHT:return{left:-_,top:(0,m.qE)(s-_,v,l)};case x.Zj.LEFT:return{left:Math.floor(t.width),top:(0,m.qE)(s-_,v,l)}}}({targetRect:j,tooltipRect:{x:e,y:t,width:n.width,height:n.height},tooltipPosition:s});return i&&r.top===i.top&&r.left===i.left?i:r})},[C,j]);return j&&b?(0,i.jsx)(k.lM,{style:{WebkitUserSelect:"none"},targetRect:j,offset:_,positionX:E,positionY:S,onPosition:T,children:t({arrowPosition:u,tooltipPosition:o})}):null}let C="stamp_overlay--userText--FdBYI ellipsis--ellipsis--Tjyfa",E="stamp_overlay--tRexAvatarForeground--6Qkya",S={[x.Zj.ABOVE]:"stamp_overlay--downArrow--VJLl5 stamp_overlay--arrow--F8-y5",[x.Zj.BELOW]:"stamp_overlay--upArrow--PCqYY stamp_overlay--arrowInset--8zLXg stamp_overlay--arrow--F8-y5",[x.Zj.RIGHT]:"stamp_overlay--leftArrow--u3dvc stamp_overlay--arrow--F8-y5",[x.Zj.LEFT]:"stamp_overlay--rightArrow--G7DIa stamp_overlay--arrow--F8-y5"},T={[x.Zj.ABOVE]:"stamp_overlay--animationUp--Pq4mv stamp_overlay--animationBase--a-FJI",[x.Zj.BELOW]:"stamp_overlay--animationDown--mBXfv stamp_overlay--animationBase--a-FJI",[x.Zj.RIGHT]:"stamp_overlay--animationRight--2KY5g stamp_overlay--animationBase--a-FJI",[x.Zj.LEFT]:"stamp_overlay--animationLeft--daYLK stamp_overlay--animationBase--a-FJI"};function I(e){let t=e.mirror.sceneGraph,n=Object.keys(e.mirror.sceneGraphSelection);if(1!==n.length)return null;let i=t.get(n[0]);return i&&"STAMP"===i.type?i:null}function w(e){let t=e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode);return t&&"STAMP"===t.type?t.guid:null}function N({shouldShowAvatar:e,avatarEntity:t,text:n}){return(0,i.jsxs)(i.Fragment,{children:[e&&(0,i.jsx)(c.Ro,{size:16,entity:t}),(0,i.jsx)("div",{className:C,children:n})]})}function L({size:e}){return(0,i.jsxs)("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",children:[(0,i.jsxs)("g",{clipPath:"url(#clip0_1941_43995)",children:[(0,i.jsx)("rect",{className:"stamp_overlay--tRexAvatarBackground--tprTe",width:"16",height:"16"}),(0,i.jsx)("path",{className:E,d:"M3 9.90476V8H9V9.42857V10.8571V13C9 15.2091 7.20914 17 5 17H0L-0.71875 11.7143L3 9.90476Z"}),(0,i.jsx)("path",{className:E,fillRule:"evenodd",clipRule:"evenodd",d:"M4.81038 2.08926C3.50282 2.45482 3 3.93364 3 5.29134V8C3 8.55228 3.44771 9 4 9H13C13.5523 9 14 8.55228 14 8V6.16667C14 4.50981 12.6569 3.16667 11 3.16667H8.24357C7.98467 3.16667 7.73678 3.06531 7.53359 2.90486C7.09796 2.56089 6.25898 2 5.42 2C5.21483 2 5.00965 2.03354 4.81038 2.08926ZM5.75 5.5C6.16421 5.5 6.5 5.16421 6.5 4.75C6.5 4.33579 6.16421 4 5.75 4C5.33579 4 5 4.33579 5 4.75C5 5.16421 5.33579 5.5 5.75 5.5Z"}),(0,i.jsx)("path",{className:E,d:"M11.8504 13.8881C10.8861 14.05 10.9477 12.5057 9.64966 12.5057C8.35158 12.5057 7.14966 13.3116 7.14966 12.1587C7.14966 11.0057 8.35155 11 9.64962 11C11.5299 11 12.8147 13.7262 11.8504 13.8881Z"})]}),(0,i.jsx)("defs",{children:(0,i.jsx)("clipPath",{id:"clip0_1941_43995",children:(0,i.jsx)("circle",{r:"8",cx:"8",cy:"8",fill:"black"})})})]})}function A({stamp:e,shouldAnimate:t,testId:n}){let s=e.stampData?.stampedByUserId||null,r=e.stampData?.userId||null,{user:l,loading:o}=(0,u.wW)(s),{user:x,loading:c}=(0,u.wW)(r),p=d.q5()?.org?.name,m=(()=>{let t=!e.isFaceStamp,n=!!e.stampData?.votingSessionId;if(s&&o||r&&c)return(0,i.jsxs)(i.Fragment,{children:[t&&(0,i.jsx)("div",{className:"stamp_overlay--loadingAvatar--DkN-J stamp_overlay--loadingBase--2UAyM"}),(0,i.jsx)("div",{className:"stamp_overlay--loadingUserText--845yi stamp_overlay--loadingBase--2UAyM"})]});if(l){let e=l.handle;return(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:l,text:n?(0,a.tx)("voting.stamp_tooltip.vote",{userName:e}):r&&s!==r?(0,i.jsxs)("div",{className:"stamp_overlay--faceStampTooltipText--bMf1l",children:[x?.handle," ",(0,i.jsx)("br",{}),(0,i.jsx)("p",{className:"stamp_overlay--stampedByText--fK8AK",children:(0,a.tx)("whiteboard.stamp.stamped_by_tooltip",{userName:e})})]}):e})}if(x){let e=x.handle;return(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:x,text:n?(0,a.tx)("voting.stamp_tooltip.vote",{userName:e}):e})}if(r&&(0,u.Fl)(r)||s&&(0,u.Fl)(s)){let e=n?(0,a.tx)("voting.stamp_tooltip.visitor_vote"):p?(0,a.tx)("voting.stamp_tooltip.visitor_with_org",{orgName:p}):(0,a.tx)("voting.stamp_tooltip.visitor_without_org");return(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:{id:s||r||void 0},text:e})}return s||r?(0,i.jsx)(N,{shouldShowAvatar:t,avatarEntity:{},text:(0,a.tx)("voting.stamp_tooltip.unavailable")}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(L,{size:16}),(0,i.jsx)("div",{className:C,children:(0,a.tx)("voting.stamp_tooltip.old_stamp")})]})})();return(0,i.jsx)(b,{stamp:e,renderChildren:({tooltipPosition:e,arrowPosition:s})=>(0,i.jsxs)("div",{className:t?T[e]:"",children:[(0,i.jsx)("div",{className:"stamp_overlay--tooltip---xJx5","data-testid":n,children:m}),s&&(0,i.jsx)("div",{className:S[e],style:s})]})})}let R=s.memo(function(){let e=(0,r.d4)(I);return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)(A,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),O=s.memo(()=>{let e=(0,r.d4)(I),t=(0,p.d0)();return e?.isFaceStamp&&!e?.stampData?.votingSessionId&&t?null:(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)(A,{stamp:e,shouldAnimate:!0,testId:"selected-stamp-tooltip"},e.guid)})}),M=s.memo(function(){let e=(0,r.d4)(w),[t,n]=(0,s.useState)(null),[l,a]=(0,s.useState)(!0),d=(0,r.d4)(e=>t?e.mirror.sceneGraph.get(t):null),u=(0,r.d4)(I),x=(0,p.d0)(),c=(0,o.e_)();return((0,s.useEffect)(()=>{let i=!!t;if(e!==t&&(e||t)){if(e&&i){a(!1),n(e);return}if(e&&!i){let t=setTimeout(()=>{n(e)},100);return()=>clearTimeout(t)}if(!e&&i){let e=setTimeout(()=>{n(null),a(!0)},300);return()=>clearTimeout(e)}}},[e,t]),u?.isFaceStamp&&!u?.stampData?.votingSessionId&&x||c&&u?.id===d?.id)?null:(0,i.jsx)(i.Fragment,{children:d&&(0,i.jsx)(A,{stamp:d,testId:"hovered-stamp-tooltip",shouldAnimate:l},d.guid)})}),F=s.memo(function(){let e=(0,o.e_)();return(0,l.aJ)()?e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(O,{}),(0,i.jsx)(M,{})]}):(0,i.jsx)(M,{}):(0,i.jsx)(R,{})})},866810:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var i=n(716976),s=n(237420),r=n(266808),l=n(521255);function a(){let e=(0,l.m0)(),t=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return i.useEffect(()=>{e&&(e._keyboard_will_show_with_height=e=>{r.glU.keyboardWillShowWithHeight(e)},e._keyboard_will_hide=()=>{t===r.m1T.TEXT&&r.glU.setDefaultEditMode()},window.FigmaAppObj?(window.FigmaAppObj.keyboardWillShow=()=>{r.glU.keyboardWillShow()},window.FigmaAppObj.keyboardWillShowWithHeight=e=>{r.glU.keyboardWillShowWithHeight(e)}):window.FigmaAppObj={keyboardWillShow:()=>{r.glU.keyboardWillShow()},keyboardWillShowWithHeight:e=>{r.glU.keyboardWillShowWithHeight(e)}})},[e,t]),null}},91340:function(e,t){var n,i,s;i=[],void 0!==(s="function"==typeof(n=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},n=!t.document&&!!t.postMessage,i=t.IS_PAPA_WORKER||!1,s={},r=0,l={parse:function(n,i){var a,o=(i=i||{}).dynamicTyping||!1;if(_(o)&&(i.dynamicTypingFunction=o,o={}),i.dynamicTyping=o,i.transform=!!_(i.transform)&&i.transform,i.worker&&l.WORKERS_SUPPORTED){var p=function(){if(!l.WORKERS_SUPPORTED)return!1;var n,i,a=(n=t.URL||t.webkitURL||null,i=e.toString(),l.BLOB_URL||(l.BLOB_URL=n.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),o=new t.Worker(a);return o.onmessage=f,o.id=r++,s[o.id]=o}();return p.userStep=i.step,p.userChunk=i.chunk,p.userComplete=i.complete,p.userError=i.error,i.step=_(i.step),i.chunk=_(i.chunk),i.complete=_(i.complete),i.error=_(i.error),delete i.worker,void p.postMessage({input:n,config:i,workerId:p.id})}var m=null;return l.NODE_STREAM_INPUT,"string"==typeof n?(n=65279===(a=n).charCodeAt(0)?a.slice(1):a,m=i.download?new d(i):new x(i)):!0===n.readable&&_(n.read)&&_(n.on)?m=new c(i):(t.File&&n instanceof File||n instanceof Object)&&(m=new u(i)),m.stream(n)},unparse:function(e,t){var n=!1,i=!0,s=",",r="\r\n",a='"',o=a+a,d=!1,u=null,x=!1;!function(){if("object"==typeof t){if("string"!=typeof t.delimiter||l.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(s=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(n=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(d=t.skipEmptyLines),"string"==typeof t.newline&&(r=t.newline),"string"==typeof t.quoteChar&&(a=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");u=t.columns}void 0!==t.escapeChar&&(o=t.escapeChar+a),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(x=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}}();var c=RegExp(m(a),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return p(null,e,d);if("object"==typeof e[0])return p(u||Object.keys(e[0]),e,d)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||u),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),p(e.fields||[],e.data||[],d);throw Error("Unable to serialize unrecognized input");function p(e,t,n){var l="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var a=Array.isArray(e)&&0<e.length,o=!Array.isArray(t[0]);if(a&&i){for(var d=0;d<e.length;d++)0<d&&(l+=s),l+=h(e[d],d);0<t.length&&(l+=r)}for(var u=0;u<t.length;u++){var x=a?e.length:t[u].length,c=!1,p=a?0===Object.keys(t[u]).length:0===t[u].length;if(n&&!a&&(c="greedy"===n?""===t[u].join("").trim():1===t[u].length&&0===t[u][0].length),"greedy"===n&&a){for(var m=[],f=0;f<x;f++){var g=o?e[f]:f;m.push(t[u][g])}c=""===m.join("").trim()}if(!c){for(var y=0;y<x;y++){0<y&&!p&&(l+=s);var k=a&&o?e[y]:y;l+=h(t[u][k],y)}u<t.length-1&&(!n||0<x&&!p)&&(l+=r)}}return l}function h(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;x&&"string"==typeof e&&x.test(e)&&(e="'"+e,i=!0);var r=e.toString().replace(c,o);return(i=i||!0===n||"function"==typeof n&&n(e,t)||Array.isArray(n)&&n[t]||function(e,t){for(var n=0;n<t.length;n++)if(-1<e.indexOf(t[n]))return!0;return!1}(r,l.BAD_DELIMITERS)||-1<r.indexOf(s)||" "===r.charAt(0)||" "===r.charAt(r.length-1))?a+r+a:r}}};if(l.RECORD_SEP="\x1e",l.UNIT_SEP="\x1f",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r","\n",'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!n&&!!t.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=0xa00000,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=h,l.ParserHandle=p,l.NetworkStreamer=d,l.FileStreamer=u,l.StringStreamer=x,l.ReadableStreamStreamer=c,t.jQuery){var a=t.jQuery;a.fn.parse=function(e){var n=e.config||{},i=[];return this.each(function(e){if(!("INPUT"===a(this).prop("tagName").toUpperCase()&&"file"===a(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:a.extend({},n)})}),s(),this;function s(){if(0!==i.length){var t,n,s,o,d=i[0];if(_(e.before)){var u=e.before(d.file,d.inputElem);if("object"==typeof u){if("abort"===u.action)return t="AbortError",n=d.file,s=d.inputElem,o=u.reason,void(_(e.error)&&e.error({name:t},n,s,o));if("skip"===u.action)return void r();"object"==typeof u.config&&(d.instanceConfig=a.extend(d.instanceConfig,u.config))}else if("skip"===u)return void r()}var x=d.instanceConfig.complete;d.instanceConfig.complete=function(e){_(x)&&x(e,d.file,d.inputElem),r()},l.parse(d.file,d.instanceConfig)}else _(e.complete)&&e.complete()}function r(){i.splice(0,1),s()}}}function o(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=k(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new p(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,n){if(this.isFirstChunk&&_(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);void 0!==s&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var r=this._partialLine+e;this._partialLine="";var a=this._handle.parse(r,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var o=a.meta.cursor;this._finished||(this._partialLine=r.substring(o-this._baseIndex),this._baseIndex=o),a&&a.data&&(this._rowCount+=a.data.length);var d=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:a,workerId:l.WORKER_ID,finished:d});else if(_(this._config.chunk)&&!n){if(this._config.chunk(a,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);a=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(a.data),this._completeResults.errors=this._completeResults.errors.concat(a.errors),this._completeResults.meta=a.meta),this._completed||!d||!_(this._config.complete)||a&&a.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),d||a&&a.meta.paused||this._nextChunk(),a}this._halted=!0},this._sendError=function(e){_(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:l.WORKER_ID,error:e,finished:!1})}}function d(e){var t;(e=e||{}).chunkSize||(e.chunkSize=l.RemoteChunkSize),o.call(this,e),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),n||(t.onload=j(this._chunkLoaded,this),t.onerror=j(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}n&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var n=t.statusText||e;this._sendError(Error(n))}}function u(e){(e=e||{}).chunkSize||(e.chunkSize=l.LocalChunkSize),o.call(this,e);var t,n,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,n=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=j(this._chunkLoaded,this),t.onerror=j(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);e=n.call(e,this._start,s)}var r=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:r}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function x(e){var t;o.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,n=this._config.chunkSize;return n?(e=t.substring(0,n),t=t.substring(n)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function c(e){o.call(this,e=e||{});var t=[],n=!0,i=!1;this.pause=function(){o.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){o.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):n=!0},this._streamData=j(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=j(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=j(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function p(e){var t,n,i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,r=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,a=this,o=0,d=0,u=!1,x=!1,c=[],p={data:[],errors:[],meta:{}};if(_(e.step)){var f=e.step;e.step=function(t){if(p=t,j())y();else{if(y(),0===p.data.length)return;o+=t.data.length,e.preview&&o>e.preview?n.abort():(p.data=p.data[0],f(p,a))}}}function g(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){return p&&i&&(v("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(p.data=p.data.filter(function(e){return!g(e)})),j()&&function(){if(p){if(Array.isArray(p.data[0])){for(var t=0;j()&&t<p.data.length;t++)p.data[t].forEach(n);p.data.splice(0,1)}else p.data.forEach(n)}function n(t,n){_(e.transformHeader)&&(t=e.transformHeader(t,n)),c.push(t)}}(),function(){if(!p||!e.header&&!e.dynamicTyping&&!e.transform)return p;function t(t,n){var i,l=e.header?{}:[];for(i=0;i<t.length;i++){var a,o,u=i,x=t[i];e.header&&(u=i>=c.length?"__parsed_extra":c[i]),e.transform&&(x=e.transform(x,u)),a=u,o=x,e.dynamicTypingFunction&&void 0===e.dynamicTyping[a]&&(e.dynamicTyping[a]=e.dynamicTypingFunction(a)),x=!0===(e.dynamicTyping[a]||e.dynamicTyping)?"true"===o||"TRUE"===o||"false"!==o&&"FALSE"!==o&&(!function(e){if(s.test(e)){var t=parseFloat(e);if(-0x20000000000000<t&&t<0x20000000000000)return!0}return!1}(o)?r.test(o)?new Date(o):""===o?null:o:parseFloat(o)):o,"__parsed_extra"===u?(l[u]=l[u]||[],l[u].push(x)):l[u]=x}return e.header&&(i>c.length?v("FieldMismatch","TooManyFields","Too many fields: expected "+c.length+" fields but parsed "+i,d+n):i<c.length&&v("FieldMismatch","TooFewFields","Too few fields: expected "+c.length+" fields but parsed "+i,d+n)),l}var n=1;return!p.data.length||Array.isArray(p.data[0])?(p.data=p.data.map(t),n=p.data.length):p.data=t(p.data,0),e.header&&p.meta&&(p.meta.fields=c),d+=n,p}()}function j(){return e.header&&0===c.length}function v(e,t,n,i){var s={type:e,code:t,message:n};void 0!==i&&(s.row=i),p.errors.push(s)}this.parse=function(s,r,a){var o=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var n=RegExp(m(t)+"([^]*?)"+m(t),"gm"),i=(e=e.replace(n,"")).split("\r"),s=e.split("\n"),r=1<s.length&&s[0].length<i[0].length;if(1===i.length||r)return"\n";for(var l=0,a=0;a<i.length;a++)"\n"===i[a][0]&&l++;return l>=i.length/2?"\r\n":"\r"}(s,o)),i=!1,e.delimiter)_(e.delimiter)&&(e.delimiter=e.delimiter(s),p.meta.delimiter=e.delimiter);else{var d=function(t,n,i,s,r){var a,o,d,u;r=r||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var x=0;x<r.length;x++){var c=r[x],p=0,m=0,f=0;d=void 0;for(var y=new h({comments:s,delimiter:c,newline:n,preview:10}).parse(t),k=0;k<y.data.length;k++)if(i&&g(y.data[k]))f++;else{var j=y.data[k].length;m+=j,void 0!==d?0<j&&(p+=Math.abs(j-d),d=j):d=j}0<y.data.length&&(m/=y.data.length-f),(void 0===o||p<=o)&&(void 0===u||u<m)&&1.99<m&&(o=p,a=c,u=m)}return{successful:!!(e.delimiter=a),bestDelimiter:a}}(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);d.successful?e.delimiter=d.bestDelimiter:(i=!0,e.delimiter=l.DefaultDelimiter),p.meta.delimiter=e.delimiter}var x=k(e);return e.preview&&e.header&&x.preview++,t=s,p=(n=new h(x)).parse(t,r,a),y(),u?{meta:{paused:!0}}:p||{meta:{paused:!1}}},this.paused=function(){return u},this.pause=function(){u=!0,n.abort(),t=_(e.chunk)?"":t.substring(n.getCharIndex())},this.resume=function(){a.streamer._halted?(u=!1,a.streamer.parseChunk(t,!0)):setTimeout(a.resume,3)},this.aborted=function(){return x},this.abort=function(){x=!0,n.abort(),p.meta.aborted=!0,_(e.complete)&&e.complete(p),t=""}}function m(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function h(e){var t,n=(e=e||{}).delimiter,i=e.newline,s=e.comments,r=e.step,a=e.preview,o=e.fastMode,d=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(d=e.escapeChar),("string"!=typeof n||-1<l.BAD_DELIMITERS.indexOf(n))&&(n=","),s===n)throw Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<l.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var u=0,x=!1;this.parse=function(l,c,p){if("string"!=typeof l)throw Error("Input must be a string");var h=l.length,f=n.length,g=i.length,y=s.length,k=_(r),j=[],v=[],b=[],C=u=0;if(!l)return U();if(e.header&&!c){var E=l.split(i)[0].split(n),S=[],T={},I=!1;for(var w in E){var N=E[w];_(e.transformHeader)&&(N=e.transformHeader(N,w));var L=N,A=T[N]||0;for(0<A&&(I=!0,L=N+"_"+A),T[N]=A+1;S.includes(L);)L=L+"_"+A;S.push(L)}if(I){var R=l.split(i);R[0]=S.join(n),l=R.join(i)}}if(o||!1!==o&&-1===l.indexOf(t)){for(var O=l.split(i),M=0;M<O.length;M++){if(b=O[M],u+=b.length,M!==O.length-1)u+=i.length;else if(p)break;if(!s||b.substring(0,y)!==s){if(k){if(j=[],$(b.split(n)),K(),x)return U()}else $(b.split(n));if(a&&a<=M)return j=j.slice(0,a),U(!0)}}return U()}for(var F=l.indexOf(n,u),z=l.indexOf(i,u),D=RegExp(m(d)+m(t),"g"),P=l.indexOf(t,u);;)if(l[u]!==t){if(s&&0===b.length&&l.substring(u,u+y)===s){if(-1===z)return U();u=z+g,z=l.indexOf(i,u),F=l.indexOf(n,u)}else if(-1!==F&&(F<z||-1===z))b.push(l.substring(u,F)),u=F+f,F=l.indexOf(n,u);else{if(-1===z)break;if(b.push(l.substring(u,z)),H(z+g),k&&(K(),x))return U();if(a&&j.length>=a)return U(!0)}}else for(P=u,u++;;){if(-1===(P=l.indexOf(t,P+1)))return p||v.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:j.length,index:u}),V();if(P===h-1)return V(l.substring(u,P).replace(D,t));if(t!==d||l[P+1]!==d){if(t===d||0===P||l[P-1]!==d){-1!==F&&F<P+1&&(F=l.indexOf(n,P+1)),-1!==z&&z<P+1&&(z=l.indexOf(i,P+1));var q=B(-1===z?F:Math.min(F,z));if(l.substr(P+1+q,f)===n){b.push(l.substring(u,P).replace(D,t)),l[u=P+1+q+f]!==t&&(P=l.indexOf(t,u)),F=l.indexOf(n,u),z=l.indexOf(i,u);break}var G=B(z);if(l.substring(P+1+G,P+1+G+g)===i){if(b.push(l.substring(u,P).replace(D,t)),H(P+1+G+g),F=l.indexOf(n,u),P=l.indexOf(t,u),k&&(K(),x))return U();if(a&&j.length>=a)return U(!0);break}v.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:j.length,index:u}),P++}}else P++}return V();function $(e){j.push(e),C=u}function B(e){var t=0;if(-1!==e){var n=l.substring(P+1,e);n&&""===n.trim()&&(t=n.length)}return t}function V(e){return p||(void 0===e&&(e=l.substring(u)),b.push(e),u=h,$(b),k&&K()),U()}function H(e){u=e,$(b),b=[],z=l.indexOf(i,u)}function U(e){return{data:j,errors:v,meta:{delimiter:n,linebreak:i,aborted:x,truncated:!!e,cursor:C+(c||0)}}}function K(){r(U()),j=[],v=[]}},this.abort=function(){x=!0},this.getCharIndex=function(){return u}}function f(e){var t=e.data,n=s[t.workerId],i=!1;if(t.error)n.userError(t.error,t.file);else if(t.results&&t.results.data){var r={abort:function(){i=!0,g(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(_(n.userStep)){for(var l=0;l<t.results.data.length&&(n.userStep({data:t.results.data[l],errors:t.results.errors,meta:t.results.meta},r),!i);l++);delete t.results}else _(n.userChunk)&&(n.userChunk(t.results,r,t.file),delete t.results)}t.finished&&!i&&g(t.workerId,t.results)}function g(e,t){var n=s[e];_(n.userComplete)&&n.userComplete(t),n.terminate(),delete s[e]}function y(){throw Error("Not implemented.")}function k(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var n in e)t[n]=k(e[n]);return t}function j(e,t){return function(){e.apply(t,arguments)}}function _(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var n=e.data;if(void 0===l.WORKER_ID&&n&&(l.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:l.WORKER_ID,results:l.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var i=l.parse(n.input,n.config);i&&t.postMessage({workerId:l.WORKER_ID,results:i,finished:!0})}}),(d.prototype=Object.create(o.prototype)).constructor=d,(u.prototype=Object.create(o.prototype)).constructor=u,(x.prototype=Object.create(x.prototype)).constructor=x,(c.prototype=Object.create(o.prototype)).constructor=c,l})?n.apply(t,i):n)&&(e.exports=s)}}]);

//# debugId=15df4799-c76b-5bbd-9f0b-e6068077c20f

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/8ba5f46848315d75266886f2865b179d2bef07d2/a88a4c5a-1f446778e48a63b7.min.js.map