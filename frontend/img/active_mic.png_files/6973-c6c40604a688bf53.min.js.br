"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="af0808bb-5e7b-5ead-901d-aa911d70eda4")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[6973],{326973:(n,e,t)=>{t.d(e,{b:()=>aF});var a=t(104076),o=t(716976),i=t(266808),r=t(812714),l=t(795033),s=t(140490),d=t(750371),c=t(74620),u=t(331497),p=t(973542),g=t(237420),h=t(170627),f=t(681958),x=t(980852),m=t(166887),v=t(80341),b=t(742549),y=t(373547),w=t(354114),_=t(120074),A=t(835307);function N(n){let e=(0,g.d4)(n=>n.mirror.appModel.currentPage),t=(0,b.hA)();return(0,A.wA)((n,e,t,a)=>e.flatMap(e=>{let o=n.get(e);if(!o)return null;if(o.containingCanvas===t){if(!a)return e;{let t=[];return(0,f.hD)(n,e,n=>{n.guid===a&&t.push(e)}),t}}}).filter(v.t),n,e,t)}function I(){let n=(0,m.IL)(),e=(0,l.Xr)(p.m),t=!!(0,b.hA)();return o.useCallback((a,o)=>{h.l7.user("clear-annotations",()=>{let i=(0,x.getActiveTSSceneGraph)().get(a);if(!i)return;i.removeAnnotation(o);let r=(0,f.kh)((0,x.getActiveTSSceneGraph)(),a);n("delete_annotation",{nodeId:a,nodeType:i.type,tlfId:r?.guid,isDevModeFocusView:t}),e(null),w.Y5.triggerAction("commit")})},[e,n,t])}var S=t(132672),j=t(754245),C=t(382629),k=t(12866),E=t(824570),L=t(511570),T=t.n(L),V=t(983500),M=t(755444),R=t(192075),P=t(692042),D=t(315361),O=t(228227),W=t(139366),B=t(278491),F=t(55029),H=t(819851),G=t(938716),z=t(701071),U=t(76365),X=t(122010),K=t(841242),$=t(180244),q=t(287211),Q=t(619070),Y=t(687849),J=t(211862),Z=t(248043),nn=t(303106),ne=t(278052),nt=t(564941),na=t(346886);let no="ANNOTATIONS_CONTEXT_MENU";function ni(n){let{nodeId:e,annotationIndex:t,parentRect:r}=n,s=(0,J.q5)(),d=(0,g.wA)(),c=I(),h=function(){let n=(0,l.Xr)(p.m);return o.useCallback(e=>{n(e)},[n])}(),f=(0,o.useMemo)(()=>i.w3z.isReadOnly(i.SES.ANNOTATIONS),[]),x=(0,q.R)(n=>n.mirror.appModel.keyboardShortcuts),v=(0,K.XR)(),b=(0,m.am)(),y=(0,u.J2)(i.Ez5.uiState().filterAnnotationCategoryId),w={displayText:(0,R.t)("dev_handoff.annotations.hide_annotations"),shortcut:(0,nt.c1)(x,"toggle-show-annotations"),callback:()=>{Y.VU.get("toggle-show-annotations","context-menu")()},recordingKey:"hideAnnotations"},_=[{displayText:(0,R.t)("dev_handoff.annotations.copy_link"),callback:()=>{if(null===s)return;let n=(0,Z.jN)({file:s,nodeId:e,isDevHandoff:!0});d(Q.S({fileKey:s.key,url:n,source:nn.d.ANNOTATION_CONTEXT_MENU,visualBellMessageOverride:(0,R.t)("dev_handoff.annotations.copied_link_to_clipboard")}))},recordingKey:"copy"},...f?[]:[{displayText:(0,R.t)("dev_handoff.layers.edit_annotation"),callback:()=>{h(t)},recordingKey:"edit"},{displayText:(0,R.t)("dev_handoff.annotations.delete"),callback:()=>{c(e,t)},recordingKey:"delete"}],...v.length>0?[ne.w,{displayText:(0,R.t)("dev_handoff.annotations.filter_by"),recordingKey:"filterBy",children:[{displayText:(0,R.t)("fullscreen_actions.show-all-annotation-categories"),callback:()=>{b("filter_annotation_category",{categoryLabel:"all",source:"context_menu"}),i.Ez5?.uiState().filterAnnotationCategoryId.set(null)},icon:(0,a.jsx)($.y,{className:"annotation_context_menu--annotationsCategoryAllIcon--GjsT2"}),isChecked:!y,recordingKey:"showAllAnnotationCategories"},ne.w,...v.map(n=>{let e=(0,K.uA)(n);return{displayText:e,displayTextClassName:"annotation_context_menu--annotationCategoryLabel--mWwoF",icon:(0,a.jsx)("div",{className:"annotation_context_menu--annotationsCategoryIcon--hD0eJ",style:{backgroundColor:(0,K.FQ)(n)}}),isChecked:n.id===y,callback:()=>{b("filter_annotation_category",{categoryLabel:e,source:"context_menu"}),i.Ez5?.uiState().filterAnnotationCategoryId.set(n.id)},recordingKey:`showAnnotationCategory-${e}`}})]}]:[],...v.length>0?[w]:[ne.w,w]];return(0,a.jsx)(na.j,{items:_,showPoint:!1,parentRect:r,onSelectItem:n=>n.callback?.(),dispatch:d,lean:"right",leanPadding:0,recordingKey:"viewAnnotationContextMenu"})}var nr=t(307829),nl=t(550256),ns=t(454851),nd=t(475477),nc=t(684742),nu=t(550012),np=t(420680),ng=t(853943),nh=t(225654),nf=t(471798),nx=t(674524),nm=t(136192),nv=t(330489),nb=t(459125),ny=t(321259),nw=t(371868),n_=t(735212),nA=t(801519);function nN({onEnterPressed:n}){let[e]=(0,nw.DF)();return o.useEffect(()=>(0,n_.Sd)(e.registerCommand(nA.if,t=>{if(t&&t.shiftKey)return t.preventDefault(),e.dispatchCommand(nA.XK,void 0);let a=(0,nA.vJ)();if((0,nA.I2)(a)){let n=a.anchor.getNode().getParent();if(n&&(0,ny.Mz)(n)||n&&(0,ny.HY)(n))return!1}return n(t??void 0),!0},nA.Jj)),[e,n]),null}var nI=t(641518),nS=t(225125),nj=t(652539),nC=t(999473),nk=t(366535),nE=t(443192),nL=t(235711),nT=t(349311),nV=t(25870),nM=t(983764),nR=t(929302),nP=t(950187),nD=t(268389),nO=t(162954),nW=t(293422),nB=t(17933),nF=t(208754),nH=t(760238),nG=t(368422),nz=t(536358),nU=t(140458),nX=t(5780),nK=t(959834);let n$="annotation_categories_edit_window--colorCircle--eQOTM",nq="annotation_categories_edit_window--selected---8KFm";var nQ=t(154709),nY=t(713301),nJ=(n=>(n[n.INVALID_LABEL=0]="INVALID_LABEL",n[n.INVALID_COLOR=1]="INVALID_COLOR",n[n.DUPLICATE_CATEGORIES=2]="DUPLICATE_CATEGORIES",n))(nJ||{});let nZ=[i.RN1.YELLOW,i.RN1.ORANGE,i.RN1.RED,i.RN1.PINK,i.RN1.VIOLET,i.RN1.BLUE,i.RN1.TEAL,i.RN1.GREEN];function n0(n){return n.preset!==i.Bll.NONE||null!=n.custom&&null!=n.custom.label&&n.custom.label.trim().length>0&&null!=n.custom.color}function n1({recordingKey:n,index:e,isSelected:t,isLastItem:i,categoryId:r,label:l,color:s,onRemove:d,onColorChange:c,onLabelChange:u,showDraggingIndicator:p}){let g=(0,o.useRef)(null),h=(0,o.useRef)(null),f=(0,o.useCallback)(n=>{("ArrowLeft"===n.key||"ArrowRight"===n.key)&&n.stopPropagation()},[]),x=(0,o.useCallback)(n=>{u(r,n)},[r,u]),{manager:m,getContextMenuTriggerProps:v,getTriggerProps:b}=nl.b({offset:{mainAxis:4}}),y=(0,o.useCallback)(n=>{c(r,n)},[r,c]),w=(0,o.useMemo)(()=>"above"===p?0===e?"annotation_categories_edit_window--withInsertBeforeTop--ie9yH":"annotation_categories_edit_window--withInsertBefore--ztJQH":"below"===p?i?"annotation_categories_edit_window--withInsertAfterBottom--BPiPN":"annotation_categories_edit_window--withInsertAfter--Jg20i":null,[p,e,i]),[_,A]=(0,o.useState)(!1),{getTriggerProps:N,getContainerProps:I,getArrowProps:S}=nB.fP({type:"dialog",isOpen:_,onOpenChange:A});return(0,a.jsxs)(nF.fI,{ref:g,className:T()("annotation_categories_edit_window--draggableRowContainer--Apval",w,{[nq]:t}),recordingKey:n,htmlAttributes:{"data-testid":n},children:[(0,a.jsx)(nH.fh,{children:(0,a.jsx)(nj.B,{className:"annotation_categories_edit_window--grabber--mQN70",svg:nY.A})}),(0,a.jsx)(nH.fh,{className:"annotation_categories_edit_window--colorSelectCell--0Kb6n",children:(0,a.jsxs)(nl.bL,{manager:m,children:[(0,a.jsx)(nc.E,{className:T()("annotation_categories_edit_window--colorSelectTrigger--AJgOU",{"annotation_categories_edit_window--active---7kjY":m.isOpen}),recordingKey:nI.Pt(n,"colorSelectTrigger"),...b({}),"aria-label":s?(0,R.t)("dev_handoff.annotations.categories_edit_window.category_color_selector.aria_label",{color:s.label()}):(0,R.t)("dev_handoff.annotations.categories_edit_window.category_color_tooltip"),htmlAttributes:{...v(),"data-tooltip-type":"text","data-tooltip-show-above":!0,"data-tooltip":(0,R.t)("dev_handoff.annotations.categories_edit_window.category_color_tooltip")},children:(0,a.jsxs)("div",{className:"annotation_categories_edit_window--triggerContainer--ksQQB",children:[(0,a.jsx)("div",{className:T()(n$,{"annotation_categories_edit_window--noCategoryColor--TOAMH":!s}),style:{backgroundColor:s?.color}}),(0,a.jsx)(nj.B,{className:"annotation_categories_edit_window--caret--7QFy-",svg:nQ.A})]})}),(0,a.jsx)(nl.mc,{className:"annotation_categories_edit_window--colorOptions--n--Hk",children:nZ.map(n=>{let e=K.yu[n];return(0,a.jsx)(nl.q7,{"aria-label":e.label(),onClick:()=>y(n),className:T()("annotation_categories_edit_window--colorOption--24Kum",{[nq]:s?.color===e.color}),children:(0,a.jsx)("div",{className:n$,style:{backgroundColor:e.color}})},n)})})]})}),(0,a.jsx)(nH.fh,{children:(0,a.jsx)("div",{className:"annotation_categories_edit_window--labelInputContainer--dR-Yp",children:(0,a.jsx)(nG.p,{"aria-label":(0,R.t)("dev_handoff.annotations.categories_edit_window.category_label_aria_label"),ref:h,value:l??"",className:"annotation_categories_edit_window--labelInput--vtlaI",onKeyDown:f,onChange:x,recordingKey:nI.Pt(n,"labelInput"),placeholder:(0,R.t)("dev_handoff.annotations.categories_edit_window.category_label_placeholder")})})}),(0,a.jsx)(nH.fh,{children:(0,a.jsxs)("div",{className:"annotation_categories_edit_window--removeButtonContainer--PPynD",children:[(0,a.jsx)(np.K,{"aria-label":(0,R.t)("dev_handoff.annotations.categories_edit_window.remove_category_button_label",{category:l??""}),htmlAttributes:{"data-tooltip":(0,R.t)("dev_handoff.annotations.categories_edit_window.remove_category_button"),"data-tooltip-type":"text"},recordingKey:nI.Pt(n,"removeButton"),...N({}),children:(0,a.jsx)(nU.r,{})}),(0,a.jsxs)(nB.mc,{...I({style:{width:"calc(320rem / 16)"}}),children:[(0,a.jsx)(nB.i3,{...S()}),(0,a.jsxs)(nD.vo,{children:[(0,a.jsx)(nD.Y9,{children:(0,a.jsx)(nD.hE,{children:(0,R.t)("dev_handoff.annotations.categories_edit_window.remove_category_dialog_title")})}),(0,a.jsx)(nD.nB,{children:(0,R.t)("dev_handoff.annotations.categories_edit_window.remove_category_dialog_body")}),(0,a.jsx)(nD.wi,{children:(0,a.jsxs)(nD.jk,{children:[(0,a.jsx)(nW.$n,{variant:"secondary",recordingKey:nI.Pt(n,"removeCategoryCancel"),onClick:()=>A(!1),children:(0,R.t)("general.cancel")}),(0,a.jsx)(nW.$n,{autoFocus:!0,variant:"destructive",recordingKey:nI.Pt(n,"removeCategoryConfirm"),onClick:()=>{d(r),A(!1)},children:(0,R.t)("general.delete")})]})})]})]})]})})]})}let n5=(0,nK.Ju)(function(n){let e=(0,m.IL)(),{open:t,onClose:r,recordingKey:l}=n,s=nR.hS({open:t,onClose:r}),d=(0,K.XR)(),c=(0,K.mi)(),[u,p]=(0,o.useState)([]),[g,h]=(0,o.useState)({}),[f,v]=(0,o.useState)([]),[b,y]=(0,o.useState)([]);(0,o.useEffect)(()=>{d&&(p(d.map(n=>n.id)),h(d.reduce((n,e)=>(n[e.id]=e,n),{})))},[d]);let w=(0,o.useMemo)(()=>{let n=new Set(Object.values(g).map(n=>n.preset===i.Bll.NONE?n.custom?.color:(0,K.AP)(n.preset)).filter(C.Vq));return nZ.find(e=>!n.has(e))??i.RN1.GREEN},[g]),[_,A]=(0,o.useState)(null);(0,o.useEffect)(()=>{A(function(n){let e=new Set;for(let t of n)if(e.add(`${t.preset}-${t.custom?.label}-${t.custom?.color}`),t.preset===i.Bll.NONE&&null!=t.custom){if(null==t.custom.label||0===t.custom.label.trim().length)return{type:0,message:(0,R.t)("dev_handoff.annotations.category_custom.invalid_label")};if(null==t.custom.color)return{type:1,message:(0,R.t)("dev_handoff.annotations.category_custom.invalid_color")}}return e.size!==n.length?{type:2,message:(0,R.t)("dev_handoff.annotations.categories_edit_window.duplicate_categories_message")}:null}(u.map(n=>g[n]).filter(C.Vq)))},[g,u]);let N=(0,o.useRef)(null),[I,S]=(0,o.useState)(null),[j,k]=(0,o.useState)(null),[E,L]=(0,o.useState)(()=>new Set),T=(0,o.useCallback)(n=>{"above"===n.position?(S(n.draggingOverRowIndex),k(null)):(k(n.draggingOverRowIndex),S(null))},[]),V=(0,o.useCallback)(()=>{S(null),k(null)},[]),M=(0,o.useCallback)(n=>{let t=n.map(n=>u[n]).filter(C.Vq);p(t),S(null),k(null);let a=(E.size>0?[...E][0]:null)??null,o=null!==a?u[a]:null;if(o){let n=g[o];if(n){let a=u.indexOf(o),r=t.indexOf(o);a!==r&&e("reorder_annotation_category",{category:n.preset===i.Bll.NONE?n.custom?.label??null:(0,K.h9)(n.preset),oldRank:a,newRank:r})}}},[g,u,E,e]),P=(0,o.useCallback)(()=>{let n={id:(0,nX.fO)((0,x.getActiveTSSceneGraph)()),preset:i.Bll.NONE,custom:{label:"",color:w}};v(e=>[...e,n.id]),p(e=>[...e,n.id]),h(e=>({...e,[n.id]:n}))},[w]),D=(0,o.useCallback)(n=>{if(f.includes(n))v(e=>e.filter(e=>e!==n));else{let e=g[n];e&&y(n=>[...n,e.preset===i.Bll.NONE?e.custom?.label??"":(0,K.h9)(e.preset)])}p(e=>e.filter(e=>e!==n)),h(e=>{let{[n]:t,...a}=e;return a})},[f,g]),O=(0,o.useCallback)((n,t)=>{let a=g[n];a&&(h(e=>({...e,[n]:{...a,preset:i.Bll.NONE,custom:{...a.preset===i.Bll.NONE?a.custom:{label:(0,K.h9)(a.preset),color:(0,K.AP)(a.preset)},color:t}}})),e("edit_annotation_category_color",{category:a.preset===i.Bll.NONE?a.custom?.label??null:(0,K.h9)(a.preset),newColor:t,oldColor:a.preset===i.Bll.NONE?a.custom?.color:(0,K.AP)(a.preset)}))},[g,e]),W=(0,o.useCallback)((n,t)=>{let a=g[n];a&&(h(e=>({...e,[n]:{...a,preset:i.Bll.NONE,custom:{...a.preset===i.Bll.NONE?a.custom:{label:(0,K.h9)(a.preset),color:(0,K.AP)(a.preset)},label:t}}})),e("edit_annotation_category_name",{newCategory:t,oldCategory:a.preset===i.Bll.NONE?a.custom?.label:(0,K.h9)(a.preset)}))},[g,e]),B=(0,o.useCallback)(()=>{r()},[r]),F=(0,o.useCallback)(()=>{if(_)return;let n=u.map(n=>g[n]).filter(n0).map(n=>n.preset===i.Bll.NONE?{...n,custom:n.custom?{...n.custom,label:n.custom.label.trim()}:null}:n);if(n.length===d.length&&n.every((n,e)=>{let t=d[e];return!!t&&n.id===t.id&&n.preset===t.preset&&n.custom?.label===t.custom?.label&&n.custom?.color===t.custom?.color})){r();return}f.forEach(n=>{let t=g[n];t&&e("add_annotation_category",{categoryLabel:t.custom?.label??null})}),b.forEach(n=>{e("delete_annotation_category",{categoryLabel:n})}),c(n),r()},[_,u,d,c,r,g,f,b,e]);return(0,a.jsx)(nP.bL,{width:"md",manager:s,htmlAttributes:{"data-testid":"annotation-categories-edit-window-root"},children:(0,a.jsxs)(nD.vo,{children:[(0,a.jsxs)(nD.Y9,{children:[(0,a.jsx)(nD.hE,{children:(0,R.tx)("dev_handoff.annotations.categories_edit_window.title")}),(0,a.jsx)(nD.jk,{children:(0,a.jsx)(np.K,{recordingKey:nI.Pt(l,"addCategory"),"aria-label":(0,R.t)("dev_handoff.annotations.categories_edit_window.add_category_button"),onClick:P,children:(0,a.jsx)(nz.e,{})})})]}),(0,a.jsx)(nD.nB,{padding:0===u.length?void 0:0,children:u.length>0?(0,a.jsx)(nO.bL,{onReorderRows:M,onDragOver:T,onCancelDrag:V,setSelectedRows:L,ref:N,children:u.map((n,e)=>{let t=g[n];return t?(0,a.jsx)(n1,{categoryId:n,color:t.preset===i.Bll.NONE?t.custom?.color!==void 0?K.yu[t.custom.color]:void 0:(0,K.Lw)(t.preset),index:e,isLastItem:e===u.length-1,isSelected:E.has(e),label:t.preset===i.Bll.NONE?t.custom?.label:(0,K.h9)(t.preset),onColorChange:O,onLabelChange:W,onRemove:D,recordingKey:nI.Pt(l,"annotationCategoryItem",e),showDraggingIndicator:I===e?"above":j===e?"below":null},n):null})}):(0,a.jsx)("div",{className:"annotation_categories_edit_window--noCategoriesMessage--haAE-",children:(0,R.tx)("dev_handoff.annotations.categories_edit_window.no_categories_message")})}),(0,a.jsx)(nD.wi,{children:(0,a.jsxs)(nD.jk,{children:[(0,a.jsx)(nW.$n,{variant:"secondary",onClick:B,recordingKey:nI.Pt(l,"cancel"),children:(0,R.tx)("general.cancel")}),(0,a.jsx)(nW.$n,{onClick:F,disabled:!!_,recordingKey:nI.Pt(l,"done"),htmlAttributes:_?{"data-tooltip-type":"text","data-tooltip":_.message}:{},children:(0,R.tx)("general.done")})]})})]})})}),n2=(0,o.memo)(function(n){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...n,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M9.5 6A1.5 1.5 0 0 1 11 7.5v9A1.5 1.5 0 0 1 9.5 18h-2l-.153-.008A1.5 1.5 0 0 1 6 16.5v-9a1.5 1.5 0 0 1 1.347-1.492L7.5 6zm-2 1a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5zm9-1A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.5 1.5h-2l-.153-.008A1.5 1.5 0 0 1 13 16.5v-9a1.5 1.5 0 0 1 1.347-1.492L14.5 6zm-2 1a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5z",clipRule:"evenodd"})})}),n4=(0,o.memo)(function(n){return(0,a.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...n,"data-fpl-icon-size":"24",children:(0,a.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M16.5 13a1.5 1.5 0 0 1 1.5 1.5v2l-.008.153A1.5 1.5 0 0 1 16.5 18h-9a1.5 1.5 0 0 1-1.492-1.347L6 16.5v-2A1.5 1.5 0 0 1 7.5 13zm-9 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm9-8A1.5 1.5 0 0 1 18 7.5v2l-.008.153A1.5 1.5 0 0 1 16.5 11h-9a1.5 1.5 0 0 1-1.492-1.347L6 9.5v-2A1.5 1.5 0 0 1 7.5 6zm-9 1a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})});var n6=t(671170),n7=t(815346),n3=t(416381),n8=t(599441),n9=t(371952),en=t(728233),ee=t(487375);let et="annotation--viewAnnotation--cA-c1 annotation--_annotationBase--MPByC",ea="annotation--wrapperEditing--C2Zlx",eo="annotation--annotationLine--jr4Mc",ei="annotation--annotationLineEndDot--Lsq0a",er="annotation--withCategory--lj1wU",el="annotation--contentContainer--vSuqs",es="annotation--innerWrapper--T0cql",ed="annotation--viewAnnotationFadedOut--7LQPE",ec="annotation--darkText--xCvQV",eu="annotation--properties--1p6UF",ep="annotation--noValue--HHQOU",eg="annotation--propertyOptionIconSvg--LypST",eh="annotation--icon--w1enR",ef="annotation--chit--3je6E",ex="annotation--solidPaint--ClR6h",em="annotation--solidPaintValue--9PQMf annotation--_ellipsis--8F1VE",ev="annotation--variablePill--VNxoI",eb="annotation--viewAnnotationSelected--UApdn",ey="annotation--categoryOptionLabel--Iz9RB",ew="annotation--buttonReset--Emcnw";function e_({valueProps:n,isHovered:e,variableContainerClassName:t}){let o=(0,n9.u)(n?.variableId);if("mixed"===n.format){let o=n.value.some(n=>!!n.variableId);return(0,a.jsx)("div",{className:T()("annotation--multipleVariableWrapper--OW3M1",o&&"annotation--vertical--zmpVv"),children:n.value.map((i,r)=>(0,a.jsxs)("div",{className:"annotation--multipleVariableValue--5-5xk",children:[(0,a.jsx)(e_,{valueProps:i,isHovered:e,variableContainerClassName:t}),r<n.value.length-1&&!o&&(0,a.jsx)("span",{children:", "})]},r))})}let i=`${(0,en.m3)(n)}`;return o?(0,a.jsx)(ee.wG,{dataTestId:"styledValueVariable",containerClassName:T()(ev,t),text:o.name,disableHover:!0,isHovered:e,tooltip:i}):(0,a.jsx)(a.Fragment,{children:i})}var eA=t(166612),eN=t(554730),eI=t(324438),eS=t(425045);function ej({svg:n}){return(0,a.jsx)(nj.B,{svg:n,className:T()(eh,eg)})}var eC=t(299062);let ek=n=>(0,en.nd)(n,"");function eE({nodeFields:n,variable:e,isPreview:t=!1}){let o=(0,n3.v4)(),i=(0,n8.qM)(o,n?.stackSpacing,ek);return e?t?(0,a.jsx)(a.Fragment,{children:e.name}):(0,a.jsx)(ee.wG,{containerClassName:ev,text:e.name,disableHover:!0}):(0,eS.rO)(n?.stackPrimaryAlignItems)?(0,R.tx)("dev_handoff.annotations.auto"):(0,a.jsx)(a.Fragment,{children:i})}function eL({nodeFields:n,isPreview:e=!1}){let t=(0,n9.u)(n?.itemSpacingVariableId);return e?(0,a.jsx)(eE,{nodeFields:n,variable:t,isPreview:!0}):(0,a.jsx)("div",{className:t?void 0:"annotation--spacingProperty--RCjSM annotation--coloredProperty--OTQ6l",children:(0,a.jsx)("span",{children:(0,a.jsx)(eE,{nodeFields:n,variable:t})})})}function eT({rawValues:n,variables:e,isPreview:t=!1,isTextProperty:o=!1}){let i=(0,n3.v4)(),r=(0,n8.Fm)(i,n,ek,{isTextProperty:o});if(n.length!==e.length)throw Error("<ManySidedProperty /> must have the same number of rawValues and variables");let l=e.map((n,e)=>({value:r[e],format:"pixels",variableId:n?.node_id})),s=l[0]?.variableId;for(let n of l)if(n.variableId!==s){if(t)return(0,R.tx)("fullscreen.mixed");return(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"mixed",value:l}})}return s?t?(0,a.jsx)(a.Fragment,{children:s}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:l[0]}):n.some(e=>e!==n[0])?t?(0,R.tx)("fullscreen.mixed"):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"pixels",value:r.join(", ")}}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"pixels",value:r[0]}})}function eV({nodeFields:n,isPreview:e=!1}){let t=(0,n9.u)(n.paddingTopVariableId),o=(0,n9.u)(n.paddingRightVariableId),i=(0,n9.u)(n.paddingBottomVariableId),r=(0,n9.u)(n.paddingLeftVariableId),{stackTopPadding:l,stackRightPadding:s,stackBottomPadding:d,stackLeftPadding:c}=n,u=[t,o,i,r].some(n=>!!n);return e?(0,a.jsx)(eT,{rawValues:[l,s,d,c],variables:[t,o,i,r],isPreview:!0}):(0,a.jsx)("div",{className:T()(u?void 0:"annotation--paddingProperty--ckvG6 annotation--coloredProperty--OTQ6l"),children:(0,a.jsx)("span",{children:(0,a.jsx)(eT,{rawValues:[l,s,d,c],variables:[t,o,i,r]})})})}function eM({nodeId:n}){let e=(0,A.wA)(e=>{let t=e.get(n);return t?{stackWrap:t.stackWrap,stackMode:t.stackMode}:null},n);if(e?.stackWrap==="WRAP")return(0,a.jsx)(ej,{svg:eC.A});switch(e?.stackMode){case"HORIZONTAL":return(0,a.jsx)(eA.Z,{"data-testid":"Icon24AlLayoutGridHorizontalSmall",className:T()(eh,eg)});case"VERTICAL":return(0,a.jsx)(eN.z,{"data-testid":"Icon24AlLayoutGridVerticalSmall",className:T()(eh,eg)});case"GRID":return(0,a.jsx)(eI.t,{"data-testid":"Icon24GridView",className:T()(eh,eg)});default:return null}}function eR({nodeFields:n}){if("WRAP"===n.stackWrap)return(0,R.tx)("fullscreen.properties_panel.stack_panel.wrap");switch(n.stackMode){case"HORIZONTAL":return(0,R.tx)("dev_handoff.annotations.autolayout_horizontal");case"VERTICAL":return(0,R.tx)("dev_handoff.annotations.autolayout_vertical");case"GRID":return(0,R.tx)("inspect_panel.properties.flow.grid");default:return null}}function eP({nodeFields:n}){if(!n||!n.isStack)return null;if("HORIZONTAL"===n.stackMode)switch(n.stackPrimaryAlignItems){case"MIN":switch(n.stackCounterAlignItems){case"MIN":return(0,R.tx)("dev_handoff.annotations.alignment.top_left");case"CENTER":return(0,R.tx)("dev_handoff.annotations.alignment.left");case"MAX":return(0,R.tx)("dev_handoff.annotations.alignment.bottom_left");case"BASELINE":return(0,R.tx)("dev_handoff.annotations.alignment.baseline_left")}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(n.stackCounterAlignItems){case"MIN":return(0,R.tx)("dev_handoff.annotations.alignment.top_center");case"CENTER":return(0,R.tx)("dev_handoff.annotations.alignment.center");case"MAX":return(0,R.tx)("dev_handoff.annotations.alignment.bottom_center");case"BASELINE":return(0,R.tx)("dev_handoff.annotations.alignment.baseline_center")}case"MAX":switch(n.stackCounterAlignItems){case"MIN":return(0,R.tx)("dev_handoff.annotations.alignment.top_right");case"CENTER":return(0,R.tx)("dev_handoff.annotations.alignment.right");case"MAX":return(0,R.tx)("dev_handoff.annotations.alignment.bottom_right");case"BASELINE":return(0,R.tx)("dev_handoff.annotations.alignment.baseline_right")}}switch(n.stackPrimaryAlignItems){case"MIN":switch(n.stackCounterAlignItems){case"MIN":return(0,R.tx)("dev_handoff.annotations.alignment.top_left");case"CENTER":return(0,R.tx)("dev_handoff.annotations.alignment.top_center");case"MAX":return(0,R.tx)("dev_handoff.annotations.alignment.top_right");case"BASELINE":return null}case"CENTER":case"SPACE_BETWEEN":case"SPACE_EVENLY":switch(n.stackCounterAlignItems){case"MIN":return(0,R.tx)("dev_handoff.annotations.alignment.left");case"CENTER":return(0,R.tx)("dev_handoff.annotations.alignment.center");case"MAX":return(0,R.tx)("dev_handoff.annotations.alignment.right");case"BASELINE":return null}case"MAX":switch(n.stackCounterAlignItems){case"MIN":return(0,R.tx)("dev_handoff.annotations.alignment.bottom_left");case"CENTER":return(0,R.tx)("dev_handoff.annotations.alignment.bottom_center");case"MAX":return(0,R.tx)("dev_handoff.annotations.alignment.bottom_right");case"BASELINE":return null}}}function eD({value:n,variableAlias:e,isPreview:t}){let o=(0,n9.u)(e?.id);return o&&t?(0,a.jsx)(a.Fragment,{children:o.name}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{value:n}})}var eO=t(624155),eW=t(391145),eB=t(77417),eF=t(645249),eH=t(559185);function eG(n,e){let t=(0,g.d4)(n=>n.library),a=(0,eH.f$)(n),o=(0,D.mJ)(a);if(!n||!a||!o)return null;let i=(0,eO.Gp)(n.key,[a],t);if(!i)return null;let r=i.value;return"SUBSCRIBED_WITHOUT_LIBRARY"===i.kind&&(r.style_type=e),r.description=o.description,r.name=o.name,r.isLocal="LOCAL"===i.kind,r}function ez(n,e){if(1===e)return n;let t=(100*e).toLocaleString("en",{maximumFractionDigits:2})+"%";return`${n} \xb7 ${t}`}function eU(n,e,t){let{opacity:a=1}=n;switch(n.type){case"SOLID":{if(!n.color)return null;let{color:o}=n,{a:i=1}=o,r=t({...o,a:i*a},{alphaInPercent:!0});return e?e.name:r}case"GRADIENT_LINEAR":return ez((0,R.t)("dev_handoff.selection_colors.gradient_linear"),a);case"GRADIENT_ANGULAR":return ez((0,R.t)("dev_handoff.selection_colors.gradient_angular"),a);case"GRADIENT_DIAMOND":return ez((0,R.t)("dev_handoff.selection_colors.gradient_diamond"),a);case"GRADIENT_RADIAL":return ez((0,R.t)("dev_handoff.selection_colors.gradient_radial"),a);case"IMAGE":return ez((0,R.t)("dev_handoff.annotations.image"),a);case"VIDEO":return ez((0,R.t)("dev_handoff.annotations.video"),a);default:return null}}function eX({paints:n,styleRef:e,variables:t}){let o=t?.[0],i=(0,eB.Ig)(),r=(0,n9.u)(o?.id),l=eG(e,"FILL");return 0===n.length?null:l?(0,a.jsx)(a.Fragment,{children:l.name}):n.length>1?(0,R.tx)("dev_handoff.annotations.multiple"):(0,a.jsx)(a.Fragment,{children:eU(n[0],r,i)})}function eK({paints:n}){let e=n[0];return(0,a.jsx)(eW.J,{className:ef,tabIndex:-1,paint:e,allowMouseDownPropagation:!0})}function e$({paint:n,variableAlias:e}){let t=(0,eB.Ig)(),o=(0,n9.u)(e?.id),i=eU(n,o,t);return i?(0,a.jsxs)("div",{className:ex,children:[(0,a.jsx)(eW.J,{className:ef,paint:n,tabIndex:-1,allowMouseDownPropagation:!0}),(0,a.jsx)("span",{className:em,title:i,children:o?(0,a.jsx)(ee.wG,{containerClassName:ev,text:i,disableHover:!0}):i})]}):null}function eq({styleRef:n,styleType:e,hideIcon:t=!1}){let o=eG(n,e);return(!function(n){let e=(0,g.d4)(n=>n.library),t=(0,eH.f$)(n),a=t?(0,eO.Gp)(n.key,[t],e):void 0;(0,eO.w$)(a)}(n),o)?(0,a.jsxs)("div",{className:ex,children:[!t&&(0,a.jsx)("div",{className:T()("annotation--styleChit--yCQ3O annotation--chit--3je6E",eh),children:(0,a.jsx)(eF.zi,{dsStyle:o})}),(0,a.jsx)("span",{className:em,title:o.name,children:o.name})]}):null}function eQ({paints:n,styleRef:e,variables:t}){return e?(0,a.jsx)(eq,{styleRef:e,styleType:"FILL"}):0===n.length?null:(0,a.jsx)("div",{className:"annotation--mixedValues--Z0qIk",children:n.map((n,e)=>(0,a.jsx)(e$,{paint:n,variableAlias:t?.[e]},e))})}var eY=t(271899),eJ=t(491488),eZ=t(241421),e0=t(731650);function e1({effects:n,styleRef:e}){let t=eG(e,"EFFECT");if(t)return(0,a.jsx)(a.Fragment,{children:t.name});if(n.length>1)return(0,R.tx)("dev_handoff.annotations.multiple");let o=n[0];return o?(0,a.jsx)(e5,{effect:o}):null}function e5({effect:n}){switch(n.type){case"DROP_SHADOW":return(0,R.tx)("dev_handoff.annotations.shadow");case"BACKGROUND_BLUR":return(0,R.tx)("fullscreen.properties_panel.effects.background_blur");case"FOREGROUND_BLUR":return(0,R.tx)("fullscreen.properties_panel.effects.layer_blur");case"INNER_SHADOW":return(0,R.tx)("fullscreen.properties_panel.effects.inner_shadow");case"GRAIN":return(0,R.tx)("fullscreen.properties_panel.effects.texture");case"NOISE":return(0,R.tx)("fullscreen.properties_panel.effects.noise");case"GLASS":return(0,R.tx)("fullscreen.properties_panel.effects.glass");case"REPEAT":case"SYMMETRY":case void 0:return null}}function e2({effects:n,styleRef:e}){return(0,a.jsx)(a.Fragment,{children:n.map((n,t)=>(0,a.jsx)(e3,{effect:n,styleRefHeader:0===t?e:null},t))})}function e4({effect:n,variables:e}){let t=[n.offset?.x,n.offset?.y,n.radius,n.spread];return t.some((n,t)=>e[t]?.name)?(0,a.jsx)("div",{children:t.map((n,t)=>{if(void 0===n)return null;let o=e[t];return o?.name?(0,a.jsx)(ee.wG,{text:o.name,disableHover:!0},t):(0,a.jsx)("div",{children:n},t)}).filter(n=>null!==n)}):(0,a.jsx)("span",{children:t.filter(n=>void 0!==n).join(", ")})}function e6({effect:n,radiusVariable:e}){return e?.name?(0,a.jsx)("span",{className:"annotation--effectBlurVariable--mbYFb",children:(0,a.jsx)(ee.wG,{text:e.name,disableHover:!0})}):void 0===n.radius?null:(0,a.jsx)("span",{children:` ${(0,en.nd)(n.radius,"px")}`})}let e7=new eZ.SU;function e3({effect:n,styleRefHeader:e}){let t=(0,eB.Ig)(),o=e&&(0,a.jsx)(e8,{styleRef:e}),i=[n.xVar,n.yVar,n.radiusVar,n.spreadVar,n.colorVar].map(n=>{if(n?.value?.alias){let e=eJ.sD.fromKiwi(n.value.alias);if(e)return eJ.sD.toString(e)}return null}),r=(0,n9.hg)(i);switch(n.type){case"DROP_SHADOW":case"INNER_SHADOW":{let{color:e}=n,i=r[4],l=e?t(e,{alphaInPercent:!0}):null;return(0,a.jsxs)("div",{children:[o,(0,a.jsx)("span",{children:(0,a.jsx)(e5,{effect:n})}),e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{}),(0,a.jsxs)("div",{className:ex,children:[(0,a.jsx)(eW.J,{className:T()(ef,"annotation--chitInline--vG6cM"),color:e,allowMouseDownPropagation:!0}),i?(0,a.jsx)(ee.wG,{text:i.name,disableHover:!0}):(0,a.jsx)("span",{className:em,title:l||void 0,children:l})]})]}),(0,a.jsx)("span",{}),(0,a.jsx)(e4,{effect:n,variables:r}),n.blendMode&&"NORMAL"!==n.blendMode&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{}),(0,a.jsx)("span",{children:e7.format(n.blendMode)})]})]})}case"BACKGROUND_BLUR":case"FOREGROUND_BLUR":return(0,a.jsxs)("div",{children:[o,(0,a.jsx)("span",{children:(0,a.jsx)(e5,{effect:n})}),(0,a.jsx)(e6,{effect:n,radiusVariable:r[2]})]});case"REPEAT":case"SYMMETRY":case"GLASS":case"NOISE":case"GRAIN":case void 0:return null}}function e8({styleRef:n}){let e=(0,eH.f$)(n),t=(0,D.mJ)(e);return e&&t?(0,a.jsx)("div",{children:t.name}):null}var e9=t(160761);let tn=n=>{switch(n){case"RIGHT":return(0,R.t)("inspect_panel.typography.align_right");case"CENTER":return(0,R.t)("inspect_panel.typography.align_center");case"JUSTIFIED":return(0,R.t)("inspect_panel.typography.align_justified");case"LEFT":return(0,R.t)("dev_handoff.annotations.align_left")}};function te(){return(0,a.jsx)(nj.B,{svg:e9.A,className:T()(eh,eg)})}function tt({textAlignHorizontal:n}){return(0,a.jsx)(a.Fragment,{children:tn(n)})}let ta=n=>n.toLocaleString("en",{maximumFractionDigits:2,useGrouping:!1});function to({lineHeightOrMixed:n,variableAlias:e,isPreview:t}){let o=(0,n9.u)(e?.id),i=(0,n3.v4)(),r="mixed"!==n&&"PIXELS"===n.units?n.value:void 0,l=(0,n8.qM)(i,r,ta,{isTextProperty:!0});return"mixed"===n?(0,R.tx)("fullscreen.mixed"):o&&t?(0,a.jsx)(a.Fragment,{children:o.name}):"PERCENT"===n.units&&100===n.value?(0,R.tx)("dev_handoff.annotations.auto"):"RAW"===n.units?(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"fig_number",value:{value:100*n.value,units:"PERCENT"},variableId:o?.node_id}}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{value:l,variableId:o?.node_id}})}function ti({fontNameOrMixed:n,variableAlias:e,isPreview:t}){let o=(0,n9.u)(e?.id);return"mixed"===n?(0,R.tx)("fullscreen.mixed"):o&&t?(0,a.jsx)(a.Fragment,{children:o.name}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{value:n.family,variableId:o?.node_id}})}function tr({fontWeightOrMixed:n,variableAlias:e,isPreview:t}){let o=(0,n9.u)(e?.id);return"mixed"===n?(0,R.tx)("fullscreen.mixed"):(o&&o.resolvedType!==i.rXF.FLOAT&&(o=null),o&&t)?(0,a.jsx)(a.Fragment,{children:o.name}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{value:n,variableId:o?.node_id}})}var tl=t(372209),ts=t(374356),td=t(668810),tc=t(962815),tu=t(33649),tp=t(975749),tg=t(541014),th=t(77351),tf=t(275646);let tx=new Map([[i.L5V.HEIGHT,{label:()=>(0,R.t)("fullscreen.properties_panel.transform_panel.height"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:tu.A}),extractNodeFields:n=>n?{height:n.size.y,heightVar:n.boundVariables.height}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.height,variableAlias:n.heightVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.height,variableAlias:n.heightVar}):null,index:0}],[i.L5V.MIN_HEIGHT,{label:()=>(0,R.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:tu.A}),extractNodeFields:n=>n?{minHeight:n.minHeight,minHeightVar:n.boundVariables.minHeight}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.minHeight,variableAlias:n.minHeightVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.minHeight,variableAlias:n.minHeightVar}):null,index:0}],[i.L5V.MAX_HEIGHT,{label:()=>(0,R.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:tu.A}),extractNodeFields:n=>n?{maxHeight:n.maxHeight,maxHeightVar:n.boundVariables.maxHeight}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.maxHeight,variableAlias:n.maxHeightVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.maxHeight,variableAlias:n.maxHeightVar}):null,index:0}],[i.L5V.WIDTH,{label:()=>(0,R.t)("fullscreen.properties_panel.transform_panel.width"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:tg.A}),extractNodeFields:n=>n?{width:n.size.x,widthVar:n.boundVariables.width}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.width,variableAlias:n.widthVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.width,variableAlias:n.widthVar}):null,index:0}],[i.L5V.MIN_WIDTH,{label:()=>(0,R.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:tg.A}),extractNodeFields:n=>n?{minWidth:n.minWidth,minWidthVar:n.boundVariables.minWidth}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.minWidth,variableAlias:n.minWidthVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.minWidth,variableAlias:n.minWidthVar}):null,index:0}],[i.L5V.MAX_WIDTH,{label:()=>(0,R.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:tg.A}),extractNodeFields:n=>n?{maxWidth:n.maxWidth,maxWidthVar:n.boundVariables.maxWidth}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.maxWidth,variableAlias:n.maxWidthVar,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.maxWidth,variableAlias:n.maxWidthVar}):null,index:0}],[i.L5V.CORNER_RADIUS,{label:()=>(0,R.t)("fullscreen.properties_panel.transform_panel.corner_radius"),category:"dimension",Icon:()=>(0,a.jsx)(ej,{svg:ts.A}),extractNodeFields:n=>n?{rectangleTopLeftCornerRadius:n.rectangleTopLeftCornerRadius,rectangleTopRightCornerRadius:n.rectangleTopRightCornerRadius,rectangleBottomRightCornerRadius:n.rectangleBottomRightCornerRadius,rectangleBottomLeftCornerRadius:n.rectangleBottomLeftCornerRadius,topLeftRadiusVariable:n.boundVariables.topLeftRadius?.id,topRightRadiusVariable:n.boundVariables.topRightRadius?.id,bottomRightRadiusVariable:n.boundVariables.bottomRightRadius?.id,bottomLeftRadiusVariable:n.boundVariables.bottomLeftRadius?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tb,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tb,{nodeFields:n}):null,index:0}],[i.L5V.STACK_MODE,{label:()=>(0,R.t)("dev_handoff.annotations.autolayout_mode"),category:"stack",Icon:({nodeId:n})=>(0,a.jsx)(eM,{nodeId:n}),extractNodeFields:n=>n?{stackMode:n.stackMode,stackWrap:n.stackWrap}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eR,{nodeFields:n}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eR,{nodeFields:n}):null,index:0}],[i.L5V.STACK_ALIGNMENT,{label:()=>(0,R.t)("dev_handoff.annotations.alignment"),category:"stack",Icon:({nodeId:n})=>{let e=(0,A.wA)(e=>{let t=e.get(n);return!t||t.isGrid?null:{stackMode:t.stackMode,stackPrimaryAlignItems:t.stackPrimaryAlignItems,stackCounterAlignItems:t.stackCounterAlignItems,stackWrap:t.stackWrap}},n);return e?(0,a.jsx)(ej,{svg:(0,eY.GN)(e)}):null},extractNodeFields:n=>n?{isStack:n.isStack,stackMode:n.stackMode,stackPrimaryAlignItems:n.stackPrimaryAlignItems,stackCounterAlignItems:n.stackCounterAlignItems}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eP,{nodeFields:n}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eP,{nodeFields:n}):null,index:0}],[i.L5V.STACK_SPACING,{label:()=>(0,R.t)("inspect_panel.properties.gap"),category:"stack",Icon:({nodeId:n})=>{let e=(0,A.Fk)(e=>e.get(n)?.stackMode,n);return e&&"GRID"!==e?(0,a.jsx)(ej,{svg:"HORIZONTAL"===e?td.A:tc.A}):null},extractNodeFields:n=>n?{itemSpacingVariableId:n?.boundVariables?.itemSpacing?.id,stackSpacing:n.stackSpacing,stackPrimaryAlignItems:n.stackPrimaryAlignItems}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eL,{nodeFields:n,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eL,{nodeFields:n}),index:0}],[i.L5V.GRID_COLUMN_COUNT,{label:()=>(0,R.t)("inspect_panel.properties.grid.columns"),category:"stack",Icon:()=>(0,a.jsx)(n2,{"data-testid":"Icon24AlColumnsSmall",className:T()(eh,eg)}),extractNodeFields:n=>n?{columnCount:n.gridColumnCount}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnCount:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnCount:0}),index:0}],[i.L5V.GRID_ROW_COUNT,{label:()=>(0,R.t)("inspect_panel.properties.grid.rows"),category:"stack",Icon:()=>(0,a.jsx)(n4,{"data-testid":"Icon24AlRowsSmall",className:T()(eh,eg)}),extractNodeFields:n=>n?{rowCount:n.gridRowCount}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowCount:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowCount:0}),index:0}],[i.L5V.GRID_COLUMN_GAP,{label:()=>(0,R.t)("inspect_panel.properties.grid.column_gap"),category:"stack",Icon:({nodeId:n})=>{let e=(0,A.Fk)(e=>e.get(n)?.stackMode,n);return e&&"GRID"===e?(0,a.jsx)(ej,{svg:tc.A}):null},extractNodeFields:n=>n?{itemSpacingVariableId:n?.boundVariables?.itemSpacing?.id,stackSpacing:n.gridColumnGap,stackPrimaryAlignItems:n.stackPrimaryAlignItems}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eL,{nodeFields:n,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eL,{nodeFields:n}),index:0}],[i.L5V.GRID_ROW_GAP,{label:()=>(0,R.t)("inspect_panel.properties.grid.row_gap"),category:"stack",Icon:({nodeId:n})=>{let e=(0,A.Fk)(e=>e.get(n)?.stackMode,n);return e&&"GRID"===e?(0,a.jsx)(ej,{svg:td.A}):null},extractNodeFields:n=>n?{itemSpacingVariableId:n?.boundVariables?.itemSpacing?.id,stackSpacing:n.gridRowGap,stackPrimaryAlignItems:n.stackPrimaryAlignItems}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eL,{nodeFields:n,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eL,{nodeFields:n}),index:0}],[i.L5V.GRID_COLUMN_ANCHOR_INDEX,{label:()=>(0,R.t)("inspect_panel.properties.grid.column_start"),category:"stack",Icon:()=>(0,a.jsx)(n2,{"data-testid":"Icon24AlColumnsSmall",className:T()(eh,eg)}),extractNodeFields:n=>n?{columnIndex:n.gridColumnAnchorIndex}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnIndex+1:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnIndex+1:0}),index:0}],[i.L5V.GRID_ROW_ANCHOR_INDEX,{label:()=>(0,R.t)("inspect_panel.properties.grid.row_start"),category:"stack",Icon:()=>(0,a.jsx)(n4,{"data-testid":"Icon24AlRowsSmall",className:T()(eh,eg)}),extractNodeFields:n=>n?{rowIndex:n.gridRowAnchorIndex}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowIndex+1:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowIndex+1:0}),index:0}],[i.L5V.GRID_COLUMN_SPAN,{label:()=>(0,R.t)("inspect_panel.properties.grid.horizontal_span"),category:"stack",Icon:()=>(0,a.jsx)(n6.H,{"data-testid":"Icon24ArrowRightSmall",className:T()(eh,eg)}),extractNodeFields:n=>n?{columnSpan:n.gridColumnSpan}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnSpan:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.columnSpan:0}),index:0}],[i.L5V.GRID_ROW_SPAN,{label:()=>(0,R.t)("inspect_panel.properties.grid.vertical_span"),category:"stack",Icon:()=>(0,a.jsx)(n7.t,{"data-testid":"Icon24ArrowDownSmall",className:T()(eh,eg)}),extractNodeFields:n=>n?{rowSpan:n.gridRowSpan}:null,PreviewValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowSpan:0,isPreview:!0}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(eD,{value:n?n.rowSpan:0}),index:0}],[i.L5V.STACK_PADDING,{label:()=>(0,R.t)("inspect_panel.properties.padding"),category:"stack",Icon:()=>(0,a.jsx)(ej,{svg:tp.A}),extractNodeFields:n=>n?{stackTopPadding:n.stackTopPadding,stackRightPadding:n.stackRightPadding,stackBottomPadding:n.stackBottomPadding,stackLeftPadding:n.stackLeftPadding,paddingTopVariableId:n.boundVariables?.paddingTop?.id,paddingRightVariableId:n.boundVariables?.paddingRight?.id,paddingBottomVariableId:n.boundVariables?.paddingBottom?.id,paddingLeftVariableId:n.boundVariables?.paddingLeft?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eV,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eV,{nodeFields:n}):null,index:0}],[i.L5V.TEXT_STYLE,{label:()=>(0,R.t)("dev_handoff.annotations.text_style"),category:"text",Icon:te,extractNodeFields:n=>({inheritedTextStyle:n?.inheritedTextStyle}),PreviewValue:({nodeFields:n})=>n?.inheritedTextStyle?(0,a.jsx)(tS,{styleRef:n.inheritedTextStyle}):null,DisplayValue:({nodeFields:n})=>n?.inheritedTextStyle?(0,a.jsx)(eq,{styleRef:n.inheritedTextStyle,styleType:"TEXT",hideIcon:!0}):null,index:0}],[i.L5V.FONT_FAMILY,{label:()=>(0,R.t)("inspect_panel.typography.font"),category:"text",Icon:te,extractNodeFields:n=>n?{fontNameOrMixed:n.fontNameOrMixed,fontFamilyVariable:n.boundVariables.fontFamily?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(ti,{fontNameOrMixed:n.fontNameOrMixed,variableAlias:n.fontFamilyVariable,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(ti,{fontNameOrMixed:n.fontNameOrMixed,variableAlias:n.fontFamilyVariable}):null,index:0}],[i.L5V.FONT_STYLE,{label:()=>(0,R.t)("inspect_panel.code.font_style"),category:"text",Icon:te,extractNodeFields:n=>({fontStyle:n?.fontName.style}),PreviewValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.fontStyle}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.fontStyle}),index:0}],[i.L5V.FONT_SIZE,{label:()=>(0,R.t)("dev_handoff.annotations.font_size"),category:"text",Icon:te,extractNodeFields:n=>n?{fontSizeOrMixed:n.fontSizeOrMixed,fontSizeVariable:n.boundVariables.fontSize?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.fontSizeOrMixed,variableAlias:n.fontSizeVariable,isPreview:!0,isTextProperty:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tN,{value:n.fontSizeOrMixed,variableAlias:n.fontSizeVariable,isTextProperty:!0}):null,index:0}],[i.L5V.LINE_HEIGHT,{label:()=>(0,R.t)("fullscreen.type_panel.line_height"),category:"text",Icon:te,extractNodeFields:n=>n?{lineHeightOrMixed:n.lineHeightOrMixed,lineHeightVariable:n.boundVariables.lineHeight?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(to,{lineHeightOrMixed:n.lineHeightOrMixed,variableAlias:n.lineHeightVariable,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(to,{lineHeightOrMixed:n.lineHeightOrMixed,variableAlias:n.lineHeightVariable}):null,index:0}],[i.L5V.LETTER_SPACING,{label:()=>(0,R.t)("fullscreen.type_panel.letter_spacing"),category:"text",Icon:te,extractNodeFields:n=>n?{letterSpacingOrMixed:n.letterSpacingOrMixed,letterSpacingVariable:n.boundVariables.letterSpacing?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tI,{value:n.letterSpacingOrMixed,variableAlias:n.letterSpacingVariable,isPreview:!0,isTextProperty:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tI,{value:n.letterSpacingOrMixed,variableAlias:n.letterSpacingVariable,isTextProperty:!0}):null,index:0}],[i.L5V.TEXT_ALIGN_HORIZONTAL,{label:()=>(0,R.t)("dev_handoff.annotations.text_align"),category:"text",Icon:te,extractNodeFields:n=>({textAlign:n?.textAlignHorizontal}),PreviewValue:({nodeFields:n})=>n?.textAlign?(0,a.jsx)(tt,{textAlignHorizontal:n.textAlign}):null,DisplayValue:({nodeFields:n})=>n?.textAlign?(0,a.jsx)(tt,{textAlignHorizontal:n.textAlign}):null,index:0}],[i.L5V.FONT_WEIGHT,{label:()=>(0,R.t)("inspect_panel.typography.weight"),category:"text",Icon:te,extractNodeFields:n=>n?{fontWeightOrMixed:n.fontWeightOrMixed,fontStyleVariable:n.boundVariables.fontStyle?.[0]}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tr,{fontWeightOrMixed:n.fontWeightOrMixed,variableAlias:n.fontStyleVariable,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tr,{fontWeightOrMixed:n.fontWeightOrMixed,variableAlias:n.fontStyleVariable}):null,index:0}],[i.L5V.FILL,{label:()=>(0,R.t)("fullscreen.properties_panel.fill.fill"),category:"paint",Icon:({nodeId:n})=>{let e=(0,A.Fk)(e=>e.get(n)?.fills,n);return e?(0,a.jsx)(eK,{paints:e}):null},extractNodeFields:n=>n?{fills:n.fills,fillVariables:n.boundVariables.fills,inheritedFillStyle:n.inheritedFillStyle}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eX,{paints:n.fills,variables:n.fillVariables,styleRef:n.inheritedFillStyle}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eQ,{paints:n.fills,styleRef:n.inheritedFillStyle,variables:n.fillVariables}):null,index:0}],[i.L5V.STROKE,{label:()=>(0,R.t)("fullscreen.properties_panel.fill.stroke"),category:"paint",Icon:({nodeId:n})=>{let e=(0,A.Fk)(e=>e.get(n)?.strokePaints.data,n);return e?(0,a.jsx)(eK,{paints:e}):null},extractNodeFields:n=>n?{strokePaints:n.strokePaints,strokeVariables:n.boundVariables.strokes,inheritedFillStyle:n.inheritedFillStyle,inheritedFillStyleForStroke:n.inheritedFillStyleForStroke}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(eX,{paints:n.strokePaints.data,variables:n.strokeVariables,styleRef:n.inheritedFillStyle}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(eQ,{paints:n.strokePaints.data,styleRef:n.inheritedFillStyleForStroke,variables:n.strokeVariables}):null,index:0}],[i.L5V.STROKE_WIDTH,{label:()=>(0,R.t)("fullscreen.properties_panel.borders.stroke_width"),category:"paint",Icon:()=>(0,a.jsx)(ej,{svg:th.A}),extractNodeFields:n=>n?{borderStrokeWeightsIndependent:n.borderStrokeWeightsIndependent,strokeWeight:n.strokeWeight,strokeWeightVariable:n.boundVariables.strokeWeight?.id,borderTopWeight:n.borderTopWeight,borderRightWeight:n.borderRightWeight,borderBottomWeight:n.borderBottomWeight,borderLeftWeight:n.borderLeftWeight,strokeTopWeightVariable:n.boundVariables.strokeTopWeight?.id,strokeRightWeightVariable:n.boundVariables.strokeRightWeight?.id,strokeBottomWeightVariable:n.boundVariables.strokeBottomWeight?.id,strokeLeftWeightVariable:n.boundVariables.strokeLeftWeight?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(ty,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(ty,{nodeFields:n}):null,index:0}],[i.L5V.EFFECT,{label:()=>(0,R.t)("inspect_panel.code.effect"),category:"paint",Icon:function(){return(0,a.jsx)(ej,{svg:e0.A})},extractNodeFields:n=>n?{effects:n.effects.filter(n=>n.visible),inheritedEffectStyle:n.inheritedEffectStyle}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(e1,{effects:n.effects,styleRef:n.inheritedEffectStyle}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(e2,{effects:n.effects,styleRef:n.inheritedEffectStyle}):null,index:0}],[i.L5V.OPACITY,{label:()=>(0,R.t)("fullscreen.scrubbable.opacity"),category:"paint",Icon:()=>(0,a.jsx)(ej,{svg:tf.A}),extractNodeFields:n=>n?{opacity:n.opacity,opacityVariable:n.boundVariables.opacity?.id}:null,PreviewValue:({nodeFields:n})=>n?(0,a.jsx)(tv,{nodeFields:n,isPreview:!0}):null,DisplayValue:({nodeFields:n})=>n?(0,a.jsx)(tv,{nodeFields:n}):null,index:0}],[i.L5V.COMPONENT,{label:()=>(0,R.t)("dev_handoff.annotations.component"),category:"component",Icon:()=>(0,a.jsx)(ej,{svg:tl.A}),extractNodeFields:(n,e)=>{let t;let a=n?.symbolId;if(a){let n=e.get(a);n&&(n.isState&&n.parentNode?.name&&(t=`${n.parentNode.name} (${n.name})`),t=n.name)}return{symbolName:t}},PreviewValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.symbolName}),DisplayValue:({nodeFields:n})=>(0,a.jsx)(a.Fragment,{children:n?.symbolName}),index:0}]]),tm=0;function tv({nodeFields:n,isPreview:e=!1}){let t=(0,n9.u)(n.opacityVariable);return t&&e?(0,a.jsx)(a.Fragment,{children:t.name}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"percent",value:n.opacity,variableId:t?.node_id}})}function tb({nodeFields:n,isPreview:e=!1}){let t=(0,n9.u)(n.topLeftRadiusVariable),o=(0,n9.u)(n.topRightRadiusVariable),i=(0,n9.u)(n.bottomRightRadiusVariable),r=(0,n9.u)(n.bottomLeftRadiusVariable);return(0,a.jsx)(eT,{rawValues:[n.rectangleTopLeftCornerRadius,n.rectangleTopRightCornerRadius,n.rectangleBottomRightCornerRadius,n.rectangleBottomLeftCornerRadius],variables:[t,o,i,r],isPreview:e})}function ty({nodeFields:n,isPreview:e=!1}){return n.borderStrokeWeightsIndependent?(0,a.jsx)(t_,{nodeFields:n,isPreview:e}):(0,a.jsx)(tw,{nodeFields:n,isPreview:e})}function tw({nodeFields:n,isPreview:e}){let t=(0,n9.u)(n.strokeWeightVariable);return t&&e?(0,a.jsx)(a.Fragment,{children:t.name}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{value:n.strokeWeight,variableId:t?.node_id,format:"pixels"}})}function t_({nodeFields:n,isPreview:e}){let t=(0,n9.u)(n.strokeTopWeightVariable),o=(0,n9.u)(n.strokeRightWeightVariable),i=(0,n9.u)(n.strokeBottomWeightVariable),r=(0,n9.u)(n.strokeLeftWeightVariable);return n?(0,a.jsx)(eT,{rawValues:[n.borderTopWeight,n.borderRightWeight,n.borderBottomWeight,n.borderLeftWeight],variables:[t,o,i,r],isPreview:e}):null}tx.forEach(n=>{n.index=tm++});let tA=n=>n.toLocaleString("en",{maximumFractionDigits:5,useGrouping:!1});function tN({value:n,variableAlias:e,isPreview:t,isTextProperty:o=!1}){let i=(0,n9.u)(e?.id),r=(0,n3.v4)(),l=(0,n8.qM)(r,"number"==typeof n?n:void 0,tA,{isTextProperty:o});return null===n?null:"mixed"===n?(0,R.tx)("fullscreen.mixed"):i&&t?(0,a.jsx)(a.Fragment,{children:i.name}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{value:l,variableId:i?.node_id}})}function tI({value:n,variableAlias:e,isPreview:t,isTextProperty:o=!1}){let i=(0,n9.u)(e?.id),r=(0,n3.v4)(),l=(0,n8.qM)(r,"mixed"===n?void 0:n.value,tA,{isTextProperty:o});return"mixed"===n?(0,R.tx)("fullscreen.mixed"):i&&t?(0,a.jsx)(a.Fragment,{children:i.name}):"PIXELS"===n.units?(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"pixels",value:l,variableId:i?.node_id}}):(0,a.jsx)(e_,{variableContainerClassName:ev,valueProps:{format:"fig_number",value:n,variableId:i?.node_id}})}function tS({styleRef:n}){let e=(0,eH.f$)(n),t=(0,D.mJ)(e);return t?(0,a.jsx)(a.Fragment,{children:t.name}):null}var tj=t(555642),tC=(n=>(n[n.MANUAL=0]="MANUAL",n[n.CODEBASE_SUGGESTIONS=1]="CODEBASE_SUGGESTIONS",n[n.MANAGED_STRING=2]="MANAGED_STRING",n[n.CMS_BINDING=3]="CMS_BINDING",n))(tC||{}),tk=(n=>(n[n.ALIGNED=0]="ALIGNED",n[n.ABOVE=1]="ABOVE",n[n.BELOW=2]="BELOW",n))(tk||{}),tE=t(666875),tL=t(265149),tT=t(772523),tV=t(506192),tM=t(153730),tR=t(582351),tP=t(953013),tD=t(182380),tO=t(694819),tW=t(833737),tB=t(876315),tF=t(890373),tH=t(693035),tG=t(740801),tz=t(428436),tU=t(734561),tX=t(275033);let tK={type:tC.CMS_BINDING,useShouldDisableHover(n){let e=(0,tG.Jv)();return(0,o.useMemo)(()=>i.$au?.validateBindingModeHoverTarget(n)!==i.iZU.SUCCESS,[e])},useSharedHooksContext(){let n=(0,g.d4)(n=>n.mirror.appModel.currentPage),e=(0,tH.eZ)();return(0,A.wA)((n,e,t)=>t?(n.get(e)?(0,f.Uj)(n,e):[]).reduce((n,e)=>{let t=function(n){let e=[],t=i.Ez5?.dakotaBindings().nodeIdToAliasMap;if(!t)return e;let a=t.getCopy();return(0,f.hV)(n,n=>{if(!n.visible)return;let t=a.get(n.guid);if(t)for(let a of t)e.push({annotationType:tC.CMS_BINDING,nodeId:n.guid,uniqueId:`${n.guid}-cms-binding-${a.fieldSchemaId}`,meta:{textContent:n.characters.trim(),collectionId:a.collectionId,fieldSchemaId:a.fieldSchemaId,alwaysShow:!n.isInDakotaRepeater||n.isInFirstDakotaRepeaterChild()}})}),e}(e);return t.length>0?{...n,[e.guid]:t}:n},{}):{},n,e)},useRelevantTLFs:n=>Object.keys(n),useNewAnnotationsByTlf(n,e){let t=(0,g.d4)(n=>n.mirror.appModel.hoveredNode),a=(0,g.d4)(U.Sh),r=i.Ez5?.cmsState(),l=(0,u.ut)(r?.lastClickedNodeGuid,null);return(0,o.useMemo)(()=>n.reduce((n,o)=>({...n,[o]:e[o]?.filter(n=>n.meta.alwaysShow||a.includes(n.nodeId)&&n.nodeId===l||t===n.nodeId)||[]}),{}),[n,e,t,a,l])},annotationWrapperClassName:"annotation--annotationWrapperCmsBinding--DSfDQ",AnnotationDisplayOverride({nodeInfo:n,isFadedOut:e}){let t=(0,g.d4)(U.Sh).includes(n.nodeId),o=(0,g.d4)(n=>n.mirror.appModel.hoveredNode)===n.nodeId,i=(0,x.getActiveTSSceneGraph)().get(n.nodeId);return i?(0,a.jsx)(t$,{isFadedOut:e,isSelected:t,isHovered:o,collectionId:n.meta.collectionId,fieldSchemaId:n.meta.fieldSchemaId,node:i}):null}};function t$({isFadedOut:n,isSelected:e,isHovered:t,collectionId:r,fieldSchemaId:l,node:s}){let d=(0,tU.X)({fieldSchemaStableId:l,collectionStableId:r}),c=(0,tz.OC)(r,l),{status:u}=(0,tz.iL)(r),p=(0,o.useCallback)(()=>{if("loaded"!==d.status)return;c&&h.l7.user("cms-clear-dangling-binding",()=>{s&&s.getNodesForCmsBinding().forEach(n=>{n.clearCmsBindingByFieldSchemaId(l)})});let n=d.fieldSchema?.fieldType;n&&i.Egt&&(i.Egt.clearSelection(),i.Egt.addToSelection([s.guid]),w.Y5.triggerActionEnumInUserEditScope(i.rcl.UNBIND_SELECTION,{fieldSchemaId:l,fieldType:n,removeBoundData:!1}))},[s,d.status,l,d.fieldSchema?.fieldType,c]);if("loaded"!==d.status||"loaded"!==u)return null;let g=c?(0,R.t)("cms_binding.missing_binding"):d.fieldSchema.name,f=c?(0,a.jsx)(tW.R,{}):function(n){if(!(0,tX.K5)(n))return null;switch(n){case tX._j.PLAIN_TEXT:return(0,a.jsx)(tM.I,{});case tX._j.RICH_TEXT:return(0,a.jsx)(tR.G,{});case tX._j.LINK:case tX._j.SLUG:return(0,a.jsx)(tP.N,{});case tX._j.IMAGE:return(0,a.jsx)(tD._,{});case tX._j.DATE:return(0,a.jsx)(tO.p,{})}}(d.fieldSchema.fieldType);return(0,a.jsxs)(nc.E,{className:T()(et,el,{[eb]:e,"annotation--viewAnnotationNodeHovered---eUHt":t,[ed]:n,"annotation--viewAnnotationDangling--FQwP-":c}),onClick:()=>{i.$au?.attemptBindingModeClick(s.guid)},children:[f,(0,a.jsx)("div",{className:"annotation--cmsBindingLabel--bcQef",children:g}),(0,a.jsx)(nc.E,{className:"annotation--unbind--neSDK",onClick:n=>{n.preventDefault(),n.stopPropagation(),p()},children:(0,a.jsx)(tB.k,{})})]})}let tq=(0,l.eU)(new Map),tQ=((0,l.eU)(null,(n,e,{nodeId:t,suggestions:a})=>{let o=new Map(n(tq));0===a.length?o.delete(t):o.set(t,a),e(tq,o)}),{nodeSuggestionsByTlf:new Map,nodeSuggestionsByGuid:new Map});var tY=t(469243),tJ=t(859277),tZ=t(587277);function t0({nodeId:n,nodeFields:e,isFadedOut:t,suggestions:o}){let i=(0,D.uQ)()===n,r=n=>{n&&(tT.wr(),(0,tZ.S)("annotations"),tT.Dh([n]))},l=o.slice(0,3).map(n=>n.name).join(", ");return(0,a.jsxs)(tJ.D8,{className:T()(et,el,{[eb]:i,[ed]:t}),role:"button",tabIndex:0,onMouseDown:()=>{i||(e.firstChildGuid?r(e.firstChildGuid):r(n))},"data-testid":"annotationDisplay",recordingKey:`viewAnnotationContainer-${e.name}`,children:[(0,a.jsx)("div",{className:"annotation--codeConnectIcon--nFdfw",children:(0,a.jsx)(tY.s,{})}),(0,a.jsx)("div",{className:"annotation--codeConnectLabel--Pd3TS",children:(0,a.jsx)("span",{className:"annotation--codeConnectLabelName--d-Hdu",children:l})})]})}let t1={type:tC.CODEBASE_SUGGESTIONS,useSharedHooksContext:()=>(function(){let n=(0,l.md)(tq),e=(0,c.eY)();if(!(0,r.kc)().dt_ccv2_on_canvas)return tQ;let t=new Map,a=new Map;for(let[o,i]of n.entries()){let n=e.get(o);if(!n)continue;let r=n.findContainingTopLevelFrameOrSelf(),l={nodeId:o,node:n,tlfGuid:r,possibleSuggestions:i};t.set(o,l),r&&(a.has(r)||a.set(r,[]),a.get(r)?.push(l))}return{nodeSuggestionsByTlf:a,nodeSuggestionsByGuid:t}})(),useRelevantTLFs:({nodeSuggestionsByTlf:n})=>Array.from(n.keys()),useNewAnnotationsByTlf(n,{nodeSuggestionsByTlf:e}){let t={};for(let[n,a]of e.entries())t[n]=a.map(n=>({nodeId:n.nodeId,uniqueId:`${n.nodeId}-codebase-suggestions`,annotationType:tC.CODEBASE_SUGGESTIONS,meta:{nodeSuggestions:n.possibleSuggestions}}));return t},annotationWrapperClassName:"annotation--annotationWrapperCodebaseSuggestions--1G1LW",AnnotationDisplayOverride({nodeInfo:n,isFadedOut:e}){var t;let o=(t=n.nodeId,(0,A.wA)((n,e)=>{let t=n.get(e);return t?{firstChildGuid:t.childrenNodes[0]?.guid,tlfNodeId:t.findContainingTopLevelFrameOrSelf(),type:t.type,name:t.name}:null},t));return o?(0,a.jsx)(t0,{nodeId:n.nodeId,nodeFields:o,isFadedOut:e,suggestions:n.meta.nodeSuggestions}):null}};var t5=t(141692),t2=t(58212),t4=t(832832),t6=t(984374),t7=t(31786);let t3=(0,l.Iz)(n=>(0,l.mg)((0,l.eU)(e=>{if(!n)return null;let t=e(t6.Mk[t7.P.MANAGED_STRING].local),a=e(t6.Mk[t7.P.MANAGED_STRING].subscribed);return t[n]??a[n]??null}),n=>n)),t8={type:tC.MANAGED_STRING,useSharedHooksContext(){let n=(0,g.d4)(n=>n.mirror.appModel.currentPage),e=(0,H.m0)();return(0,A.wA)((n,e,t)=>(0,r.kc)().cheddar&&(0,r.kc)().cheddar_annotations&&t?(n.get(e)?(0,f.qT)(n,e):[]).reduce((n,e)=>{let t=function n(e){return e.childrenNodes.flatMap(e=>{if(e.visible){if((0,t4.go)(e)){let n=function(n){let e=(0,t4.gk)(n);return e?{managedStringId:e.value.managedStringId}:null}(e);if(!n)return;return{annotationType:tC.MANAGED_STRING,nodeId:e.guid,uniqueId:`${e.guid}-${eJ.oW.toString(n.managedStringId)}`,meta:{...n}}}return n(e)}}).filter(C.Vq)}(e);return t.length>0?{...n,[e.guid]:t}:n},{}):{},n,e)},useRelevantTLFs:n=>Object.keys(n),useNewAnnotationsByTlf:(n,e)=>n.reduce((n,t)=>({...n,[t]:e[t]||[]}),{}),annotationWrapperClassName:"annotation--annotationWrapperManagedString--RTskR",AnnotationDisplayOverride({nodeInfo:n,isFadedOut:e}){let t=(0,D.uQ)()===n.nodeId,o=function(n){let e=(0,l.md)(t3(n));return e?.managedStringData.key}(n.meta.managedStringId);return o?(0,a.jsx)(t9,{isFadedOut:e,isSelected:t,nodeId:n.nodeId,stringKey:o}):null}};function t9({isFadedOut:n,isSelected:e,nodeId:t,stringKey:o}){let r=(0,g.wA)(),l=(0,m.hC)(),s=n=>{n&&(tT.wr(),(0,tZ.S)("annotations"),tT.Dh([n]),tT.tw()?.getCopy()!==i._gJ.STRING_MANAGEMENT&&(0,tT.ax)(i._gJ.STRING_MANAGEMENT))};return(0,a.jsxs)("div",{className:T()(et,el,{[eb]:e,[ed]:n}),children:[(0,a.jsx)(nc.E,{onClick:()=>s(t),className:T()(ew,"annotation--managedStringLabel--fWb5O"),children:o}),(0,a.jsx)(an,{"aria-label":(0,R.t)("inspect_panel.copy"),onClick:()=>{l("string_management.annotations.copy_key",{stringKey:o,nodeId:t}),navigator.clipboard.writeText(o).then(()=>{r(t2.F.enqueue({message:(0,R.t)("string_translation_management.copied_to_clipboard",{stringKey:o})}))})},htmlAttributes:{"data-tooltip-type":nT.Ib.TEXT,"data-tooltip":(0,R.t)("general.back")},children:(0,a.jsx)(t5.O,{})})]})}let an=(0,o.forwardRef)(({children:n,variant:e,...t},o)=>(0,a.jsx)(nc.E,{ref:o,...t,className:T()(ew,"annotation--iconButton--w7kfn","annotation--ghost--thK4p"),children:(0,a.jsx)("span",{"aria-hidden":!0,className:eh,children:n})}));an.displayName="IconButton";let ae=[t1,t8,tK],at=ae.reduce((n,e)=>("type"in e&&(n[e.type]=e),n),{}),aa=(0,V.jz)("15px"),ao=o.memo(function({lineWidth:n,lineHeight:e,lineAlignment:t,isLeftAligned:o,isMinimized:i}){let r="",l=Math.min(20,n),s=Math.min(20,e);return t===tk.ALIGNED?r=`M 0 ${e/2} h ${n}`:t===tk.ABOVE?r=o?`
        M 0 0
        h ${n-l}
        q ${l} 0 ${l} ${s}
        v ${e-s}
      `:`
        M ${n} 0
        h -${n-l}
        q -${l} 0 -${l} ${s}
        v ${e-s}`:t===tk.BELOW&&(r=o?`
        M 0 ${e}
        h ${n-l}
        q ${l} 0 ${l} -${s}
        v -${e-s}
      `:`
        M ${n} ${e}
        h -${n-l}
        q -${l} 0 -${l} -${s}
        v -${e-s}
      `),(0,a.jsx)("svg",{width:n+2*aa,height:e+2*aa,className:T()(eo,{"annotation--annotationLineLeftAligned--W-1DZ":o,"annotation--annotationLineBelowNode--JeafT":t===tk.BELOW}),children:(0,a.jsxs)("g",{transform:`translate(${aa}, ${aa})`,children:[i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("circle",{className:"annotation--annotationLineStartDot--x6RNc",cx:o?-6:n+6,cy:t===tk.ABOVE?0:e,r:4,strokeWidth:"4"}),(0,a.jsx)("circle",{className:"annotation--annotationLineStartInnerDot--aw58q",cx:o?-6:n+6,cy:t===tk.ABOVE?0:e,r:1,strokeWidth:"0"})]}),(0,a.jsx)("path",{d:r,strokeWidth:"var(--line-width-scale)",fill:"none",strokeDasharray:"calc(var(--line-width-scale) * 3) calc(var(--line-width-scale) * 2)"}),(0,a.jsx)("circle",{className:ei,cx:o?n:0,cy:t===tk.ABOVE?e:0,strokeWidth:"0"})]})})});function ai(n){return(0,a.jsx)(s.u,{label:"AnnotationWrapper",children:(0,a.jsx)(ar,{...n})})}function ar({nodeId:n,annotationId:e,setDimensions:t,isAnnotationFocused:s,annotationType:d,lineColor:u,children:g,offsetX:h,offsetY:f,lineWidth:x,lineHeight:v,lineAlignment:b,isLeftAligned:y,shouldMinimize:w,shouldDelayHover:_,shouldHide:N,isEditingAnnotation:I,isInCentralTLF:j,hoverEnabled:C=!0}){let k=(0,m.IL)(),E=(0,o.useRef)(null),[L,V]=(0,o.useState)(!1),M=(0,S.LZ)(),R=(0,c.dH)(),P=(0,D.Tv)(),O=P.includes(n),{data:W}=(0,tV.BK)(no),B=W?.annotationId===e,[F]=(0,tE.A)(L,60),H=O||B||(_?L&&(F||w):L),G=(0,l.md)(p.m),z=(0,A.wA)((n,e)=>{let t=n.get(e);return t?{annotationsLength:t.annotations.length,nodeType:t.type,absoluteBoundingBox:t.absoluteBoundingBox}:null},n);(0,tL.wY)(w?void 0:E,n=>{n&&t(e,n)});let{annotationsLength:U,nodeType:X}=z??{},K=R===i.NLJ.ANNOTATE&&!L&&P.length>0&&!O,$=w&&!I&&!s&&!L,q=(0,o.useCallback)(()=>{null===G&&C&&(tT.Uc(n),$&&!L&&k("hover_minimized_annotation",{nodeId:n,nodeType:X}),V(!0))},[G,C,n,$,L,k,X]),Q=(0,o.useCallback)(()=>{V(!1)},[]),Y=!N;d===tC.MANUAL&&(Y=I||Y&&(O||!!U));let J=(0,o.useMemo)(()=>{let n={transform:`translate(${h}px, calc(${f}px - 50%))`,zIndex:j&&!H?10:void 0};return(!O||I)&&u?{...n,"--annotation-line-color":u,"--annotation-dot-border-color":u}:n},[h,f,O,I,u,j,H]);return(0,a.jsx)("div",{className:T()("annotation--annotationWrapper--pKMw2",at[d]?.annotationWrapperClassName,{"annotation--wrapperMinimized--UOExu":$&&!L,[ea]:I,"annotation--annotationWrapperSelected--ffb0X":O,annotationWrapperForcedHover:H||s&&!I,"annotation--transitionScaling--eD821":L!==F&&!s&&!I,"annotation--shouldHideEmptyAnnotations--WXr4h":(0,r.kc)().dt_component_annotations,hoverEnabled:C}),style:J,"data-testid":"annotationWrapper",children:Y&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ao,{lineWidth:x,lineHeight:v,lineAlignment:b,isLeftAligned:y,isMinimized:$}),(0,a.jsxs)("div",{ref:E,onMouseOut:Q,onMouseOver:q,className:T()({"annotation--annotationLeftAligned--FHQRp":y,"annotation--annotationRightAligned--VrH8e":!y}),"data-testid":`annotation-${e}`,children:[(0,a.jsx)("div",{className:T()("annotation--annotationHoverTarget--4y3Xc",{"annotation--annotationHoverTargetLeftAligned--G1twU":y})}),M&&(!$||L)&&g(K)]})]})})}var al=t(954184);let as=(0,nL.Fu)("has_opened_annotation_visibility_learn_more_link");function ad({nodeId:n,annotationId:e,viewportInfo:t,setDimensions:r,annotationIndex:s,offsetX:d,offsetY:c,lineWidth:u,lineHeight:g,lineAlignment:v,isLeftAligned:y}){let _=function(){let n=(0,m.IL)(),{Sprig:e}=(0,nS.A)(),t=!!(0,b.hA)(),a=(0,H.m0)(),i=(0,H.Em)(),r=(0,K.XR)();return o.useCallback((o,l,s,d)=>{h.l7.user(s?"edit-annotation":"create-annotation",()=>{s?o.updateAnnotation(d,l):o.addAnnotation(l);let c=(0,f.kh)((0,x.getActiveTSSceneGraph)(),o.guid),u=l.categoryId?r.find(n=>n.id===l.categoryId):null,p={nodeType:o.type,nodeId:o.guid,tlfId:c?.guid??o.guid,hasText:!!l.label,numProperties:l.properties.length,isDevModeFocusView:t,isDevMode:a,isDesignMode:i,category:u?(0,K.uA)(u):void 0,annotationId:d};s?n("edit_annotation",p):(n("create_annotation",p),e("track","create_annotation",{isDevMode:a,isDevModeFocusView:t,isDesignMode:i})),w.Y5.triggerAction("commit")})},[e,n,t,a,i,r])}(),N=I(),S=(0,l.Xr)(p.m),j=(0,A.wA)((n,e)=>n.get(e)?.annotations,n),C=(0,K.XR)({initializeIfNull:!0}),k=j?.[s],[E,L]=o.useState(k?.label??""),[T,V]=o.useState(k?.properties??[]),[M,R]=o.useState(()=>k?C.find(n=>n.id===k.categoryId)?.id??null:null),P=(0,o.useMemo)(()=>{if(!M)return;let n=C.find(n=>n.id===M);return n&&(0,K.FQ)(n)},[M,C]);(0,o.useEffect)(()=>{M&&R(C.find(n=>n.id===M)?.id??null)},[C,M]);let D=o.useCallback(()=>{let t=!!k&&(""!==k.label||k.properties.length>0||null!==M),a=0===("lexical"===(0,nv.j_)(E)?(0,nv.El)(E):(0,nm.At)(E)).length;if(a&&0===T.length&&null===M)k&&N(n,s);else{let o=(0,x.getActiveTSSceneGraph)().get(n);o&&(_(o,{label:a?"":E,properties:T,categoryId:M},t,s),i.Ez5?.editorState().focusedAnnotationId.set(e))}S(null)},[k,E,T,S,N,n,s,_,M,e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ag,{viewportInfo:t,onPointerDown:D}),(0,a.jsx)(ai,{annotationId:e,annotationType:tC.MANUAL,isAnnotationFocused:!0,isEditingAnnotation:!0,isLeftAligned:y,lineAlignment:v,lineColor:P,lineHeight:g,lineWidth:u,nodeId:n,offsetX:d,offsetY:c,setDimensions:r,shouldDelayHover:!1,shouldHide:!1,shouldMinimize:!1,children:()=>(0,a.jsx)(ac,{nodeId:n,saveAnnotation:D,inputText:E,setInputText:L,inputProperties:T,setInputProperties:V,categoryId:M,setInputCategoryId:R,annotationIndex:s})},e)]})}function ac({nodeId:n,saveAnnotation:e,inputText:t,setInputText:r,inputProperties:s,setInputProperties:d,categoryId:c,setInputCategoryId:u,annotationIndex:p}){let h=(0,g.wA)(),{Sprig:v}=(0,nS.A)(),y=(0,m.IL)(),w=(0,H.Em)(),_=!!(0,b.hA)(),N=(0,H.m0)(),{getTriggerProps:S,manager:j}=nr.b(),{Dropdown:C,isDropdownShown:k,dropdownTargetRef:E,toggleDropdown:L}=(0,nM.B)("annotation-property-selector-dropdown"),V=I(),M=o.useRef(null),P=o.useId(),D=(0,K.XR)(),O=(0,A.Fk)((n,e)=>n.get(e)?.type||null,n),W=(0,A.wA)((n,e,t)=>{let a={},o=n.get(e);if(o)for(let n of t)(0,tj.J)(o,n.type,!0)&&(a[n.type]=!0);return a},n,au),{availableProperties:F,selectedProperties:G}=o.useMemo(()=>{let n=[],e=[];for(let t of au)s.some(n=>n.type===t.type)?e.push(t):W[t.type]&&n.push(t);return{availableProperties:n,selectedProperties:e}},[s,W]),z=(0,A.wA)((n,e,t)=>{let a=n.get(e);return t.map(e=>e.config.extractNodeFields(a,n))},n,F);o.useEffect(()=>{y("show_annotation_dialog",{nodeId:n,nodeType:O})},[y,O,n]);let U=o.useCallback(()=>{M.current?.focus()},[]),X=o.useCallback(n=>{d([...s,{type:n}])},[d,s]);function $(n){d(s.filter(e=>e.type!==n)),U()}let q=(0,o.useCallback)(e=>{let a=(0,x.getActiveTSSceneGraph)().get(n),o=c?D.find(n=>n.id===c):null,r=o?(0,K.uA)(o):null,l=e?D.find(n=>n.id===e):null,d=l?(0,K.uA)(l):null;if(a){let n=(0,f.kh)((0,x.getActiveTSSceneGraph)(),a.guid);y("select_annotation_category",{nodeId:a.guid,nodeType:a.type,tlfId:n?.guid??a.guid,hasText:!!t,numProperties:s.length,isDevModeFocusView:_,isDevMode:N,isDesignMode:w,newCategoryLabel:d,oldCategoryLabel:r,isPreset:l?l.preset!==i.Bll.NONE:null,annotationId:p}),v("track","select_annotation_category",{isDevMode:N,isDevModeFocusView:_,isDesignMode:w})}u(e)},[u,y,n,t,s,_,N,w,D,c,v,p]),[Y,ne]=o.useState(!1),nt=(0,nx.v_)("createAnnotation","keydown",(0,o.useCallback)(n=>{if(!j.isOpen&&!k){if("Escape"===n.key)e();else if("ArrowDown"===n.key){let e=n.ctrlKey||n.metaKey,t=n.shiftKey;e&&!t&&(ne(!0),L())}}},[j.isOpen,k,e,L]));o.useEffect(()=>(document.addEventListener("keydown",nt),()=>{document.removeEventListener("keydown",nt)}),[nt]);let na=nI.qP("annotationLabelInput","submit",r),no=nI.v_("annotationLabelInput","keydown",n=>{n?.stopPropagation(),e()}),ni=(0,o.useCallback)(({html:n})=>{na(n)},[na]),nf=(0,o.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),!j.isOpen){let e=(0,x.getActiveTSSceneGraph)().get(n);if(e){let n=(0,f.kh)((0,x.getActiveTSSceneGraph)(),e.guid);y("click_annotation_category_picker",{nodeId:e.guid,nodeType:e.type,tlfId:n?.guid??e.guid,hasText:!!t,numProperties:s.length,isDevModeFocusView:_,annotationId:p}),v("track","click_annotation_category_picker",{isDevMode:N,isDevModeFocusView:_,isDesignMode:w})}}j.setOpen(!0)},[j,t,s,_,N,w,n,y,p,v]),nm=(0,o.useMemo)(()=>D.map(n=>({id:n.id,label:(0,K.uA)(n),color:(0,K.FQ)(n)}))??[],[D]),ny=(0,o.useMemo)(()=>D.find(n=>n.id===c),[D,c]),nw=o.useRef(null),n_=nw.current&&nw.current.scrollHeight>nw.current.clientHeight,nA={"--annotation-category-color":ny?(0,K.FQ)(ny)??"var(--color-bg)":"var(--color-bg)"},nC=(0,o.useCallback)(()=>{y("click_edit_annotation_categories",{nodeId:n,nodeType:O,isDevModeFocusView:_}),h(nk.to({type:n5,data:{recordingKey:"annotationCategoriesEditWindow"}})),j.setOpen(!1)},[h,y,n,O,_,j]),nL=(0,J.q5)(),nR=(0,o.useCallback)(()=>{if(null===nL)return;let e=(0,Z.jN)({file:nL,nodeId:n,isDevHandoff:N});h(Q.S({fileKey:nL.key,url:e,source:nn.d.ANNOTATION_CONTEXT_MENU,visualBellMessageOverride:(0,R.t)("dev_handoff.annotations.copied_link_to_clipboard")}))},[h,nL,n,N]),nP=(0,o.useMemo)(()=>[...0===F.length?[{name:"no-properties",displayText:(0,R.t)("dev_handoff.annotations.all_properties_added"),displayTextClassName:ey,disabled:!0}]:[],...F.reduce((e,t,o,i)=>(e.push({name:`property-${o}`,displayText:t.config.label(),icon:(0,a.jsx)(t.config.Icon,{nodeId:n}),className:"annotation--propertyMenuOption--9-5ow",sideText:(0,a.jsx)(t.config.PreviewValue,{nodeFields:z[o]}),rightJustifySideText:!0,callback:()=>X(t.type),recordingKey:`createAnnotationOptionButton-${t.type}`}),o<i.length-1&&t.config.category!==i[o+1]?.config.category&&e.push({separator:!0,displayText:""}),e),[])],[F,z,n,X]),nD=(0,o.useCallback)(()=>{e()},[e]),{manager:nO,getTriggerProps:nW}=nl.b({offset:{mainAxis:4}}),nB=(0,l.md)(as),[nF,nH]=(0,o.useState)(!1),nG=w&&!nF;(0,o.useEffect)(()=>{"loaded"===nB.status&&nH(void 0!==nB.data)},[nB]);let nz=(0,o.useCallback)(()=>{h(nE.b({has_opened_annotation_visibility_learn_more_link:!0}))},[h]),nU=(0,a.jsxs)(nr.bL,{manager:nO,children:[(0,a.jsx)(ns.d,{"aria-label":(0,R.t)("dev_handoff.annotations.more_actions"),recordingKey:"createAnnotationMoreActions",htmlAttributes:{"data-tooltip":(0,R.t)("dev_handoff.annotations.more_actions"),"data-tooltip-type":nT.Ib.TEXT},...nW({}),children:(0,a.jsx)(ng.J,{})}),(0,a.jsxs)(nr.mc,{children:[(0,a.jsxs)(nr.YJ,{children:[(0,a.jsx)(nr.q7,{onClick:nR,children:(0,R.t)("dev_handoff.annotations.copy_link")}),(0,a.jsx)(nr.q7,{onClick:()=>{V(n,p)},children:(0,R.t)("dev_handoff.annotations.delete")})]}),nG&&(0,a.jsxs)("div",{className:"annotation--visibilityDisclaimer--oQFzZ text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",children:[(0,a.jsx)("p",{children:(0,R.t)("dev_handoff.annotations.visibility_disclaimer")}),(0,a.jsx)(nd.N,{href:"https://help.figma.com/hc/articles/20774752502935-Add-measurements-and-annotate-designs-in-Dev-Mode",newTab:!0,onClick:nz,children:(0,R.t)("dev_handoff.annotations.visibility_learn_more")})]})]})]});return(0,a.jsx)(nV.vL,{name:"create-annotation",focusOnMount:!0,handleKeyDown:n=>{let{event:t}=n;"Escape"===t.key&&(n.accept(),e())},children:(0,a.jsxs)("div",{ref:E,"data-testid":"annotationDialog",children:[(0,a.jsxs)("div",{className:T()("annotation--createAnnotation--tWKSM annotation--_annotationBase--MPByC",ny?er:void 0,B.Qx,B.Uu),style:nA,children:[(0,a.jsxs)("div",{className:"annotation--createAnnotationHeader--thXfu",children:[(0,a.jsx)("div",{className:"annotation--headerRowLeft--iIqjN",children:(0,a.jsxs)(nr.bL,{manager:j,children:[(0,a.jsxs)(nc.E,{className:T()("annotation--categorySelectorButton--q2A6p",{[ec]:ny&&(0,K.cD)(ny),[er]:!!ny}),"data-tooltip-type":nT.Ib.TEXT,"data-tooltip":(0,R.t)("dev_handoff.annotations.category_selector_tooltip"),"aria-label":(0,R.t)("dev_handoff.annotations.category_selector_tooltip"),recordingKey:"createAnnotationCategorySelectorButton",...S({onClick:nf,role:"combobox"}),children:[(0,a.jsx)("span",{className:"annotation--categorySelectorButtonLabel--xGX7w annotation--_ellipsis--8F1VE",children:ny?(0,K.uA)(ny):(0,R.t)("dev_handoff.annotations.no_category_option_label")}),(0,a.jsx)(nj.B,{className:"annotation--caret--noLOu",svg:nQ.A})]}),(0,a.jsxs)(nr.mc,{"data-testid":"createAnnotationCategorySelector",children:[(0,a.jsx)(nr.YJ,{children:(0,a.jsx)(nu.H_,{checked:null===c,onChange:()=>q(null),recordingKey:nI.Pt("createAnnotationCategorySelector","category-option","no-category"),children:(0,a.jsx)("span",{className:ey,children:(0,R.tx)("dev_handoff.annotations.no_category_option_label")})})}),nm.length>0&&(0,a.jsx)(nr.YJ,{children:nm.map(n=>(0,a.jsxs)(nu.H_,{checked:c===n.id,onChange:()=>q(n.id),recordingKey:nI.Pt("createAnnotationCategorySelector","category-option",n.label),children:[(0,a.jsx)(nr.Q$,{children:(0,a.jsx)("div",{className:"annotation--categoryOptionIcon--jg6bS",children:(0,a.jsx)("div",{className:"annotation--colorCircle--i6hsL",style:{backgroundColor:n.color??void 0}})})}),n.label]},n.id))}),(0,a.jsx)(nr.YJ,{children:(0,a.jsx)(nr.q7,{onClick:nC,recordingKey:nI.Pt("createAnnotationCategorySelector","category-option","edit-categories"),children:(0,R.t)("dev_handoff.annotations.edit_categories_option_label")})})]})]})}),(0,a.jsxs)("div",{className:"annotation--headerRowRight--5h3Tr",children:[nU,(0,a.jsx)(np.K,{"aria-label":(0,R.t)("general.close"),recordingKey:"closeAnnotationDialog",onClick:nD,children:(0,a.jsx)(nh.X,{})})]})]}),(0,a.jsxs)("div",{className:es,children:[(0,a.jsxs)("div",{className:T()(el,{"annotation--contentContainerNoProperties--pc2WE":0===G.length}),children:[(0,a.jsxs)("div",{ref:nw,className:T()("annotation--labelEditor--xNx12",{[B.ZR]:n_}),dir:"auto",children:[(0,a.jsx)("label",{id:P,style:{display:"none"},children:(0,R.t)("dev_handoff.annotations.add_annotation")}),(0,a.jsx)(nb.A,{anchorElemOverride:nw.current,ariaLabelledBy:P,innerRef:M,lexicalContentClassName:"annotation_lexical_editor--contentEditable--EVm11",namespace:"annotation-dialog-lexical-editor",onSave:ni,placeholder:(0,a.jsx)("div",{className:T()("annotation_lexical_editor--placeholder--pPwLm",{"annotation_lexical_editor--withCategory--bUCqy":!!ny}),children:(0,R.t)("dev_handoff.annotations.add_annotation")}),plugins:[(0,a.jsx)(nN,{onEnterPressed:no},0)],value:t,valueFormat:(0,nv.j_)(t)})]}),G.length>0&&(0,a.jsx)("div",{className:eu,children:G.map(e=>(0,a.jsx)(ap,{onRemoveProp:$,nodeId:n,property:e},`selected-${e.type}`))})]}),(0,a.jsx)("div",{className:"annotation--createAnnotationFooter--wx9JM",children:(0,a.jsxs)(nc.E,{className:T()("annotation--pinPropertyButton--OTLW3",{"annotation--pinPropertyButtonActive---nkvq":k}),actionOnPointerDown:!0,onClick:()=>{ne(!1),L()},"aria-label":(0,R.t)("dev_handoff.annotations.pin_properties_tooltip"),"data-tooltip-type":nT.Ib.TEXT,"data-tooltip":(0,R.t)("dev_handoff.annotations.pin_properties_tooltip"),recordingKey:"createAnnotationPinPropertyButton",children:[(0,a.jsx)(nj.B,{className:"annotation--pinPropertyButtonIcon--dgnI0",svg:al.A}),(0,R.tx)("dev_handoff.annotations.pin_properties_label")]})})]})]}),(0,a.jsx)(C,{activatePathOnMount:[Y&&nP.length>0?nP[0].displayText??"":""],autofocusPrevOnDismount:!0,dataTestId:"createAnnotationPropertySelector",focusOnMount:Y,items:nP,minWidth:220,onDismissMenu:U,onDropdownHidden:U,preventEventCapture:!0,recordingKey:"createAnnotationPropertySelector",rootAndSubmenuMaxWidth:220,shouldUsePortal:!0,showPoint:!1})]})})}let au=Array.from(tx.entries()).map(([n,e])=>({type:n,config:e}));function ap({nodeId:n,onRemoveProp:e,property:t}){let o=t.config.DisplayValue,{canHaveValue:i,nodeFields:r}=(0,A.wA)((n,e)=>{let a=n.get(e);if(!a)return{canHaveValue:!1,nodeFields:null};let o=(0,tj.J)(a,t.type,!1);return o?{canHaveValue:o,nodeFields:t.config.extractNodeFields(a,n)}:{canHaveValue:o,nodeFields:null}},n);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"annotation--selectedPropertyDisplayLabel--AtFEJ",children:t.config.label()}),(0,a.jsxs)("div",{className:"annotation--selectedPropertyValueWrapper--OyM0X",children:[(0,a.jsx)("span",{className:T()("annotation--selectedPropertyValue--wwu2U",{[ep]:!i}),children:i?(0,a.jsx)(o,{nodeFields:r}):(0,R.tx)("dev_handoff.annotations.no_value")}),(0,a.jsx)("span",{className:"annotation--selectedPropertyDelete--DMdrA",children:(0,a.jsx)(np.K,{recordingKey:`removeAnnotation${t.type}`,htmlAttributes:{"data-tooltip-type":nT.Ib.TEXT,"data-tooltip":(0,R.t)("dev_handoff.annotations.remove_property")},"aria-label":(0,R.t)("dev_handoff.annotations.remove_property"),onClick:h.nc.user("remove-annotation",()=>{e(t.type)}),children:(0,a.jsx)(nf.w,{})})})]})]})}function ag({viewportInfo:n,onPointerDown:e}){return(0,a.jsx)(nC.n.recordableDiv,{className:`${ea} ${B.Dm} ${B.Uu}`,recordingKey:"annotationDialogBackground",style:{position:"absolute",left:n.x,top:n.y,width:n.width,height:n.height},onPointerDown:e})}var ah=t(264993),af=t(827259),ax=t(147046),am=t(469191),av=t(893178);let ab=o.memo(function({nodeId:n,annotationId:e,annotationType:t,annotationMeta:r,setDimensions:l,shouldHide:s,isEditingAnnotation:d,offsetX:c,offsetY:u,lineWidth:p,lineHeight:h,lineAlignment:f,lineColor:x,isLeftAligned:m,shouldMinimize:v,shouldDelayHover:b,isInCentralTLF:y}){let w=(0,E.k9)(()=>({nodeId:n,annotationType:t,meta:r,uniqueId:e}),[n,t,r,e]),_=(0,G.NW)(),A=_===e,N=function(n,e){let t=n.nodeId,a=(0,g.d4)(U.Sh),o=(0,g.d4)(n=>n.mirror.appModel.hoveredNode),i=a.includes(t),r=o===t,l=n.annotationType===tC.CMS_BINDING?n.meta.collectionId:void 0,s=n.annotationType===tC.CMS_BINDING?n.meta.fieldSchemaId:"",d=(0,tz.OC)(l,s);return n.annotationType!==tC.CMS_BINDING?e:i||r?d?"var(--color-border-warning-strong)":tF.Tj.bgBrand:e}(w,x),I=o.useCallback(n=>{n?i.Ez5.editorState().focusedAnnotationId.set(e):n||_!==e||i.Ez5.editorState().focusedAnnotationId.set(null)},[e,_]),S=o.useCallback(n=>{let t=at[w.annotationType];if(t&&"AnnotationDisplayOverride"in t){let e=t.AnnotationDisplayOverride;if(e)return(0,a.jsx)(e,{nodeInfo:w,isFadedOut:n,isFocused:A,onFocusChange:I})}return w.annotationType===tC.MANUAL?(0,a.jsx)(ay,{annotationId:e,nodeInfo:w,isFadedOut:n,isFocused:A,onFocusChange:I}):null},[w,A,I,e]),j=!at[t]?.useShouldDisableHover?.(n);return(0,a.jsx)(ai,{annotationId:e,annotationType:t,hoverEnabled:j,isAnnotationFocused:A,isEditingAnnotation:d,isInCentralTLF:y,isLeftAligned:m,lineAlignment:f,lineColor:N,lineHeight:h,lineWidth:p,nodeId:n,offsetX:c,offsetY:u,setDimensions:l,shouldDelayHover:b,shouldHide:s,shouldMinimize:v,children:S},e)}),ay=o.memo(function({annotationId:n,nodeInfo:e,isFadedOut:t,isFocused:r,onFocusChange:s}){let{nodeId:d,meta:{annotationIndex:u}}=e,h=(0,m.IL)(),f=(0,D.uQ)(),x=(0,c.dH)(),v=f===d,[y,w]=(0,l.fp)(p.m),_=(0,o.useRef)(null),N=(0,G.NW)(),j=I(),C=(0,o.useMemo)(()=>i.w3z.isReadOnly(i.SES.ANNOTATIONS),[]),k=(0,O.Kv)(),E=(0,S.s9)(),L=(0,G.E_)(),V=!!(0,b.hA)(),M=(0,g.wA)(),R=(n,e)=>{n&&(tT.wr(),(0,tZ.S)("annotations"),e?(i.w3z.setEnableZoomToSelection(!1),tT.Dh([n]),i.w3z.setEnableZoomToSelection(!0)):tT.Dh([n]))},P=(0,o.useRef)(r);P.current=r,(0,o.useEffect)(()=>()=>{P.current&&i.Ez5?.editorState().focusedAnnotationId.set(null)},[]),(0,o.useEffect)(()=>{k&&(i.Ez5?.editorState().focusedAnnotationId.set(null),w(null))},[k,w]);let W=nI.v_(`annotationDisplay-${n}`,"keydown",o.useCallback(n=>{!C&&r&&null===y&&L===ah.AD&&("Backspace"===n.key||"Delete"===n.key?E&&(j(d,u),_.current?.blur()):"Enter"===n.key?E&&(n.preventDefault(),w(u)):"Escape"===n.key?_.current?.blur():"Tab"!==n.key&&(0,av.f7)(n))},[u,j,y,r,C,d,L,w,E]));o.useEffect(()=>(document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)),[W]);let B=o.useCallback(()=>{let n=window.getSelection()?.toString()||"";n&&(0,af.Dk)(n,{withLineBreaks:!0})},[]);(0,o.useEffect)(()=>{let n=_.current?.getRootNode()?.activeElement??null;r&&n!==_.current&&_.current?.focus(),r||n!==_.current||_.current?.blur()},[r]);let F=o.useCallback(e=>{e.preventDefault(),e.stopPropagation(),M(ax.j7({type:no,data:{position:{left:e.clientX,bottom:e.clientY},nodeId:d,annotationIndex:u,annotationId:n}}))},[M,d,u,n]),H=(0,K.XR)(),z=(0,A.wA)((n,e)=>{let t=n.get(e);return t?{annotations:t.annotations,nodeType:t.type,nodeName:t.name}:null},d);if(!z||0===z.annotations.length)return null;let{annotations:U,nodeType:X,nodeName:$}=z,q=U[u];if(!q)return null;let{label:Q,properties:Y}=q,J=H.find(n=>n.id===q.categoryId),Z={"--annotation-category-color":J?(0,K.FQ)(J)??"var(--color-bg)":"var(--color-bg)"},nn=(0,nv.j_)(q.label);return(0,a.jsxs)(tJ.D8,{className:T()(et,{[er]:!!J,"annotation--viewAnnotationNodeSelected--DfJ3t":v&&null===N&&null===y,[ed]:t,"annotation--onlyCategory--X9mU1":!Q&&0===Y.length&&!!J}),"data-testid":"annotationDisplay",forwardedRef:_,onBlur:()=>s(!1),onContextMenu:F,onCopy:B,onDoubleClick:()=>{E&&(v||R(d,!1),w(u))},onFocus:()=>s(!0),onMouseDown:n=>{r&&v||(R(d,(0,am.i)(n)),w(null),h("click_annotation_content",{nodeId:d,nodeType:X,hasText:!!q.label,numProperties:q.properties.length,currentTool:x,isDevModeFocusView:V}),_.current?.focus())},recordingKey:`viewAnnotationContainer-${$}-${u}`,role:"button",style:Z,tabIndex:0,children:[J&&(0,a.jsx)("div",{className:"annotation--annotationHeader--GXEj5",children:(0,a.jsx)("div",{className:T()("annotation--categoryLabel--7VWuC",{[ec]:(0,K.cD)(J)}),dir:"auto",children:(0,K.uA)(J)})}),(0,a.jsxs)("div",{className:T()(es,el),children:[Q&&(0,a.jsx)(nb.C,{value:Q,valueFormat:nn,lexicalContentClassName:"annotation_lexical_editor--contentEditableReadOnly--G8hdw",themeOverride:{link:"annotation_lexical_editor--linkReadOnly--HnBAD"},namespace:"annotation-display-lexical-editor",renderHtmlOnly:!0}),(0,a.jsx)(aw,{nodeId:d,properties:Y})]})]})});function aw({nodeId:n,properties:e}){let t=(0,E.k9)(()=>[...e].sort((n,e)=>tx.get(n.type).index-tx.get(e.type).index),[e]),o=(0,A.wA)((n,e,t)=>{let a=n.get(e);return t.map(e=>{if(!a)return{nodeFields:null,canHaveValue:!1};let t=(0,tj.J)(a,e.type,!1);return t?{nodeFields:tx.get(e.type).extractNodeFields(a,n),canHaveValue:t}:{nodeFields:null,canHaveValue:t}})},n,t);return 0===e.length?null:(0,a.jsx)("div",{className:T()(eu,"annotation--propertiesDisplay--wFXaY"),children:t.map((n,e)=>(0,a.jsx)(a_,{property:n,canHaveValue:o[e].canHaveValue,nodeFields:o[e].nodeFields},e))})}let a_=o.memo(function({property:n,canHaveValue:e,nodeFields:t}){let o=tx.get(n.type),i=o.DisplayValue;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"annotation--propertyDisplayLabel--PQ2vF",children:o.label()}),(0,a.jsx)("span",{className:T()("annotation--propertyDisplayValue--bxdp7",{[ep]:!e}),"data-testid":`annotationPropertyValue-${n.type.toString()}`,children:e?(0,a.jsx)(i,{nodeFields:t}):(0,R.tx)("dev_handoff.annotations.no_value")})]})});var aA=t(404343);let aN=(0,V.jz)("220px"),aI=(0,V.jz)(aA.RHC);function aS(n,e,t,a,o,r,l,s,d){let c=i.Ez5.isFullscreenYScrollbarNeeded();return o?Math.min(s?l+t*e-8:l-8,Math.max(0,-n/2-r+a+d.left+4)):Math.max(s?-l-t*e+8:-l+8,Math.min(0,n/2-r-a-d.right-(c?aI:4)))}function aj(n,e,t=!0){let{x:a,y:o,width:r,height:l}=n,{offsetX:s,offsetY:d,zoomScale:c,width:u}=e,p=i.Ez5.isFullscreenYScrollbarNeeded(),g=Math.min(20*c,20),h=a+r,f=(a-s)*c+u/2>aN+g+8,x=(s-h)*c+u/2>aN+g+(p?16:4),m=f&&!x;return(t||(m=f||!x),m)?{lineWidth:g,offsetX:(a-s)*c-g,offsetY:(o+l/2-d)*c,isLeftAligned:m}:{lineWidth:g,offsetX:(h-s)*c+g,offsetY:(o+l/2-d)*c,isLeftAligned:m}}function aC(n,e,t){let a=[],o=8*Math.min(1,t);for(let e of n){let n=e.height+o;for(a.push({basis:e.offsetY-n/2,length:1,height:n});a.length>1&&function(n,e){let t=n.basis+n.height-e.basis;return!(t<=0)&&(n.height+=e.height,n.length+=e.length,n.basis-=t*e.height/n.height,!0)}(a[a.length-2],a[a.length-1]);)a.pop()}let i=0;for(let t of a){let{basis:a}=t;for(let r=0;r<t.length;r++){let t=n[i];if(t){let n=t.height+o;e[t.uniqueId]=a+n/2,a+=n,i++}}}}function ak(n,e,t,a,o){return a+(Math.min(Math.max(n,e),t)-e)/(t-e)*(o-a)}var aE=t(311486),aL=t(386358),aT=t(841776),aV=t(664057),aM=t(347497),aR=t(520164);let aP=(0,V.jz)("4px")/2;function aD(n){let{children:e}=n,t=(0,o.useRef)(null),[i,r]=(0,o.useState)(null),l=(0,o.useRef)(null),s=function(){let n=(0,g.d4)(n=>n.selectedView),e=g.d4(n=>n.versionHistory)?.isLoadingPage,t=(0,y.DP)(),{isLoading:a}=(0,_.v9)({selectedView:n,isLoadingVersionHistory:e,theme:t});return a}();return(0,o.useEffect)(()=>{if(t.current){let n=t.current.attachShadow({mode:"open"}),e=document.createElement("style");e.nonce=(0,M.Ay)().csp_nonce,e.textContent=[aE.Nz,aT.Nz,aL.Nz,aR.Nz,"/** @postcss-export-raw */\n\n/**\n * ellipsis.css\n *\n * Add an ellipsis if text is too long.\n *\n * The element that composes this mixin MUST have a defined width or max-width in pixels.\n * - Only works on a single line of text. See below for multi-line ellipses\n */\n\n.ellipsis--ellipsis--Tjyfa {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/**\n * Add an ellipsis after n lines of text.\n * https://developer.mozilla.org/en-US/docs/Web/CSS/-webkit-line-clamp\n *\n * The element that composes this mixin MUST:\n * - Have a defined width or max-width in pixels.\n * - Have a defined fallback height or max-height set to `line-height * n`,\n *     in case browsers do not support -webkit-line-clamp or box-orient\n *     at least the container size will be correct (with no ellipses)\n *\n * TODO(golf): start using `line-clamp` instead of -webkit-line-clamp once browsers start supporting it\n */\n\n.ellipsis--_ellipsisAfterNLines--LzI7k {\n  display: -webkit-inline-box;\n  overflow: hidden;\n\n  /* https://github.com/postcss/autoprefixer/issues/776#issuecomment-297734206 */\n  /* autoprefixer: off */\n  -webkit-box-orient: vertical;\n  /* autoprefixer: on */\n}\n\n.ellipsis--ellipsisAfter2Lines--Qo-Xh {\n  -webkit-line-clamp: 2;\n}\n\n.ellipsis--ellipsisAfter3Lines--h405C {\n  -webkit-line-clamp: 3;\n}\n\n.ellipsis--ellipsisAfter6Lines--2UA7M {\n  -webkit-line-clamp: 6;\n}\n\n.ellipsis--ellipsisAfter8Lines--WZFi8 {\n  -webkit-line-clamp: 8;\n}\n","/** @postcss-export-raw */\n/* Keep in line with FGDevHandoffHelpers.h */\n.annotation--annotationContainer--k4xiM {\n  position: relative;\n  /* Make all z indexes in this file relative to the parent.\n     We want all annotations to render underneath comments */\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.annotation--annotationContainer--k4xiM.annotation--isPageLoading--JGk-P {\n    filter: blur(3px);\n  }\n.annotation--_ellipsis--8F1VE {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.annotation--annotationWrapper--pKMw2 {\n  /* TODO: these should be semantic tokens */\n  /* stylelint-disable-next-line @figma/color-no-raw */\n  --annotation-line-color: rgba(131, 131, 131, 0.75);\n  --annotation-dot-border-color: #838383; /* stylelint-disable-line @figma/color-no-raw */\n  --annotation-border-color: var(--color-border-selected);\n  --annotation-border-selected-color: var(--color-border-brand);\n\n  --annotation-scale: 1;\n\n  position: absolute;\n  pointer-events: none;\n  width: max-content;\n}\n/* If no annotation was rendered, then the wrapper shouldn't show either */\n.annotation--shouldHideEmptyAnnotations--WXr4h:not(.annotation--wrapperMinimized--UOExu):not(:has(.annotation--viewAnnotation--cA-c1)):not(:has(.annotation--createAnnotation--tWKSM)) {\n    display: none;\n  }\n.annotation--annotationWrapperSelected--ffb0X {\n  --annotation-line-color: var(--color-border-selected);\n  --annotation-dot-border-color: var(--color-border-selected);\n}\n.annotation--annotationWrapper--pKMw2,\n.annotation--wrapperMinimized--UOExu:hover {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 1;\n}\n/* Handle scaling transition on mouse out */\n.annotation--transitionScaling--eD821 .annotation--annotationLeftAligned--FHQRp,\n  .annotation--transitionScaling--eD821 .annotation--annotationRightAligned--VrH8e {\n    transition: transform 0.05s ease-in-out;\n  }\n/* Handle transition scaling on mouse enter */\n.annotation--transitionScaling--eD821:hover .annotation--annotationLeftAligned--FHQRp,\n  .annotation--transitionScaling--eD821:hover .annotation--annotationRightAligned--VrH8e {\n    transition: transform 0.025s ease-out;\n  }\n.annotation--wrapperEditing--C2Zlx {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 2;\n}\n.annotation--wrapperMinimized--UOExu {\n  /* stylelint-disable-next-line @fpl/no-manual-z-index */\n  z-index: 0;\n}\n.annotation--annotationLine--jr4Mc {\n  --line-width-scale: 1;\n  --y-offset-direction: -1;\n\n  position: absolute;\n  top: 50%;\n  /* Push to left of annotation box */\n  transform: translate(\n    calc(-100% + 15px),\n    calc(var(--y-offset-direction) * 15px)\n  );\n\n  stroke: var(--annotation-line-color);\n  fill: var(--annotation-line-color);\n}\n.annotation--annotationLineLeftAligned--W-1DZ {\n  transform: translate(-15px, calc(var(--y-offset-direction) * 15px));\n}\n.annotation--annotationLineBelowNode--JeafT {\n  --y-offset-direction: 1;\n\n  top: auto;\n  bottom: 50%;\n}\n.annotation--annotationLineStartDot--x6RNc {\n  fill: color-mix(in srgb, var(--annotation-dot-border-color) 45%, transparent);\n  stroke: var(--annotation-dot-border-color);\n}\n.annotation--annotationLineStartInnerDot--aw58q {\n  fill: var(--color-text-onbrand);\n}\n.annotation--annotationLineEndDot--Lsq0a {\n  --dot-radius: 2px;\n  r: var(--dot-radius);\n}\n.annotation--_annotationBase--MPByC {\n  color: var(--color-text);\n\n  pointer-events: auto;\n\n  border-radius: var(--radius-large);\n  box-shadow: var(--elevation-200-canvas);\n  position: relative;\n  display: inline-block;\n  box-sizing: border-box;\n\n  max-width: 220px;\n\n  font-family: Inter;\n  font-size: 11px;\n  font-weight: 400;\n\n  /* This avoids a size shift when adding a border (category & selection). */\n  border: 1px solid transparent;\n}\n.annotation--viewAnnotation--cA-c1 {\n\n  background: var(--color-bg);\n  outline: none;\n\n  -webkit-user-select: text;\n\n          user-select: text;\n\n  /* This is to make sure the annotation proportions look better when there's a category */\n}\n.annotation--viewAnnotation--cA-c1.annotation--withCategory--lj1wU {\n    min-width: 80px;\n  }\n.annotation--viewAnnotation--cA-c1.annotation--onlyCategory--X9mU1 {\n    min-width: auto;\n\n    border-radius: var(--radius-medium);\n    background: var(--annotation-category-color);\n  }\n.annotation--viewAnnotation--cA-c1.annotation--onlyCategory--X9mU1 .annotation--categoryLabel--7VWuC {\n      margin: 0;\n    }\n.annotation--viewAnnotation--cA-c1.annotation--onlyCategory--X9mU1 .annotation--contentContainer--vSuqs.annotation--innerWrapper--T0cql {\n      padding: 0;\n    }\n.annotation--viewAnnotationNodeSelected--DfJ3t {\n  border: 1px solid var(--annotation-border-selected-color);\n}\n.annotation--viewAnnotation--cA-c1:focus {\n  border: 1px solid var(--annotation-border-color);\n}\n.annotation--viewAnnotationFadedOut--7LQPE > * {\n  opacity: 0.5;\n}\n.annotation--viewAnnotationFadedOut--7LQPE .annotation--innerWrapper--T0cql > * {\n  opacity: 0.5;\n}\n.annotation--createAnnotation--tWKSM {\n\n  background: var(--color-bg);\n  /* fixed when authoring */\n  width: 220px;\n}\n.annotation--createAnnotation--tWKSM .text-editor {\n    border: none;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor.ql-blank::after {\n    margin-top: -1.85em;\n  }\n.annotation--createAnnotation--tWKSM .text-editor:focus-within {\n    margin: 0;\n  }\n.annotation--createAnnotation--tWKSM .ql-container {\n    background: none;\n  }\n.annotation--createAnnotation--tWKSM .ql-editor {\n    font-size: 13px;\n    line-height: 24px;\n    min-height: 24px;\n    padding: 2px 6px;\n    margin: 4px 0 6px 0;\n  }\n.annotation--annotationHeader--GXEj5 {\n  display: flex;\n}\n.annotation--createAnnotationHeader--thXfu {\n  display: flex;\n  padding-top: 10px;\n  padding-left: 10px;\n  padding-right: 8px;\n}\n.annotation--headerRowLeft--iIqjN {\n  flex: 1 1 0;\n  min-width: 0;\n  display: flex;\n}\n.annotation--headerRowRight--5h3Tr {\n  flex: 0 1 auto;\n  display: flex;\n  gap: 4px;\n}\n.annotation--categoryLabel--7VWuC {\n  color: var(--color-text-onbrand);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  font-weight: var(--body-medium-strong-fontWeight, 550);\n\n  border-radius: var(--radius-medium, 0.3125rem);\n  background-color: var(--annotation-category-color);\n\n  margin: 9px 8px 0px 8px;\n  padding: 2px 6px;\n\n  -webkit-user-select: none;\n\n          user-select: none;\n}\n.annotation--categoryLabel--7VWuC.annotation--darkText--xCvQV {\n    color: var(--color-text-onwarning);\n  }\n.annotation--innerWrapper--T0cql {\n  position: relative;\n\n  color: var(--color-text);\n}\n.annotation--createAnnotation--tWKSM .ql-editor ul,\n  .annotation--viewAnnotation--cA-c1 .ql-editor ul,\n  .annotation--createAnnotation--tWKSM .ql-editor ol,\n  .annotation--viewAnnotation--cA-c1 .ql-editor ol {\n    padding-left: 1.5em;\n  }\n.annotation--annotationHoverTarget--4y3Xc {\n  width: 24px;\n  height: 24px;\n  position: absolute;\n  pointer-events: auto;\n  top: calc(50% - 12px);\n  /* This is relative to the left edge of the line end dot,\n     but we want to center it around the dot */\n  left: -10px;\n}\n.annotation--annotationHoverTargetLeftAligned--G1twU {\n  /* This is relative to the right edge of the line end dot,\n     but we want to center it around the dot.\n     Shift by parent width (100%) to account for when the\n     annotation is not hidden. */\n  left: calc(100% - 14px);\n}\n.annotation--annotationLeftAligned--FHQRp {\n  transform: translate(-100%, 0) scale(var(--annotation-scale));\n  transform-origin: 100% 50%;\n  left: 8px;\n}\n.annotation--annotationRightAligned--VrH8e {\n  transform: scale(var(--annotation-scale));\n  transform-origin: 0 50%;\n  left: -8px;\n}\n.annotation--contentContainer--vSuqs {\n  display: flex;\n  flex-direction: column;\n  padding: 0 0 8px 0;\n  box-sizing: border-box;\n}\n.annotation--contentContainer--vSuqs.annotation--innerWrapper--T0cql {\n  gap: 8px;\n  padding: 8px;\n}\n.annotation--contentContainerNoProperties--pc2WE {\n  padding: 0;\n}\n.annotation--labelEditor--xNx12 {\n  padding: 0 8px;\n\n  max-height: 304px;\n  overflow-y: auto;\n}\n.annotation--properties--1p6UF {\n  display: grid;\n  grid-template-columns: min-content auto;\n  align-items: center;\n\n  cursor: default;\n}\n.annotation--properties--1p6UF.annotation--propertiesDisplay--wFXaY {\n    grid-row-gap: 4px;\n  }\n.annotation--createAnnotation--tWKSM .annotation--properties--1p6UF {\n  padding-left: 16px;\n  padding-right: 12px;\n}\n.annotation--selectedPropertyDisplayLabel--AtFEJ,\n.annotation--selectedPropertyValue--wwu2U {\n  /* The delete icon forces a certain row height, so we need to manually pad text to ensure labels are consistently positioned */\n  /* If not, the \"effect\" row that has more lines is vertically positioned different to the other property rows */\n  /* We're using rem here to mimic how --icon-button-size is defined */\n  padding: calc(0.75rem - 8px) 0;\n}\n.annotation--propertyDisplayLabel--PQ2vF,\n.annotation--selectedPropertyDisplayLabel--AtFEJ {\n  align-self: baseline;\n\n  color: var(--color-text-secondary);\n  white-space: nowrap;\n\n  padding-right: 12px !important;\n}\n.annotation--selectedPropertyValueWrapper--OyM0X {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n\n  width: calc(100% + 4px);\n\n  overflow: hidden;\n}\n.annotation--propertyDisplayValue--bxdp7 {\n  overflow: hidden;\n}\n.annotation--noValue--HHQOU {\n  color: var(--color-text-secondary);\n}\n.annotation--selectedPropertyValue--wwu2U {\n  overflow: hidden;\n\n  flex: 1 1 100%;\n}\n.annotation--selectedPropertyDelete--DMdrA {\n  display: flex;\n  align-items: center;\n}\n.annotation--propertyOptionIconSvg--LypST {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.annotation--icon--w1enR {\n  flex: 0 0 24px;\n\n  width: 24px;\n  height: 24px;\n  margin-right: 4px;\n}\n.annotation--icon--w1enR svg {\n  fill: var(--color-icon);\n}\n.annotation--icon--w1enR[aria-disabled='true'] svg {\n  fill: var(--color-icon-disabled);\n}\n.annotation--chit--3je6E {\n  width: 12px;\n  height: 12px;\n\n  border-radius: 2px;\n  display: flex;\n  overflow: hidden;\n  margin: 1px 2px 1px 0;\n  flex-shrink: 0;\n  border: 1px solid var(--color-border);\n}\n.annotation--chit--3je6E svg {\n    width: 12px;\n    height: 12px;\n  }\n.annotation--propertyMenuOption--9-5ow .annotation--chit--3je6E {\n    margin: 1px 10px 1px 6px;\n  }\n.annotation--propertyMenuOption--9-5ow:hover .annotation--chit--3je6E {\n    border-color: var(--color-icon);\n  }\n.annotation--styleChit--yCQ3O {\n  border: none;\n}\n.annotation--chitInline--vG6cM {\n  margin: 0;\n}\n.annotation--solidPaint--ClR6h {\n  display: flex;\n  align-items: center;\n  gap: 4px;\n}\n.annotation--solidPaintValue--9PQMf {\n}\n.annotation--createAnnotationFooter--wx9JM {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 6px 8px 6px;\n}\n.annotation--coloredProperty--OTQ6l {\n  display: flex;\n  align-items: center;\n  justify-content: left;\n}\n.annotation--coloredProperty--OTQ6l > span {\n    padding-left: 2px;\n    padding-right: 2px;\n    border-radius: 2px;\n  }\n.annotation--paddingProperty--ckvG6 > span {\n    background: var(--color-bginspectpadding);\n    color: var(--color-textoninspectpadding);\n  }\n.annotation--spacingProperty--RCjSM > span {\n    background: var(--color-bginspectspacing);\n    color: var(--color-textoninspectspacing);\n  }\n.annotation--mixedValues--Z0qIk {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n}\n.annotation--variablePill--VNxoI {\n  height: 16px;\n  padding: 0 4px;\n}\n.annotation--multipleVariableWrapper--OW3M1 {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 4px;\n  flex-direction: row;\n  align-items: center;\n}\n.annotation--multipleVariableWrapper--OW3M1.annotation--vertical--zmpVv {\n  flex-direction: column;\n  flex-wrap: nowrap;\n}\n.annotation--multipleVariableValue--5-5xk {\n  overflow: hidden;\n  align-self: stretch;\n}\n.annotation--annotationWrapperManagedString--RTskR {\n  --annotation-line-color: var(--color-border-component-strong);\n  --annotation-dot-border-color: var(--color-border-component-strong);\n  --annotation-border-color: var(--color-border-component-strong);\n}\n.annotation--annotationWrapperManagedString--RTskR .annotation--viewAnnotation--cA-c1 {\n    background-color: var(--color-bg-component-tertiary);\n    color: var(--color-text);\n    display: flex !important;\n    flex-direction: row !important;\n    align-items: center;\n    cursor: default;\n  }\n.annotation--annotationWrapperManagedString--RTskR .annotation--viewAnnotation--cA-c1:hover,\n  .annotation--annotationWrapperManagedString--RTskR .annotation--viewAnnotationSelected--UApdn {\n    border: 1px solid transparent;\n  }\n.annotation--annotationWrapperManagedString--RTskR .annotation--viewAnnotation--cA-c1:hover {\n    background-color: var(--color-bg-component-tertiary-hover);\n  }\n.annotation--annotationWrapperManagedString--RTskR .annotation--viewAnnotation--cA-c1.annotation--contentContainer--vSuqs {\n    padding: 2px 6px 2px 6px;\n  }\n.annotation--annotationWrapperManagedString--RTskR .annotation--managedStringLabel--fWb5O {\n    background: none;\n    font-size: 10px;\n    font-family: 'Roboto Mono', Monaco, 'Courier New', monospace;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n.annotation--annotationWrapperCmsBinding--DSfDQ {\n  --annotation-line-color: var(--color-border-menu-selected-strong);\n  --annotation-dot-border-color: var(--color-border-brand-strong);\n  --annotation-border-color: var(--color-border-menu-selected-strong);\n}\n.annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotation--cA-c1 {\n    display: flex !important;\n    flex-direction: row !important;\n    align-items: center;\n    cursor: default;\n    gap: 3px;\n    border-radius: var(--radius-medium);\n    border: 1px solid transparent;\n\n    background-color: var(--color-bg);\n    color: var(--color-text-brand);\n    --color-icon: var(--color-icon-brand);\n  }\n.annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotation--cA-c1.annotation--viewAnnotationDangling--FQwP- {\n      background-color: var(--color-bg);\n      color: var(--color-text-warning);\n      --color-icon: var(--color-icon-warning);\n    }\n.annotation--annotationWrapperCmsBinding--DSfDQ.annotation--hoverEnabled--5xxUx .annotation--viewAnnotation--cA-c1:hover,\n  .annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotationSelected--UApdn,\n  .annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotationNodeHovered---eUHt {\n    border: 1px solid var(--color-bg-brand);\n  }\n.annotation--annotationWrapperCmsBinding--DSfDQ.annotation--hoverEnabled--5xxUx .annotation--viewAnnotation--cA-c1.annotation--viewAnnotationDangling--FQwP-:hover, .annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotationSelected--UApdn.annotation--viewAnnotationDangling--FQwP-, .annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotationNodeHovered---eUHt.annotation--viewAnnotationDangling--FQwP- {\n      border: 1px solid var(--color-border-warning-strong);\n    }\n.annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotationSelected--UApdn .annotation--unbind--neSDK {\n      display: flex;\n    }\n.annotation--annotationWrapperCmsBinding--DSfDQ .annotation--viewAnnotation--cA-c1.annotation--contentContainer--vSuqs {\n    padding: 4px;\n  }\n.annotation--annotationWrapperCmsBinding--DSfDQ .annotation--cmsBindingLabel--bcQef {\n    /* body/body.medium */\n    font-family: var(--body-medium-fontFamily, Inter);\n    font-size: var(--body-medium-fontSize, 11px);\n    font-style: normal;\n    font-weight: var(--body-medium-fontWeight, 450);\n    line-height: var(--body-medium-lineHeight, 16px); /* 145.455% */\n    letter-spacing: 0.055px;\n    background: none;\n  }\n.annotation--annotationWrapperCmsBinding--DSfDQ .annotation--unbind--neSDK {\n    background: none;\n    display: none;\n    align-items: center;\n    justify-content: center;\n    border: none;\n    padding: 0 0 0 4px;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW {\n  --annotation-line-color: var(--color-border-handoff-strong);\n  --annotation-dot-border-color: var(--color-border-handoff-strong);\n  --annotation-border-color: var(--color-border-handoff-strong);\n}\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--viewAnnotation--cA-c1 {\n    background-color: var(--color-bg-handoff-tertiary);\n    color: var(--color-text-handoff);\n    display: flex !important;\n    flex-direction: row !important;\n    cursor: default;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--viewAnnotation--cA-c1:hover,\n  .annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--viewAnnotationSelected--UApdn {\n    border: 1px solid transparent;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--viewAnnotation--cA-c1:hover {\n    background-color: var(--color-bg-handoff-tertiary);\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--viewAnnotation--cA-c1.annotation--contentContainer--vSuqs {\n    padding: 2px 6px 2px 4px;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--codeConnectIcon--nFdfw {\n    display: inline-block;\n    flex: none;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--codeConnectIcon--nFdfw svg {\n      display: block;\n    }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--codeConnectIcon--nFdfw svg path {\n        fill: var(--color-icon-handoff);\n      }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--codeConnectLabel--Pd3TS {\n    font-size: 10px;\n\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n  }\n.annotation--annotationWrapperCodebaseSuggestions--1G1LW .annotation--codeConnectLabelName--d-Hdu {\n    font-family: 'Roboto Mono', Monaco, 'Courier New', monospace;\n  }\n.annotation--effectBlurVariable--mbYFb {\n  padding-left: 4px;\n}\n.annotation--headerRowLeft--iIqjN {\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.annotation--categorySelectorButton--q2A6p {\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  background-color: var(--color-bg-secondary);\n  color: var(--color-text-secondary);\n  font-weight: var(--body-medium-strong-fontWeight, 550);\n\n  border-radius: 4px;\n\n  padding-left: 6px;\n  padding-right: 18px;\n\n  border: 1px solid transparent;\n}\n.annotation--categorySelectorButton--q2A6p.annotation--withCategory--lj1wU {\n    color: var(--color-text-onbrand);\n    background-color: var(--annotation-category-color);\n  }\n.annotation--categorySelectorButton--q2A6p.annotation--withCategory--lj1wU .annotation--caret--noLOu {\n      fill: var(--color-icon-onbrand);\n      color: var(--color-icon-onbrand);\n    }\n.annotation--categorySelectorButton--q2A6p.annotation--withCategory--lj1wU.annotation--darkText--xCvQV {\n    color: var(--color-text-onwarning);\n  }\n.annotation--categorySelectorButton--q2A6p.annotation--withCategory--lj1wU.annotation--darkText--xCvQV .annotation--caret--noLOu {\n      fill: var(--color-icon-onwarning);\n      color: var(--color-icon-onwarning);\n    }\n.annotation--categorySelectorButton--q2A6p:focus-visible {\n    border: 1px solid var(--color-border-selected);\n  }\n.annotation--categorySelectorButton--q2A6p .annotation--caret--noLOu {\n    fill: var(--color-icon);\n    color: var(--color-icon);\n  }\n.annotation--pinPropertyButton--OTLW3 {\n  position: relative;\n\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  padding: 4px 8px 4px 4px;\n\n  font-weight: var(--body-medium-fontWeight, 450);\n  line-height: var(--body-medium-lineHeight, 16px);\n\n  border-radius: var(--radius-medium);\n  border: 1px solid transparent;\n\n  color: var(--color-text-secondary);\n}\n.annotation--pinPropertyButton--OTLW3:hover {\n    color: var(--color-text);\n    background-color: var(--color-bg-secondary);\n  }\n.annotation--pinPropertyButton--OTLW3:hover .annotation--pinPropertyButtonIcon--dgnI0 {\n      fill: var(--color-icon);\n      color: var(--color-icon);\n    }\n.annotation--pinPropertyButton--OTLW3:focus-visible {\n    border: 1px solid var(--color-border-selected);\n  }\n.annotation--pinPropertyButton--OTLW3.annotation--pinPropertyButtonActive---nkvq {\n    color: var(--color-text);\n    background-color: var(--color-bg-secondary);\n  }\n.annotation--pinPropertyButton--OTLW3.annotation--pinPropertyButtonActive---nkvq .annotation--pinPropertyButtonIcon--dgnI0 {\n      fill: var(--color-icon);\n      color: var(--color-icon);\n    }\n.annotation--pinPropertyButton--OTLW3 .annotation--pinPropertyButtonIcon--dgnI0 {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    width: 16px;\n    height: 16px;\n\n    fill: var(--color-icon-secondary);\n    color: var(--color-icon-secondary);\n\n    margin-right: 4px;\n  }\n.annotation--categorySelectorButtonLabel--xGX7w {\n  max-width: 116px;\n}\n.annotation--caret--noLOu {\n  position: absolute;\n  top: calc(50% - 3px);\n  right: 6px;\n\n  --padding-right: var(--menu-padding-right, 4px);\n  margin-right: calc(var(--padding-right) - 4px);\n}\n.annotation--colorCircle--i6hsL {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n\n  box-sizing: border-box;\n\n  background-color: rgba(255, 255, 255, 0.1);\n}\n.annotation--colorCircle--i6hsL.annotation--noCategoryColor--fYEUj {\n  background-color: transparent;\n  border: 1px solid var(--color-icon-secondary);\n}\n.annotation--categoryOptionLabel--Iz9RB {\n  text-align: start;\n  padding: 0 6px;\n}\n.annotation--categoryOptionIcon--jg6bS {\n  flex: 0 0 auto;\n  padding: 0 2px;\n}\n.annotation--visibilityDisclaimer--oQFzZ {\n\n  padding: 0 16px;\n  max-width: 136px;\n\n  color: var(--color-text-menu-secondary);\n}\n.annotation--visibilityDisclaimer--oQFzZ p {\n    margin-bottom: 4px;\n  }\n/* Copying some of the icon-button styles since the styles don't apply within\n a shadow root element */\n.annotation--buttonReset--Emcnw {\n  display: inline-flex;\n  place-items: center;\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  border: none;\n  -webkit-user-select: none;\n          user-select: none;\n}\n.annotation--buttonReset--Emcnw * {\n    /* Things inside of button shouldn't be targeted by clicks, only the button itself */\n    pointer-events: none;\n  }\n.annotation--iconButton--w7kfn {\n  --icon-button-width: initial;\n  --icon-button-height: initial;\n  --icon-button-outline-offset: -0.0625rem;\n  --icon-button-outline-width: 0.0625rem;\n  --icon-button-outline-color: transparent;\n  --icon-button-icon: var(--color-icon);\n  --icon-button-icon-secondary: var(--color-icon-secondary);\n  --icon-button-icon-tertiary: var(--color-icon-tertiary);\n  --icon-button-size: 1.5rem;\n  --icon-button-icon-size: 1.5rem;\n  --icon-button-radius: var(--radius-medium);\n\n  display: grid;\n  width: var(--icon-button-width, var(--icon-button-size));\n  height: var(--icon-button-height, var(--icon-button-size));\n  min-width: var(--icon-button-width, var(--icon-button-size));\n  padding: 0;\n\n  border-radius: var(--fpl-radius-left, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-left, var(--icon-button-radius));\n  background: transparent;\n  outline: var(--icon-button-outline-color) solid var(--icon-button-outline-width);\n  outline-offset: var(--icon-button-outline-offset);\n}\n.annotation--iconButton--w7kfn:disabled {\n    --icon-button-icon: var(--color-icon-disabled);\n    --icon-button-icon-secondary: var(--color-icon-disabled);\n    --icon-button-icon-tertiary: var(--color-icon-disabled);\n  }\n/**\n * Hovering over any part of a button group should trigger the hover states of everything\n * inside of the group. Focusing an element inside the group should also trigger the hover states\n * of everything else.\n */\n.annotation--ghost--thK4p:not([aria-disabled='true']):hover,\n  :where([role='group']:hover) .annotation--ghost--thK4p:not([aria-disabled='true']),\n  [role='group']:has([data-show-focus]:focus-visible) .annotation--ghost--thK4p:not([aria-disabled='true']):not(:focus-visible) {\n      background: var(--color-bghovertransparent);\n  }\n.annotation--ghost--thK4p:not([aria-disabled='true']):active {\n      background: var(--color-bgtransparent-secondary-hover);\n    }\n.annotation--ghost--thK4p[data-show-focus]:focus-visible {\n    --icon-button-outline-color: var(--color-border-selected);\n  }\n.annotation--iconButton--w7kfn .annotation--icon--w1enR {\n  --color-icon: var(--icon-button-icon);\n  --color-icon-secondary: var(--icon-button-icon-secondary);\n  --color-icon-tertiary: var(--icon-button-icon-tertiary);\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: var(--icon-button-icon-size);\n  height: var(--icon-button-icon-size);\n  min-width: var(--icon-button-icon-size);\n\n  /* mixins aren't supported in composes, so the border radius settings have to be copied */\n  border-radius: var(--fpl-radius-left, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-right, var(--icon-button-radius))\n    var(--fpl-radius-left, var(--icon-button-radius));\n  fill: var(--color-icon);\n  pointer-events: none;\n}\n",aM.N,"/** @postcss-export-raw */\n.annotation_lexical_editor--contentEditable--EVm11 {\n  box-sizing: border-box;\n  flex-grow: 1;\n  padding-left: 8px;\n  padding-right: 0px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  font-size: 13px;\n  line-height: 1.7;\n  outline: none;\n  text-align: left;\n  white-space: pre-wrap;\n  word-wrap: break-word;\n}\n.annotation_lexical_editor--contentEditableReadOnly--G8hdw {\n  box-sizing: border-box;\n  font-size: 11px;\n  line-height: 16px;\n\n  cursor: default;\n}\n.annotation_lexical_editor--placeholder--pPwLm {\n  color: var(--color-text-secondary);\n  overflow: hidden;\n  position: absolute;\n  text-overflow: ellipsis;\n  top: 11px;\n  left: 8px;\n  font-size: 13px;\n  display: inline-block;\n  pointer-events: none;\n}\n.annotation_lexical_editor--withCategory--bUCqy.annotation_lexical_editor--placeholder--pPwLm {\n    top: 11px;\n  }\n.annotation_lexical_editor--linkReadOnly--HnBAD {\n  color: var(--color-text-brand);\n  cursor: pointer;\n  -webkit-text-decoration: underline;\n  text-decoration: underline;\n}\n",aV._content].join("\n"),l.current=document.createElement("style"),n.append(e),n.append(l.current),r(n)}},[]),(0,o.useEffect)(()=>{l.current&&(l.current.textContent=`
        .annotationWrapperForcedHover {
          --annotation-scale: ${n.hoverScale} !important;

          /* stylelint-disable-next-line @fpl/no-manual-z-index */
z-index: 100;
        }

        .${eo} {
          --line-width-scale: ${n.hoverScale} !important;
        }

        .${ei} {
          --dot-radius: ${n.hoverScale*aP}px !important;
        }
      `)},[n.hoverScale]),(0,a.jsx)("div",{ref:t,"data-testid":"annotation-renderer-shadow-dom-container",className:T()("annotation--annotationContainer--k4xiM",B.Dm,B.Uu,s&&"annotation--isPageLoading--JGk-P"),children:i&&(0,j.createPortal)(e,i)})}function aO(){let n=(0,g.wA)(),e=(0,D.uQ)(),t=(0,g.d4)(U.Sh),s=(0,g.d4)(n=>n.isFullscreenDocumentLoaded),d=aW(),h=(0,c.dH)(),x=(0,P._X)({subscribeToUpdates_expensive:!0}),v=(0,g.d4)(n=>n.dropdownShown),b=v?.type===no,y=(0,l.Xr)(p.f),[w,_]=(0,l.fp)(p.m),I=(0,k.DP)();(0,o.useEffect)(()=>{e||_(null)},[e,_]),(0,o.useEffect)(()=>{h!==i.NLJ.ANNOTATE&&_(null)},[h,_]),(0,o.useEffect)(()=>{null!==w&&n((0,W.UU)())},[n,w]);let[S,j]=(0,o.useState)({}),{nodesWithAnnotationInfo:L,annotationsBeingViewed:T,newAnnotationNodeInfo:V}=function(n,e){let t=(0,g.d4)(U.Sh),a=(0,F.LO)(),s=(0,l.md)(p.m),d=(0,G.NW)(),h=aW(),x=(0,u.J2)(i.Ez5.uiState().filterAnnotationCategoryId),m=1===t.length?t[0]:void 0,v=(0,A.Fk)((n,e)=>f.kh(n,e||"")?.guid||e||void 0,m),{allAnnotations:b,newAnnotationNode:y}=function({topLevelOrSelfNodeId:n}){let e=(0,c.dH)(),t=(0,u.J2)(i.Ez5.annotationObserver().annotationInfoByTlf),a=N([...t.keys()]),o=(0,l.md)(p.m),r=(0,D.uQ)(),s=(0,K.XR)(),d=(0,c.eY)(),g=null!==o?r:null,h=null!==o?n:void 0,{tlfsWithNodes:f,newAnnotationNode:x}=(0,E.k9)(()=>{let n=[...a],r=null;return g&&h&&!t.has(h)&&(e===i.NLJ.ANNOTATE||null!==o)&&n.push(h),{tlfsWithNodes:n.reduce((n,e)=>{let t=d.get(e),{nodes:a,newAnnotationNodeId:i}=function n(e,t,a=[],o,i){let r;if(e){if("SECTION"===e.type)return{nodes:[],newAnnotationNodeId:r};e.childrenNodes.forEach(e=>{let{newAnnotationNodeId:l}=n(e,t,a,o,i);r=r||l}),e.annotations.forEach((n,t)=>{let o=n.categoryId&&i.find(e=>e.id===n.categoryId)||null;a.push({nodeId:e.guid,uniqueId:`${e.guid}-manual-${t}`,annotationType:tC.MANUAL,meta:{annotationIndex:t,isUnAuthored:!1,category:o,categoryColor:o&&(0,K.FQ)(o)||void 0}})}),o===e.annotations.length&&e.guid===t&&(0===e.annotations.length?r=e.guid:a.push({nodeId:e.guid,uniqueId:`${e.guid}-manual-${e.annotations.length}`,annotationType:tC.MANUAL,meta:{annotationIndex:e.annotations.length,isUnAuthored:!0,category:null,categoryColor:void 0}}))}return{nodes:a,newAnnotationNodeId:r}}(t,g,[],o,s);return i&&t&&(r={nodeId:i,tlfGuid:e}),n[e]=a,n},{}),newAnnotationNode:r}},[a,d,g,h,e,o,s,t]),m={...f};for(let n of ae){let e=n.useSharedHooksContext&&n.useSharedHooksContext(),t=N(n.useRelevantTLFs(e)),a=n.useNewAnnotationsByTlf(t,e,{topLevelOrSelfNodeId:h});Object.keys(a).forEach(n=>{let e=a[n];m[n]?m[n]=[...m[n],...e]:m[n]=e})}return{allAnnotations:(0,E.zN)(m),newAnnotationNode:x}}({topLevelOrSelfNodeId:v}),w=(0,A.wA)((n,e)=>Object.entries(e).map(([e,t])=>{let a=[];t.forEach(e=>{let t=n.get(e.nodeId);if(t&&(!(0,r.kc)().dt_annotations_filter_out_clipped_nodes||!function(n){if(!n.isAlive)return!0;let e=n.parentNode,t=n.absoluteBoundingBox;for(;e;){let n=e.absoluteBoundingBox;if("FRAME"===e.type&&!e.frameMaskDisabled&&(t.x<n.x||t.x+t.w>n.x+n.w||t.y<n.y||t.y+t.h>n.y+n.h))return!0;e=e.parentNode}return!1}(t))){let n=t.absoluteRenderBounds;a.push({...e,nodeBounds:{x:n?.x??0,y:n?.y??0,width:n?.w??0,height:n?.h??0}})}});let o=n.get(e);return{topLevelFrameNodeId:e,topLevelFrameBounds:{x:o?.absoluteBoundingBox.x??0,y:o?.absoluteBoundingBox.y??0,width:o?.absoluteBoundingBox.w??0,height:o?.absoluteBoundingBox.h??0},nodes:a}}),b),_=(0,o.useMemo)(()=>{if(v){let n=w.find(({topLevelFrameNodeId:n})=>n===v);if(n){let e=n.topLevelFrameBounds;return{x:e.x+e.width/2,y:e.y+e.height/2}}}},[w,v]),I=(0,E.k9)(()=>{let e=0,t=null,a=w.map(a=>{let{topLevelFrameBounds:o}=a;if(!function(n,e){let t=n.x,a=n.x+n.width,o=n.y,i=n.y+n.height,r=e.x,l=e.x+e.width,s=e.y,d=e.y+e.height;return t<l&&a>r&&o<d&&i>s}({x:o.x-aN,y:o.y,width:o.width+2*aN,height:o.height},(0,P.qc)(n)))return null;let i=function(n,e){let t={x:e.x+e.width/2,y:e.y+e.height/2};return Math.hypot(t.x-n.x,t.y-n.y)}(_||{x:n.offsetX,y:n.offsetY},o);(!t||i<t.distanceFromFocusPoint)&&(t={tlfIndex:e,distanceFromFocusPoint:i}),e++;let r=function(n,e){let t=(0,P.qc)(e);return Math.min(n.width*e.zoomScale,t.width)*Math.min(n.height*e.zoomScale,t.height)/(t.width*t.height)}(o,n);return{...a,isMostCentralTLF:!1,viewportClampingWeight:ak(r,.8,.85,0,1)*ak(n.zoomScale,.98,1,0,1),viewportOffsetXForClamping:r>.8&&n.zoomScale>.98||null!==s?n.offsetX*n.zoomScale:0}}).filter(C.Vq),o=t?t.tlfIndex:void 0;return void 0!==o&&(a[o].isMostCentralTLF=!0),a},[w,n,_,s]),S=Math.max(h,n.zoomScale),j=t.length>0?1/Math.min(1,n.zoomScale*(1/h)):1,{annotationsBeingViewed:k,nodesWithAnnotationInfo:L,annotationBeingEditedIndex:T}=(0,o.useMemo)(()=>{let o=[],i=0,r=null,l=I.flatMap(({nodes:l,topLevelFrameNodeId:c,topLevelFrameBounds:u,isMostCentralTLF:p,viewportClampingWeight:g,viewportOffsetXForClamping:h})=>{l.length>0&&o.push({tlf:c,numNodes:l.length});let f=l.map(o=>{let{nodeId:i,nodeBounds:r,annotationType:l,uniqueId:f}=o,m="meta"in o?o.meta:void 0,v=m&&("category"in m?m.category:null),b=m&&("categoryColor"in m?m.categoryColor:void 0),y=t.includes(i),w=null!==x&&v?.id!==x,_=d===f&&null!==s,A=!!m&&"isUnAuthored"in m&&m.isUnAuthored,N=_||A?1:w?0:g,I=function(n,e,t){let{x:a,y:o,width:i,height:r}=n,{x:l,width:s}=e,d=Math.abs(a-l)<Math.abs(l+s-(a+i)),c=Math.min(a,l),u=Math.max(a+i,l+s),p=Math.min(Math.max(20*t,5*t),20);return d?{lineWidth:(a-c)*t+p,offsetX:c*t-p,offsetY:(o+r/2)*t,isLeftAligned:d}:{lineWidth:(u-(a+i))*t+p,offsetX:u*t+p,offsetY:(o+r/2)*t,isLeftAligned:d}}(r,u,S);if(!_&&!A){let t=N*aS(n.width,S,r.width,e[f]?.width||0,I.isLeftAligned,I.offsetX-h,I.lineWidth,_,a);I.offsetX+=t,I.lineWidth+=t*(I.isLeftAligned?-1:1)}return{...I,meta:m,width:e[f]?.width||0,height:w?6:(e[f]?.height||0)*(y?j:1)+(y?10*(j-1):0),nodeId:i,uniqueId:f,nodeBounds:r,tlfGuid:c,shouldMinimize:w,lineColor:b,annotationType:l,topLevelFrameBounds:u,isInCentralTLF:p,currentlyBeingEdited:_||A}}).sort((n,e)=>n.offsetY-e.offsetY),m=f.findIndex(n=>n.currentlyBeingEdited);-1!==m&&(r=m+i);let v=function(n,e){let t=[],a=[],o={};for(let n of e)n.isLeftAligned?t.push(n):a.push(n);return aC(t,o,n),aC(a,o,n),e.map(e=>{let{y:t,height:a,width:i}=e.nodeBounds,r=o[e.uniqueId],l=t*n,s=e.lineWidth,d=tk.ALIGNED,c=0,u=e.lineWidth;return r<l?(d=tk.ABOVE,c=l-r,u+=i/2*n):r>(t+a)*n&&(d=tk.BELOW,c=r-(t+a)*n,u+=i/2*n),{...e,offsetY:r,lineAlignment:d,lineHeight:c,lineWidth:u,originalLineWidth:s}})}(S,f);return i+=l.length,v});return{annotationsBeingViewed:o,nodesWithAnnotationInfo:l,annotationBeingEditedIndex:r}},[n.width,S,I,e,x,a,s,d,j,t]);return{nodesWithAnnotationInfo:(0,E.k9)(()=>{if(null===T)return L;let e=[...L],t={...e[T]},o=Math.min(1,n.zoomScale*(1/h)),i=aS(n.width,n.zoomScale,t.nodeBounds.width,t.width,t.isLeftAligned,t.offsetX*o-n.offsetX*n.zoomScale,t.lineWidth*o,!0,a)/o;if(t.offsetX=t.offsetX+i,t.lineWidth=t.lineWidth+i*(t.isLeftAligned?-1:1),"isUnAuthored"in t.meta&&t.meta.isUnAuthored){let e=aj(t.nodeBounds,n,!t.isLeftAligned);e.isLeftAligned!==t.isLeftAligned&&(t.lineWidth=e.lineWidth/o,t.isLeftAligned=e.isLeftAligned,t.lineAlignment=tk.ALIGNED,t.lineHeight=0,t.offsetX=(e.offsetX+n.offsetX*n.zoomScale)/o,t.offsetY=(e.offsetY+n.offsetY*n.zoomScale)/o)}return e[T]=t,e},[L,n,T,a,h]),annotationsBeingViewed:k,newAnnotationNodeInfo:(0,A.wA)((n,e,t,a)=>{if(!t)return null;let o=n.get(t.nodeId);if(!o)return null;let i=o.absoluteRenderBounds,r={x:i?.x??0,y:i?.y??0,width:i?.w??0,height:i?.h??0},l=aj(r,a);return{...l,nodeId:t.nodeId,uniqueId:`${t.nodeId}-manual-${o.annotations.length}`,width:e[t.nodeId]?.width||0,height:e[t.nodeId]?.height||0,newAnnotationNode:t,tlfGuid:t.tlf,shouldMinimize:!1,lineAlignment:tk.ALIGNED,lineHeight:0,lineColor:void 0,originalLineWidth:l.lineWidth,annotationType:tC.MANUAL,isInCentralTLF:!1,nodeBounds:r,meta:{annotationIndex:o.annotations.length,category:null,categoryColor:void 0,isUnAuthored:!0}}},e,y,n)}}(x,S),M=(0,m.IL)(),B=T.length,H=T.reduce((n,e)=>n+e.numNodes,0);(0,o.useEffect)(()=>{B&&h===i.NLJ.SELECT&&M("showing_annotations_for_tlfs",{topLevelFrameCount:B,nodesWithAnnotationsCount:H})},[B,H,h,M]),o.useEffect(()=>(z.NB?.setIsShowingAnnotations(0!==L.length),y(L.length),()=>{z.NB?.setIsShowingAnnotations(!1),y(0)}),[L.length,y]);let $=(0,o.useCallback)((n,e)=>{j(t=>t[n]?.height!==e.height||t[n]?.width!==e.width?{...t,[n]:e}:t)},[]),q=(0,O.EG)();if(!s)return null;let Q=x.zoomScale<.05,Y=x.x+x.width/2,J=x.y+x.height/2,Z=Math.min(1,x.zoomScale*(1/d)),nn=null,ne=[],nt=[];L.forEach(n=>{null!==w&&n.nodeId===e&&n.annotationType===tC.MANUAL&&n.meta.annotationIndex===w&&(nn=(0,a.jsx)(ad,{annotationId:n.uniqueId,annotationIndex:w,isLeftAligned:n.isLeftAligned,lineAlignment:n.lineAlignment,lineHeight:n.lineHeight*Z,lineWidth:n.lineWidth*Z,nodeId:n.nodeId,offsetX:n.offsetX*Z+Y-x.offsetX*x.zoomScale,offsetY:n.offsetY*Z+J-x.offsetY*x.zoomScale,setDimensions:$,viewportInfo:x}));let o=(0,a.jsx)(ab,{annotationId:n.uniqueId,annotationMeta:"meta"in n?n.meta:void 0,annotationType:n.annotationType,isEditingAnnotation:!1,isInCentralTLF:n.isInCentralTLF,isLeftAligned:n.isLeftAligned,lineAlignment:n.lineAlignment,lineColor:n.lineColor,lineHeight:n.lineHeight,lineWidth:n.lineWidth,nodeId:n.nodeId,offsetX:n.offsetX,offsetY:n.offsetY,setDimensions:$,shouldDelayHover:x.zoomScale<.25,shouldHide:Q,shouldMinimize:n.shouldMinimize},n.uniqueId);t.includes(n.nodeId)?nt.push(o):ne.push(o)});let na=null!==w&&V&&(0,a.jsx)(ad,{annotationId:V.uniqueId,annotationIndex:w,isLeftAligned:V.isLeftAligned,lineAlignment:V.lineAlignment,lineHeight:V.lineHeight,lineWidth:V.lineWidth,nodeId:V.nodeId,offsetX:V.offsetX+Y,offsetY:V.offsetY+J,setDimensions:$,viewportInfo:x}),nr=b&&v&&(0,a.jsx)(ni,{nodeId:v.data.nodeId,annotationIndex:v.data.annotationIndex,parentRect:v.data.position});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(aD,{hoverScale:1/Z,children:(0,a.jsxs)("div",{"data-fpl-version":I.version,style:{visibility:q?"hidden":"visible",position:"absolute",transform:`translate(${-x.offsetX*x.zoomScale+x.x+x.width/2}px, ${-x.offsetY*x.zoomScale+x.y+x.height/2}px) scale(${Math.min(x.zoomScale*(1/d),1)})`},children:[(0,a.jsx)(X.v,{isAccessible:nt.length>0,role:"region","aria-label":(0,R.t)("dev_handoff.annotations.accessible_area_label"),children:nt}),ne]})}),nn,na,nr]})}function aW(){let n=(0,H.cJ)();return(0,r.kc)().sites_annotation_scaling&&n?.3:(0,r.kc)().dt_annotations_sizing?.5:1}function aB(){return!function(){let n=(0,c.dH)(),e=(0,u.J2)(i.Ez5.annotationObserver().annotationInfoByTlf);return N((0,o.useMemo)(()=>Array.from(e.keys()),[e])).length>0||!!(0,r.kc)().dt_component_annotations||!!(0,r.kc)().dt_ccv2_on_canvas||!!(0,r.kc)().cheddar_annotations||!!(0,r.kc)().cms_connect_mode_new_annotations||n===i.NLJ.ANNOTATE}()?null:(0,a.jsx)(d.p,{forceNoScroll:!0,children:(0,a.jsx)(aO,{})})}function aF(){return(0,a.jsx)(s.u,{label:"AnnotationsOverlay",children:(0,a.jsx)(aH,{})})}function aH(){let n=(0,S.iW)();return((0,o.useEffect)(()=>{!n&&(l.zl.set(p.m,null),i.Ez5&&i.Ez5.editorState().focusedAnnotationId.set(null))},[n]),n)?(0,a.jsx)(aB,{}):null}},876315:(n,e,t)=>{t.d(e,{k:()=>i});var a=t(716976),o=t(104076);let i=(0,a.memo)(function(n){return(0,o.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...n,"data-fpl-icon-size":"16",children:(0,o.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M4.465 8a.5.5 0 0 1 .707.708l-.732.732a1.5 1.5 0 1 0 2.121 2.121l.732-.732a.5.5 0 0 1 .707.707l-.732.732a2.5 2.5 0 0 1-3.535-3.535zm7.307 3.772a.5.5 0 0 1 .629-.064l.078.064.375.375.064.078a.5.5 0 0 1-.693.694l-.078-.065-.375-.375-.065-.078a.5.5 0 0 1 .065-.629m-2.25-2.25a.5.5 0 0 1 .629-.064l.078.064.75.75.064.078a.5.5 0 0 1-.693.694l-.078-.065-.75-.75-.065-.078a.5.5 0 0 1 .065-.629m-2.25-2.25a.5.5 0 0 1 .629-.064l.078.064.75.75.064.078a.5.5 0 0 1-.693.694l-.078-.065-.75-.75-.065-.078a.5.5 0 0 1 .065-.629m1.46-3.539a2.5 2.5 0 1 1 3.536 3.535l-.732.733a.5.5 0 0 1-.707-.707l.732-.733A1.5 1.5 0 0 0 9.44 4.44l-.733.732A.5.5 0 0 1 8 4.465zm-3.71 1.29a.5.5 0 0 1 .629-.065l.078.064.75.75.064.078a.5.5 0 0 1-.693.694l-.078-.065-.75-.75-.065-.078a.5.5 0 0 1 .065-.629M3.147 3.146a.5.5 0 0 1 .629-.064l.078.064.375.375.064.078a.5.5 0 0 1-.693.694l-.078-.065-.375-.375-.065-.078a.5.5 0 0 1 .065-.629"})})})}}]);

//# debugId=af0808bb-5e7b-5ead-901d-aa911d70eda4

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/16d12268d4377e91cb0b9d272ced1639e848310e/6973-c6c40604a688bf53.min.js.map