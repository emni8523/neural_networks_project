"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6cc3f166-2705-5cc0-9fc9-39dfccb6d988")}catch(e){}}();
(globalThis.webpackChunk_figma_web_bundler=globalThis.webpackChunk_figma_web_bundler||[]).push([[4372,5683],{236730:(e,t,n)=>{n.d(t,{$w:()=>i,D1:()=>o,Sl:()=>s,_0:()=>r,ft:()=>l,qT:()=>a});var i=(e=>(e.FocusedEditingMenu="focused_editing_inline_menu",e.FreeformEditingMenu="freeform_editing_inline_menu",e.FillSubmenu="fill_submenu",e.ImageCropSubmenu="image_crop_submenu",e.VideoVolumeControlSubmenu="video_volume_control_submenu",e.VideoTrimmingControlSubmenu="video_trimming_control_submenu",e.StrokeSubmenu="stroke_submenu",e.CornersSubmenu="corners_submenu",e.FontFamilySubmenu="font_family_submenu",e.TextAlignmentSubmenu="text_alignment_submenu",e.EffectsSubmenu="effects_submenu",e.AIActionSubmenu="ai_action_submenu",e.ActionOverflowSubmenu="action_overflow_submenu",e.AdjustImagePanel="adjust_image_panel",e.AdjustVideoPanel="adjust_video_panel",e.StrokeColorPickerPanel="stroke_color_picker_panel",e.FillColorPickerPanel="fill_color_picker_panel",e.ImageOverlayColorPickerPanel="image_overlay_color_picker_panel",e.TemplateVariantSwapPanel="template_variant_swap_panel",e.VariantSwapPanel="variant_swap_panel",e.InstanceSwapPanel="instance_swap_panel",e.PropsEditPanel="props_edit_panel",e.TemplateSetNudgeDesignModeMenu="template_set_nudge_design_mode_inline_menu",e.VariableModeSubmenu="variable_mode_submenu",e))(i||{}),r=(e=>(e.EditContent="edit_content",e.EditText="edit_text",e.RemoveEditingRestrictions="remove_editing_restrictions",e.TemplateTypeSelector="template_type_selector",e.MultiEditText="multi_edit_text",e.SelectMatching="select_matching",e.VariantSwapEntryPoint="variant_swap_entry_point",e.VariantTile="variant_tile",e.TemplateVariantTile="template_variant_tile",e.DetachInstance="detach_instance",e.VariableModeControl="variable_mode_control",e.FillControlEntryPoint="fill_control_entry_point",e.RotateGradient="rotate_gradient",e.FlipGradient="flip_gradient",e.StrokeControlEntryPoint="stroke_control_entry_point",e.StrokeWeightSlider="stroke_weight_slider",e.StrokeWeightInput="stroke_weight_input",e.StrokeDashPatternSelector="stroke_dash_pattern_selector",e.StrokePaintPicker="stroke_paint_picker",e.CustomColor="custom_color",e.ColorChit="color_chit",e.Gradient="gradient",e.LibraryColorPicker="library_color_picker",e.AdjustImageControl="adjust_image_control",e.UploadImage="upload_image",e.UploadMedia="upload_media",e.ImageCropEntryPoint="image_crop_entry_point",e.ImageCropSlider="image_crop_slider",e.ImageRotate="image_rotate",e.ImageFlipHorizontal="image_flip_horizontal",e.ImageFlipVertical="image_flip_vertical",e.VideoVolumeControl="video_volume_control",e.VideoTrimmingControl="video_trimming_control",e.AdjustVideoControl="adjust_video_control",e.VideoTrimmingPlayPause="video_trimming_play_pause",e.VideoTrimmingDurationInput="video_trimming_duration_input",e.VideoTrimmingApply="video_trimming_apply",e.VideoTrimmingCancel="video_trimming_cancel",e.CornersControlEntryPoint="corners_control_entry_point",e.CornersSlider="corners_slider",e.CornersInput="corners_input",e.FontFamilyControlEntryPoint="font_family_control_entry_point",e.FontPicker="font_picker",e.LibraryFontStyle="library_font_style",e.FontStyleSelector="font_style_selector",e.FontSizeInput="font_size_input",e.ToggleBold="toggle_bold",e.ToggleItalic="toggle_italic",e.ToggleUnderline="toggle_underline",e.TextAlignmentControlEntryPoint="text_alignment_control_entry_point",e.TextVerticalAlignmentSelector="text_vertical_alignment_selector",e.TextHorizontalAlignmentSelector="text_horizontal_alignment_selector",e.EffectsEntryPoint="effects_entry_point",e.OpacitySlider="opacity_slider",e.OpacityInput="opacity_input",e.ShadowSlider="shadow_slider",e.ShadowInput="shadow_input",e.BlurSlider="blur_slider",e.BlurInput="blur_input",e.OverlayOpacitySlider="overlay_opacity_slider",e.OverlayOpacityInput="overlay_opacity_input",e.OverlayColorPicker="overlay_color_picker",e.AIToolsEntryPoint="ai_tools_entry_point",e.AIShortenText="ai_shorten_text",e.AIRewriteText="ai_rewrite_text",e.AITranslateText="ai_translate_text",e.AIRemoveBackground="ai_remove_background",e.AIUpscaleImage="ai_upscale_image",e.AIEditImage="ai_edit_image",e.AIMakeImage="ai_make_image",e.ActionOverflowEntryPoint="action_overflow_entry_point",e.FontSpacingAndLineHeightEntryPoint="font_spacing_and_line_height_entry_point",e.FontSpacingInput="font_spacing_input",e.LineHeightInput="line_height_input",e.LayoutAlignmentEntryPoint="layout_alignment_entry_point",e.LayoutAlignmentSelector="layout_alignment_selector",e.UnorderedListStyle="unordered_list_style",e.OrderedListStyle="ordered_list_style",e.RemoveAutolayout="remove_autolayout",e.ToggleLock="toggle_lock",e.AdjustImageProperty="adjust_image_property",e.AdjustVideoProperty="adjust_video_property",e.SwitchToDesignMode="switch_to_design_mode",e))(r||{}),a=(e=>(e.ChooseMediaEntryPoint="choose_media_entry_point",e.BrowseStockPhotos="browse_stock_photos",e.UploadMedia="upload_media",e.AIMakeImage="ai_make_image",e))(a||{}),l=(e=>(e.AIImageToolsEntryPoint="ai_image_tools_entry_point",e.AIRemoveBackground="ai_remove_background",e.AIUpscaleImage="ai_upscale_image",e.AIEditImage="ai_edit_image",e))(l||{}),o=(e=>(e.AdjustImageControl="adjust_image_control",e.UploadMedia="upload_media",e))(o||{}),s=(e=>(e.BrowseTab="browse_tab",e.CustomizeTab="customize_tab",e.InstanceNeedsUpdateButton="instance_needs_update_button",e.GoToTemplateButton="go_to_template_button",e.GoToMainComponentButton="go_to_main_component_button",e.MoreOptionsButton="more_options_button",e))(s||{})},100024:(e,t,n)=>{n.d(t,{_:()=>D,k:()=>V});var i=n(104076),r=n(716976),a=n(237420),l=n(684742),o=n(620480),s=n(622345),d=n(350205),c=n(790009),p=n(266808),u=n(170627),h=n(795033),g=n(511570),_=n.n(g),m=n(166887),f=n(933688),y=n(849757),x=n(915459),v=n(652539),S=n(192075),C=n(236730),k=n(900169),E=n(47879),T=n(761500),w=n(621689),I=n(294383),b=n(805800),j=n(968169),N=n(553065),A=n(754446),R=n(349311),O=n(950241),L=n(743207);let M="template_type_dropdown_button--templateTypeScrollContainer--hY4Ui",P="template_type_dropdown_button--endSection--oLbxi",B="template_type_dropdown_button--inactiveLabel--JLegd raw_components--iconInsideBorderFocusWithin--2g7fO",F="template_type_dropdown_button--scrollIndicatorChevron--IVcq2";var H=n(364616),K=n(844411);let G="cooperInlineMenuTemplateTypeControl";function D(){return(0,i.jsx)(T.R,{children:(0,i.jsx)(f.E,{name:C._0.TemplateTypeSelector,children:(0,i.jsx)(V,{})})})}function V({isAssetPanel:e=!1}){let{isPopoverOpen:t,togglePopover:n,closePopover:a}=(0,E.j)(E.p.TEMPLATE_TYPE),s=(0,I.XH)(),d=r.useMemo(()=>p.fZl?.getAllCooperTemplateTypeGroups()||[],[]),u=r.useMemo(()=>({format:e=>{if((0,N.gl)(e))return(0,S.t)("common.mixed");for(let t of d){let n=t.types.find(t=>t.type===e);if(n)return n.name}return(0,S.t)("cooper.inline_menu.template_type.formatter_custom")}}),[d]);return(0,i.jsx)(L.A,{positionY:k.j,target:(0,i.jsx)("div",{className:"template_type_dropdown_button--templateTypeContainer--U6f-t","data-testid":"cooper-inline-template-type-control",children:(0,i.jsxs)(l.E,{className:_()("template_type_dropdown_button--templateTypeDropdownButton--z6GN8",e&&"template_type_dropdown_button--assetPanelTemplateTypeDropdownButtonOverride--1dFkU",{"template_type_dropdown_button--active--RcNoi":t}),onClick:n,recordingKey:G,"aria-expanded":t,"aria-label":(0,S.t)("cooper.inline_menu.template_type.dropdown_selection_button.aria_label"),children:[(0,i.jsx)("span",{className:"template_type_dropdown_button--templateTypeDropdownDisplayText--23o6m ellipsis--ellipsis--Tjyfa",children:u.format(s)}),(0,i.jsx)(o.r,{})]})}),renderPopoverContents:()=>(0,i.jsx)(c.J,{brand:"cooper",mode:"dark",children:(0,i.jsx)(z,{templateGroups:d,isAssetPanel:e,onClose:a})}),isOpen:t,onClose:a,useDropdownZIndex:!0})}function z({templateGroups:e,isAssetPanel:t,onClose:n}){let a=(0,I.XH)(),[l,o]=r.useState(""),[s,d]=(0,h.fp)(w.Ku),c=(0,m.U)(),g=r.useCallback(e=>{(0,N.hS)(a)&&e!==a&&(c("cooper_template_asset_type_changed",{productType:"buzz",old_template_asset_type:(0,N.hS)(a)?a:null,new_template_asset_type:e}),u.l7.user("Convert Template Type",()=>{p.fZl?.convertSelectedNodesToCooperTemplateType(e),e===p.Z64.CUSTOM?d(!0):n(),p.Ez5?.cooperFocusView().isFocusedNodeViewEnabled()&&p.Ez5?.cooperFocusView().focusSelectedNodeInFocusedNodeView(!0)}))},[d,a,c,n]);return(0,i.jsxs)("div",{className:_()(t?"template_type_dropdown_button--assetPanelTemplateTypeDropdownContainerDimensions--MzrWe":"template_type_dropdown_button--inlineToolbarTemplateTypeDropdownContainerDimensions--mDkn-","template_type_dropdown_button--templateTypeDropdownContainer--S5J1p"),children:[(0,i.jsx)(X,{searchQuery:l,onChange:o,clearSearch:()=>{o("")}}),l?(0,i.jsx)(U,{currentTemplateType:a,templateTypeGroups:e,handleTemplateTypeChange:g,searchQuery:l,isAssetPanel:t}):(0,i.jsx)(W,{currentTemplateType:a,templateTypeGroups:e,handleTemplateTypeChange:g,isAssetPanel:t})]})}function U({currentTemplateType:e,templateTypeGroups:t,handleTemplateTypeChange:n,searchQuery:a,isAssetPanel:l}){let o=r.useRef(null),s=r.useRef(null),d=q(e,t,l),{showTopScrollIndicator:c,showBotScrollIndicator:p,handleScroll:u,onScroll:h}=ee(s,l),g=RegExp(`${a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}`,"i");return(0,i.jsxs)(y.P,{ref:s,scrollContainerRef:o,className:M,hideScrollbar:!0,initialScrollTop:d,onScroll:u,children:[t.map(t=>{if("Custom"!==t.groupName)return(0,i.jsx)(r.Fragment,{children:t.types.map(t=>{if(t.name.match(g))return(0,i.jsx)(Y,{onClick:n,selected:t.type===e,metadata:t},t.type)})},t.groupName)}),(0,i.jsx)("div",{className:P}),(0,i.jsx)(J,{showTopIndicator:c,showBottomIndicator:p,onScroll:h})]})}function W({currentTemplateType:e,templateTypeGroups:t,handleTemplateTypeChange:n,isAssetPanel:a}){let l=r.useRef(null),o=r.useRef(null),{showTopScrollIndicator:s,showBotScrollIndicator:d,handleScroll:c,onScroll:u}=ee(o,a),h=q(e,t,a),{hasInstanceSelected:g}=(0,b.Cl)(),_=g||e!==p.Z64.CUSTOM;return(0,i.jsxs)(y.P,{ref:o,scrollContainerRef:l,className:M,hideScrollbar:!0,initialScrollTop:h,onScroll:c,children:[t.map(t=>t.types.some(e=>e.type===p.Z64.CUSTOM)?t.types.map(a=>(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)(Y,{onClick:n,selected:a.type===e,metadata:a,hideDimensions:!0,isCustom:!0}),!_&&(0,i.jsx)(Q,{})]},t.groupName)):(0,i.jsxs)(r.Fragment,{children:[(0,i.jsx)($,{}),t.types.map(t=>(0,i.jsx)(Y,{onClick:n,selected:t.type===e,metadata:t},t.type))]},t.groupName)),(0,i.jsx)("div",{className:P}),(0,i.jsx)(J,{showTopIndicator:s,showBottomIndicator:d,onScroll:u})]})}function X({searchQuery:e,onChange:t,clearSearch:n}){let[a,l]=r.useState(!1);return(0,i.jsx)("div",{className:"template_type_dropdown_button--templateTypeSearchBarContainer--r8D3B",children:(0,i.jsx)(x.IW,{className:_()("template_type_dropdown_button--templateTypeSearchBar--nQjXU",a&&"template_type_dropdown_button--templateTypeSearchBarBorder--6C3JG"),clearSearch:n,customClearSearchIcon:(0,i.jsx)(s.C,{style:{"--color-icon":"var(--color-icon-tertiary)",width:"16px",height:"16px"}}),focusOnMount:!0,onBlur:()=>l(!1),onChange:t,onFocus:()=>l(!0),query:e,withUI3Icon:!0})})}function Y({selected:e,hideDimensions:t=!1,metadata:n,onClick:r,isCustom:a}){var o;let s=n.dimension.x,c=n.dimension.y,u=n.name,h="",g=1;return o=n.type,[p.Z64.PRINT_US_LETTER,p.Z64.CARD_HORIZONTAL,p.Z64.CARD_VERTICAL,p.Z64.POSTER,p.Z64.NAME_TAG_LANDSCAPE,p.Z64.NAME_TAG_PORTRAIT].includes(o)&&((0,j.UK)().renderRulerUnitAsInches.getCopy()?(h=" in",g=72,a&&(u+=" (inches)")):(0,j.UK)().renderRulerUnitAsCentimeters.getCopy()&&(h=" cm",g=72/2.54,a&&(u+=" (cm)"))),1!==g&&(s=(s/g).toFixed(2)+h,c=(c/g).toFixed(2)+h),(0,i.jsxs)(l.E,{onClick:()=>r(n.type),className:"template_type_dropdown_button--templateTypeRow--KFvpj",recordingKey:`${G}-${n.type}`,"aria-label":(0,S.t)("cooper.inline_menu.template_type.dropdown_selection_button.aria_label"),children:[(0,i.jsx)("div",{className:"template_type_dropdown_button--selectedIconContainer--P5yNu",children:e&&(0,i.jsx)(d.l,{})}),(0,i.jsxs)("div",{className:"template_type_dropdown_button--metaDataContainer--XcLAD",children:[(0,i.jsx)("div",{className:"template_type_dropdown_button--nameContainer--M3j6X ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",children:u}),!t&&(0,i.jsx)("div",{className:"template_type_dropdown_button--dimensionsContainer--ekqqu",children:`${s} x ${c}`})]})]},n.type)}function $(){return(0,i.jsx)("div",{className:"template_type_dropdown_button--rowDividerContainer--XWDCP",children:(0,i.jsx)("div",{className:"template_type_dropdown_button--rowDivider--aNEXm"})})}let Z=e=>(0,j.UK)().renderRulerUnitAsInches.getCopy()?72*e:(0,j.UK)().renderRulerUnitAsCentimeters.getCopy()?72*e/2.54:e;function Q(){let e=(0,a.wA)(),[t,n]=(0,A.lJ)("width"),[l,o]=(0,A.lJ)("height"),s=25,d=10,c="number"==typeof t?t:0,h="number"==typeof l?l:0,g=1;(0,j.UK)().renderRulerUnitAsInches.getCopy()?(g=72,d=1):(0,j.UK)().renderRulerUnitAsCentimeters.getCopy()&&(g=72/2.54,d=1);let _=1!==g?c/g:c,m=1!==g?h/g:h;1!==g&&(s/=g);let f=r.useCallback(e=>{u.l7.user("Update Template Height",()=>{if(void 0!==e){let t=Z(e);p.fZl?.resizeSelectedNodes(t,!1)}})},[]),y=r.useCallback(e=>{u.l7.user("Update Template Width",()=>{if(void 0!==e){let t=Z(e);p.fZl?.resizeSelectedNodes(t,!0)}})},[]);return(0,i.jsxs)("div",{className:"template_type_dropdown_button--dimensionsControlContainer--IIY39",children:[(0,i.jsx)(O.$j,{bigNudgeAmount:d,"data-tooltip":(0,S.t)("fullscreen.properties_panel.transform_panel.width"),"data-tooltip-type":R.Ib.TEXT,disabled:void 0===t||t===N.oV,dispatch:e,min:s,onValueChange:y,recordingKey:`${G}.width`,smallNudgeAmount:d,value:_,children:(0,i.jsx)("span",{className:`${B} svg`,children:(0,S.tx)("fullscreen.properties_panel.transform_panel.w")})}),(0,i.jsx)(O.$j,{bigNudgeAmount:d,"data-tooltip":(0,S.t)("fullscreen.properties_panel.transform_panel.height"),"data-tooltip-type":R.Ib.TEXT,disabled:void 0===l||l===N.oV,dispatch:e,min:s,onValueChange:f,recordingKey:`${G}.height`,smallNudgeAmount:d,value:m,children:(0,i.jsx)("span",{className:`${B} svg`,children:(0,S.tx)("fullscreen.properties_panel.transform_panel.h")})})]})}function q(e,t,n){let i=0,r=0,a=0,l=!1;return t.forEach((t,n)=>{0!==n&&!l&&i++,t.types.forEach(t=>{!l&&(r++,t.type===e&&(l=!0),t.name.length>23&&a++)})}),Math.max(16*i+24*r+16*a-(n?439:279)/2,0)}function J({showTopIndicator:e,showBottomIndicator:t,onScroll:n}){let a=r.useRef(null),l=r.useCallback(e=>t=>{a.current&&clearInterval(a.current),a.current=setInterval(()=>{n(e)},25)},[a,n]),o=r.useCallback(()=>{a.current&&clearInterval(a.current)},[a]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"template_type_dropdown_button--topScrollIndicator--5YhMK template_type_dropdown_button--scrollIndicator--5bCW9",style:e?{}:{display:"none"},onMouseEnter:l(-8),onMouseLeave:o,children:(0,i.jsx)(v.B,{className:F,svg:K.A})}),(0,i.jsx)("div",{className:"template_type_dropdown_button--bottomScrollIndicator--5RgNk template_type_dropdown_button--scrollIndicator--5bCW9",style:t?{}:{display:"none"},onMouseEnter:l(8),onMouseLeave:o,children:(0,i.jsx)(v.B,{className:F,svg:H.A})})]})}function ee(e,t){let[n,i]=r.useState(!1),[a,l]=r.useState(!1),o=r.useCallback(n=>{n>0?i(!0):i(!1);let r=e.current?.getScrollHeight(),a=t?439:279;r&&(n+a<r?l(!0):l(!1))},[i,l,e,t]),s=r.useCallback(n=>{if(e.current){let i=e.current.getScrollTop(),r=e.current.getScrollHeight();if(n>0){let a=Math.min(i+n,r-(t?439:279));e.current.scrollTo(a)}else{let t=Math.max(0,i+n);e.current.scrollTo(t)}}},[e,t]);return r.useEffect(()=>{if(e.current){let n=e.current.getScrollTop(),r=e.current.getScrollHeight(),a=t?439:279;n>0?i(!0):i(!1),r&&(n+a<r?l(!0):l(!1))}},[i,l,e,t]),{showTopScrollIndicator:n,showBotScrollIndicator:a,handleScroll:o,onScroll:s}}},900169:(e,t,n)=>{n.d(t,{j:()=>r});var i=n(594440);let r=(e,t)=>(0,i.DH)(e,t,12)},47879:(e,t,n)=>{n.d(t,{j:()=>o,p:()=>l});var i=n(716976),r=n(795033);let a=(0,n(985416).Wh)(()=>(0,r.eU)(null));var l=(e=>(e.CORNERS="corners",e.AI_ACTION_OVERFLOW="ai_action_overflow",e.MORE_ACTION_OVERFLOW="more_action_overflow",e.EFFECTS="effects",e.FILL="fill",e.STROKE="stroke",e.FONT_FAMILY="font_family",e.FONT_SPACING="font_spacing",e.IMAGE_CROP="image_crop",e.LAYOUT_ALIGNMENT="layout_alignment",e.TEMPLATE_TYPE="template_type",e.TEXT_ALIGNMENT="text_alignment",e.VOLUME_CONTROL="volume_control",e.TRIMMING_CONTROL="trimming_control",e.VARIABLE_MODE="variable_mode",e))(l||{});function o(e){let[t,n]=(0,r.fp)(a);return{isPopoverOpen:t===e,togglePopover:i.useCallback(()=>{n(t===e?null:e)},[t,e,n]),closePopover:i.useCallback(()=>{n(t=>t===e?null:t)},[e,n])}}},245683:(e,t,n)=>{n.d(t,{iX:()=>H});var i=n(104076),r=n(716976),a=n(99723),l=n(266808),o=n(812714),s=n(776111),d=n(291705),c=n(633065),p=n(192075),u=n(58212),h=n(130689),g=n(675477),_=n(139366),m=n(188154),f=n(666388),y=n(292308),x=n(17057),v=n(944350),S=n(821359),C=n(349311),k=n(442369),E=n(705376),T=n(511087),w=n(274748),I=n(782059),b=n(763636);let{hasCommandModifier:j}=d.KeyBindingUtil;var N=(e=>(e.Bold="toggle-bold",e.Italic="toggle-italic",e.Strikethrough="toggle-strikethrough",e))(N||{}),A=(e=>(e.UL="toggle-unordered-list",e.OL="toggle-ordered-list",e))(A||{}),R=(e=>(e.ListBackspace="handle-list-backspace",e.Undo="handle-undo",e.Redo="handle-redo",e.Link="toggle-link",e))(R||{});let O={BOLD:{fontWeight:600},HIGHLIGHT:{background:"var(--color-texthighlight)"}},L={"toggle-bold":"BOLD","toggle-italic":"ITALIC","toggle-strikethrough":"STRIKETHROUGH"},M={"toggle-unordered-list":"unordered-list-item","toggle-ordered-list":"ordered-list-item"},P=new Set(["HIGHLIGHT",...Object.values(L)]);function B(){let e=[{strategy:w.Er,component:e=>(0,i.jsx)("span",{className:b.lE,spellCheck:!1,children:e.children})},{strategy:w.f7,component:e=>(0,i.jsx)("span",{className:b.lE,spellCheck:!1,children:e.children})},{strategy:w.cL,component:e=>(0,i.jsx)("span",{className:b.Zg,spellCheck:!1,children:e.children})},{strategy:w.mi,component:e=>{let t="",n="";if(e.entityKey&&e.contentState){let i=e.contentState.getEntity(e.entityKey).getData();t=i.hyperlink,n=i.commentEditorType}return(0,i.jsx)("span",{className:b.JM,"data-tooltip":C.MW.HYPERLINK_POPUP,"data-tooltip-can-edit":!0,"data-tooltip-entity-key":e.entityKey,"data-tooltip-interactive":!0,"data-tooltip-precise":!0,"data-tooltip-show-above":!0,"data-tooltip-target-ref-key":n,"data-tooltip-type":C.Ib.SPECIAL,"data-tooltip-unconstrain-width":!0,"data-tooltip-url-string":t,spellCheck:!1,children:e.children})}},{strategy:w.DL,component:e=>{let t=(0,I.Vt)(e.decoratedText);if(1!==t.length)return(0,i.jsx)(i.Fragment,{children:e.children});let n=new URL(t[0].href).toString();return(0,i.jsx)("span",{className:b.JM,"data-testid":`implicit-hyperlink-${n}`,"data-tooltip":C.MW.HYPERLINK_POPUP,"data-tooltip-can-edit":!1,"data-tooltip-interactive":!0,"data-tooltip-precise":!0,"data-tooltip-show-above":!0,"data-tooltip-type":C.Ib.SPECIAL,"data-tooltip-unconstrain-width":!0,"data-tooltip-url-string":n,spellCheck:!1,children:e.children})}}];return new d.CompositeDecorator(e)}let F=RegExp(/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)$/,"i");class H extends r.Component{constructor(e){super(e),this.TEST_ONLY_mentionsSearchPending=null,this.pendingMentionsSearch=null,this.wrapperRef=r.createRef(),this.onChange=e=>{let t=this.state.editorState;this.setState({editorState:e});let n=t.getCurrentContent(),i=e.getCurrentContent(),r=t.getSelection(),a=e.getSelection();n!==i?this.onEditorContentChange(e):this.props.typeahead?.type==="mentions"?r.getAnchorKey()!==a.getAnchorKey()||r.getFocusKey()!==a.getFocusKey()?this.clearTypeahead("changed_selection_mentions_typeahead"):this.setState({editorState:d.EditorState.forceSelection(e,a)}):r!==a&&this.clearTypeahead("changed_selection")},this.onEditorContentChange=e=>{let t=(0,w.yN)(e),n=(0,w.ws)(e);this.props.updateMessage([t,n]);let{search:i,type:r}=(0,w.TE)(e);null!=i?"MENTION"===r?this.onMentionSearchChange(i):"EMOJI"===r?this.onEmojiSearchChange(i):"COMPLETE_EMOJI"===r&&(this.clearTypeahead("completed_emoji_search"),this.insertEmojiFromString(i)):this.clearTypeahead("input_deleted")},this.hasTypeahead=()=>!!this.props.typeahead,this.insertMention=(e,t)=>{let n=(0,w.Gm)(this.state.editorState);this.state.contactsAnalytics?.trackResultClicked(n,t.index,t.mentions.length,e.id.startsWith("invite-")),(0,k.r)(n,t,!0);let i=(0,T.AO)(this.state.editorState,e);"profile_handle"in e&&this.props.dispatch((0,h.Hx)(e)),this.onChange(i)},this.insertEmoji=e=>{let t=(0,T.gG)(this.state.editorState,e);this.onChange(t)},this.insertSuggestion=e=>{let t=(0,T.Ed)(this.state.editorState,e.suggestedComments[e.index]);this.onChange(t)},this.insertEmojiFromString=e=>{let t=(0,T.Ly)(this.state.editorState,e);this.onChange(t)},this.onInsert=()=>{let e=this.props.typeahead;e&&"mentions"===e.type&&e.mentions[e.index]?this.insertMention(e.mentions[e.index],e):e&&"emojis"===e.type&&e.emojis[e.index]?this.insertEmoji(e.emojis[e.index]):e&&"suggestions"===e.type&&this.insertSuggestion(e)},this.assignEditorOnInsertClear=()=>{this.props.editorOnInsert(this.onInsert),this.props.editorOnClear(()=>this.clearTypeahead("editor_clear"))},this.newMentionsSearch=async e=>{this.pendingMentionsSearch&&this.pendingMentionsSearch.cancel(),this.pendingMentionsSearch=new E.qm;try{return{result:await (0,E.t8)((0,S.fG)(e,this.props.mentionables,!this.props.isProtoView&&this.props.figmaEditorType===v._Y.DESIGN),this.pendingMentionsSearch),canceled:!1}}catch(e){if(e instanceof E.cJ)return{result:null,canceled:!0};throw e}},this.onMentionSearchChange=(0,a.s)(async e=>{let t=this.newMentionsSearch(e);(0,s.Lg)()&&(this.TEST_ONLY_mentionsSearchPending=t);let{result:n,canceled:i}=await t;i||(n?(this.state.contactsAnalytics?.trackQueryResult(e,n?.mentions.length??0),this.props.dispatch(_.We(n))):this.props.dispatch(_.We({type:"mentions",mentions:[],index:0,maxMentions:0,search:e,query:e})),this.props.onUpdateTextArea())},300),this.onEmojiSearchChange=e=>{this.props.dispatch(_.We((0,S.oQ)(e))),this.props.onUpdateTextArea()},this.clearTypeahead=e=>{this.pendingMentionsSearch&&this.pendingMentionsSearch.cancel(),this.state.contactsAnalytics?.endSession(e),this.hasTypeahead()&&(this.props.typeahead?.type==="suggestions"?"editor_clear"===e?this.props.dispatch(_.UU({force:!0})):"changed_selection"!==e&&this.props.dispatch(_.We(null)):this.props.dispatch(_.We(null)))},this._handleBeforeInput=(e,t)=>{if(this.props.maxCommentLength&&t.getCurrentContent().getPlainText("").length>=this.props.maxCommentLength)return"handled";let n=(0,w.Wt)(t,e);if("ordered-list-item"===n||"unordered-list-item"===n)return t=(0,w.q7)(t,n),this.onChange(t),"handled";let i=(0,w.XM)(t,e);return i?(t=(0,w.oP)(t,e,i),this.onChange(t),"handled"):"not-handled"},this.selectAll=()=>{let e=this.state.editorState.getSelection(),t=this.state.editorState.getCurrentContent(),n=e.merge({anchorKey:t.getFirstBlock().getKey(),anchorOffset:0,focusOffset:t.getLastBlock().getText().length,focusKey:t.getLastBlock().getKey()});this.setState({editorState:d.EditorState.forceSelection(this.state.editorState,n)})},this.hasFocus=()=>this.state.editorState.getSelection().getHasFocus(),this.focus=(e=!0)=>{let t=this.state.editorState.getSelection();t.getHasFocus()?this.props.onFocus():e?setTimeout(()=>{this.props.moveFocusToStartOnMount?this.setState({editorState:(0,w.jM)(this.state.editorState)}):this.setState({editorState:d.EditorState.moveFocusToEnd(this.state.editorState)}),this.onFocus()},0):this.setState({editorState:d.EditorState.forceSelection(this.state.editorState,t)})},this.moveFocusBefore=()=>{let e=(0,w.d8)(this.state.editorState),t=this.state.editorState.getCurrentContent().getBlockBefore(e.getKey()),n=this.state.editorState.getSelection();if(t){let e=n.merge({anchorKey:t.getKey(),anchorOffset:t.getLength(),focusKey:t.getKey(),focusOffset:t.getLength()});this.setState({editorState:d.EditorState.forceSelection(this.state.editorState,e)})}},this.isAllSelected=()=>{let e=this.state.editorState;return e.isSelectionAtStartOfContent()&&e.isSelectionAtEndOfContent()},this.onNavigationKeyDown=e=>(e.stopPropagation(),this.hasTypeahead())?(e.preventDefault(),null):(0,d.getDefaultKeyBinding)(e),this.handleEscape=()=>{this.hasTypeahead()||this.props.isThreadCommentOverflowMenuOpen||this.props.editingComment&&"comment-editor-reply"===this.props.editorType||this.props.onCancel()},this.handleReturn=(e,t)=>{e.stopPropagation();let n=this.state.editorState.getCurrentContent().getPlainText(),i=/^\s+$/,r=!!n&&!i.test(n),a=t.getSelection(),l=t.getCurrentContent().getBlockForKey(a.getStartKey());if(this.hasTypeahead())return e.preventDefault(),"handled";if(r){if(e.altKey||e.metaKey)return e.preventDefault(),this.props.onSubmit(),"handled";if(e.shiftKey||e.ctrlKey){let e=(0,w.XM)(t,"\n");if(e){t=(0,w.oP)(t,"",e);let n=d.Modifier.splitBlock(t.getCurrentContent(),t.getSelection());return t=d.EditorState.push(t,n,"split-block"),this.onChange(t),"handled"}}else if(a.isCollapsed()&&["unordered-list-item","ordered-list-item"].includes(l.getType())){if(i.test(l.getText())){let e=d.Modifier.setBlockType(t.getCurrentContent(),a,"unstyled");t=d.EditorState.push(t,e,"change-block-type")}else{let e=d.Modifier.splitBlock(t.getCurrentContent(),a);t=d.EditorState.push(t,e,"split-block")}return this.onChange(t),"handled"}else if(this.props.submitOnEnter)return e.preventDefault(),this.props.onSubmit(),"handled"}return"not-handled"},this.handlePastedFiles=e=>(this.props.onFilePaste&&this.props.onFilePaste(e),"handled"),this.handlePastedText=(e,t,n)=>{if(!e)return"handled";let i=n.getSelection(),r=n.getCurrentContent();if(!(0,w.c9)(n)&&e.match(F)&&(0,I.$x)((0,m.xT)(e))){for(let e of(i.getIsBackward()&&(i=i.merge({anchorKey:i.getFocusKey(),anchorOffset:i.getFocusOffset(),focusKey:i.getAnchorKey(),focusOffset:i.getAnchorOffset(),isBackward:!1})),Object.values(L)))r=d.Modifier.removeInlineStyle(r,i,e);let t=(r=r.createEntity("HYPERLINK","MUTABLE",{hyperlink:e,commentEditorType:this.props.editorType})).getLastCreatedEntityKey(),a=d.Modifier.applyEntity(r,i,t);n=d.EditorState.push(n,a,"apply-entity");let l=i.merge({anchorOffset:i.getEndOffset(),anchorKey:i.getEndKey(),focusOffset:i.getEndOffset(),focusKey:i.getEndKey()});return n=d.EditorState.forceSelection(n,l),this.onChange(n),"handled"}if((0,o.kc)().comments_html_paste&&t){let e=(0,w._S)(t),i=d.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),e.getBlockMap()),r=d.EditorState.push(n,i,"insert-fragment");return this.onChange(r),"handled"}{let t=d.Modifier.replaceWithFragment(n.getCurrentContent(),n.getSelection(),d.ContentState.createFromText(e).getBlockMap()),i=d.EditorState.push(n,t,"insert-fragment");return this.onChange(i),"handled"}},this.onSubmitHyperlink=e=>{let t=this.state.editorState;if(this.state.hyperlinkState){let n=this.state.hyperlinkState.selectionToHyperlink,i=(0,m.xT)(e);if((0,I.$x)(i)){if(n.isCollapsed()){let e=t.getCurrentContent();e=d.Modifier.insertText(e,n,i),t=d.EditorState.push(t,e,"insert-characters");let r=n.getStartOffset();n=(0,w.Ji)(t,{start:r,end:r+i.length})}let e=t.getCurrentContent();for(let t of P)e=d.Modifier.removeInlineStyle(e,n,t);if(t=d.EditorState.push(t,e,"change-inline-style"),this.state.hyperlinkState.entityKey){e=e.replaceEntityData(this.state.hyperlinkState.entityKey,{hyperlink:i,commentEditorType:this.props.editorType});let r=d.Modifier.applyEntity(e,n,this.state.hyperlinkState.entityKey);t=d.EditorState.push(t,r,"apply-entity")}else{let r=(e=e.createEntity("HYPERLINK","MUTABLE",{hyperlink:i,commentEditorType:this.props.editorType})).getLastCreatedEntityKey(),a=d.Modifier.applyEntity(e,n,r);t=d.EditorState.push(t,a,"apply-entity")}}else{let e=t.getCurrentContent();e=d.Modifier.removeInlineStyle(e,n,"HIGHLIGHT"),t=d.EditorState.push(t,e,"change-inline-style"),this.props.dispatch(u.F.enqueue({message:(0,p.t)("hyperlink.invalid_link_plain")}))}this.onChange(t),this.setState({hyperlinkState:null})}},this.onFocus=()=>{if(this.assignEditorOnInsertClear(),this.props.setIsEditorFocused(!0),this.focus(!this.props.maintainSelectionOnFocus),this.state.hyperlinkState?.selectionToHyperlink&&!this.props.hyperlinkLocation){let e=this.state.editorState.getCurrentContent(),t=this.state.editorState;e=d.Modifier.removeInlineStyle(e,this.state.hyperlinkState.selectionToHyperlink,"HIGHLIGHT"),t=d.EditorState.push(t,e,"change-inline-style"),this.onChange(t),this.setState({hyperlinkState:null})}},this.onBlur=()=>{let{typeahead:e}=this.props;if(e&&"mentions"===e.type&&e.mentions[e.index]){this.state.contactsAnalytics?.endSession("input_blurred");let t=(0,w.Gm)(this.state.editorState);(0,k.r)(t,e,!1)}this.props.setIsEditorFocused(!1)},this.handleKeyCommand=(e,t)=>{if(L[e]){let n=L[e],i=d.RichUtils.toggleInlineStyle(t,n);if(i)return this.onChange(i),"handled"}else if(M[e]){let n=M[e],i=d.RichUtils.toggleBlockType(t,n);if(i)return this.onChange(i),"handled"}else if("handle-undo"===e){t=d.EditorState.undo(t);let e=(0,w.d8)(t).getText();for(let n of w.Bm)if(e.trim()===n||"1."===e.trim()){let n=e.length;t=d.EditorState.forceSelection(t,(0,w.Ji)(t,{start:n,end:n}))}return this.onChange(t),"handled"}else if("handle-redo"===e){let e=(0,w.d8)(t).getText();t=d.EditorState.redo(t);let n=(0,w.d8)(t).getText();for(let i of w.Bm)if(e.trim()===i||n.trim()===i){let e=n.length;return t=d.EditorState.forceSelection(t,(0,w.Ji)(t,{start:e,end:e})),this.onChange(t),"handled"}if("1."===e.trim()||"1."===n.trim()){let e=n.length;return t=d.EditorState.forceSelection(t,(0,w.Ji)(t,{start:e,end:e})),this.onChange(t),"handled"}return this.onChange(t),"handled"}else if("handle-list-backspace"===e){let e=d.Modifier.setBlockType(t.getCurrentContent(),t.getSelection(),"unstyled"),n=d.EditorState.push(t,e,"change-block-type");return this.onChange(n),"handled"}else if("toggle-link"===e){let{selection:e,entityKey:n}=(0,w.M1)(t);t=d.EditorState.forceSelection(t,e),this.onChange(t);let i=(0,w.L5)();if(i&&this.props.setHyperlinkLocation&&this.props.setHyperlinkEditorRef)return this.setHyperlinkEditorState(t,i,n),"handled"}return"not-handled"},this.getActiveHyperlinkForCurrentSelection=()=>this.state.hyperlinkState?.entityKey?this.state.editorState.getCurrentContent().getEntity(this.state.hyperlinkState.entityKey).getData().hyperlink:"",this.onRemoveHyperlink=()=>{if(this.state.hyperlinkState?.entityKey){let e=this.state.editorState,t=d.Modifier.applyEntity(this.state.editorState.getCurrentContent(),this.state.hyperlinkState.selectionToHyperlink,null);this.onChange(d.EditorState.push(e,t,"apply-entity"))}},this.keyBindingFn=e=>{if("Escape"===e.key&&!this.props.delegateEscapeHandling)return this.handleEscape(),null;if("Backspace"===e.key){let e=(0,w.d8)(this.state.editorState);if(("ordered-list-item"===e.getType()||"unordered-list-item"===e.getType())&&(0,w.wT)(this.state.editorState))return"handle-list-backspace"}if("ArrowUp"===e.key||"ArrowDown"===e.key||"ArrowLeft"===e.key||"ArrowRight"===e.key||"Tab"===e.key)return this.onNavigationKeyDown(e);if(j(e)){e.stopPropagation();let t=l.Ez5?.uiState().isUI3.getCopy()??!1,n="k"===e.key&&!t||e.shiftKey&&"u"===e.key&&t;if("z"===e.key&&!e.shiftKey)return"handle-undo";if("z"===e.key&&e.shiftKey)return"handle-redo";if("b"===e.key)return"toggle-bold";if("i"===e.key)return"toggle-italic";if(n)return"toggle-link";if(e.shiftKey&&"x"===e.key)return"toggle-strikethrough";if(e.shiftKey&&"8"===e.key)return"toggle-unordered-list";if(e.shiftKey&&"7"===e.key)return"toggle-ordered-list"}return e.stopPropagation(),(0,d.getDefaultKeyBinding)(e)},this.onMouseDown=e=>{e.stopPropagation()},this.onContextMenu=e=>{c.eD||e.stopPropagation()},this.addAriaHiddenToPlaceholder=()=>{let e=this.wrapperRef.current?.querySelector(".public-DraftEditorPlaceholder-root");e&&e.setAttribute("aria-hidden","true")};let t=(0,x.Ty)(e.currentOrgId??null,e.user??null,e.currentOrgUsers),n=(0,x.pP)(e.currentOrgId,e.openFileTeamId,t),i=e.openFileTeamId??null,g=null,f=B();g=this.props.messageMeta?(0,w.Aw)(this.props.messageMeta,f,this.props.editorType):d.EditorState.createEmpty(f),this.state={editorState:g,contactsAnalytics:new x.yO(x.I2,e.openFileKey,n,e.currentOrgId,i,"draftjs"),hyperlinkState:null}}componentDidMount(){if(this.assignEditorOnInsertClear(),this.addAriaHiddenToPlaceholder(),this.props.mountInputFocused){let e=this.props.moveFocusToStartOnMount?(0,w.jM)(this.state.editorState):d.EditorState.moveFocusToEnd(this.state.editorState);this.props.setIsEditorFocused(!0),this.onChange(e)}this.props.editorRef&&this.props.editorType&&this.props.dispatch(g.pP({targetKey:this.props.editorType,targetRef:this.props.editorRef})),this.props.updateMessageOnMount&&this.onEditorContentChange(this.state.editorState)}componentDidCatch(e){"Node.removeChild: The node to be removed is not a child of this node"===e.message&&this.forceUpdate()}componentDidUpdate(e){this.addAriaHiddenToPlaceholder();let t=this.state.editorState;if(!(0,f.Wf)(this.props.messageMeta,e.messageMeta)){let e=(0,w.yN)(this.state.editorState);if(!(0,f.Wf)(e,this.props.messageMeta)){let e=B();t=(0,w.Aw)(this.props.messageMeta,e,this.props.editorType),t=this.state.editorState.getSelection().getHasFocus()?d.EditorState.moveFocusToEnd(t):d.EditorState.moveSelectionToEnd(t),this.onChange(t)}}if(e.mentionables!==this.props.mentionables&&this.onEditorContentChange(t),this.props.initMention&&!e.initMention){let e;let n=t;e=n.getSelection().size>0?d.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),"@"):d.Modifier.insertText(n.getCurrentContent(),n.getSelection(),"@"),this.setState({editorState:d.EditorState.push(t,e,"insert-fragment")})}if(!e.typeahead&&this.props.typeahead&&"mentions"===this.props.typeahead.type){let{search:e}=(0,w.TE)(t);""===e&&this.state.contactsAnalytics?.trackQueryResult("",this.props.typeahead.mentions.length),this.props.dispatch(_.Qe())}}componentWillUnmount(){this.props.setIsEditorFocused(!1)}editHyperlinkFromTooltip(e,t){let n=this.state.editorState.getCurrentContent(),i="",r=0,a=0;if(n.getBlockMap().every((t,n)=>(t&&t.findEntityRanges(t=>t.getEntity()===e,(e,t)=>{i=n||"",r=e,a=t}),!i)),this.props.dispatch(g.jD()),""===i)return;let l=this.state.editorState.getSelection().merge({anchorKey:i,focusKey:i,anchorOffset:r,focusOffset:a});l=(0,w.Qo)(this.state.editorState,l,e);let o=d.EditorState.forceSelection(this.state.editorState,l);this.onChange(o),t&&this.setHyperlinkEditorState(o,t,e)}setHyperlinkEditorState(e,t,n){if(this.props.setHyperlinkLocation&&this.props.setHyperlinkEditorRef&&this.props.editorRef){this.setState({hyperlinkState:{selectionToHyperlink:e.getSelection(),entityKey:n}}),this.props.setHyperlinkLocation(t),this.props.setHyperlinkEditorRef(this.props.editorRef);let i=d.Modifier.applyInlineStyle(e.getCurrentContent(),e.getSelection(),"HIGHLIGHT"),r=d.EditorState.push(e,i,"change-inline-style");this.onChange(r)}}render(){let e=b.DX;e=this.props.className?e+" "+this.props.className:e+" "+b.DL;let t=(0,w.FA)(this.state.editorState);return(0,i.jsx)("div",{className:e,onMouseDown:(0,o.kc)().a11y_new_comments_to_fpl?void 0:this.onMouseDown,onPointerDown:(0,o.kc)().a11y_new_comments_to_fpl?this.onMouseDown:void 0,onContextMenu:this.onContextMenu,onFocus:this.onFocus,onClick:this.onFocus,"data-testid":"editable-typeahead",ref:this.wrapperRef,children:(0,i.jsx)(d.Editor,{"aria-haspopup":"listbox",ariaActiveDescendantID:this.props.typeahead?.type==="mentions"?this.props.activeMentionsId:void 0,ariaControls:this.props.typeahead?.type==="mentions"?y.Qd:void 0,ariaDescribedBy:"",ariaExpanded:this.props.typeahead?.type==="mentions",ariaLabel:this.props.ariaLabel??this.props.placeholderText,customStyleMap:O,editorState:this.state.editorState,handleBeforeInput:this._handleBeforeInput,handleKeyCommand:this.handleKeyCommand,handlePastedFiles:this.handlePastedFiles,handlePastedText:this.handlePastedText,handleReturn:this.handleReturn,keyBindingFn:this.keyBindingFn,onBlur:this.onBlur,onChange:this.onChange,placeholder:t?this.props.placeholderText:void 0,readOnly:this.props.readOnly,role:"combobox",spellCheck:!0,tabIndex:this.props.tabIndex||0})})}}H.displayName="EditableTypeahead"},890719:(e,t,n)=>{n.d(t,{q:()=>G});var i=n(104076),r=n(716976),a=n(237420),l=n(454851),o=n(853943),s=n(266808),d=n(384513),c=n(525514),p=n(287211),u=n(795033),h=n(228172),g=n(434511),_=n(140490),m=n(641518),f=n(440327),y=n(192075),x=n(850701),v=n(285626),S=n(354114),C=n(968169),k=n(553065),E=n(176836),T=n(211862),w=n(349311),I=n(386958),b=n(825911),j=n(369049),N=n(168129),A=n(121186),R=n(421258),O=n(737139),L=n(320915),M=n(952846),P=n(702147),B=n(508759),F=n(962985),H=n(88630);function K(e){let t="stroke-settings",[n,p]=(0,u.fp)(f.GI),g=(n.encodedPaints?(0,d.ri)(n.encodedPaints):n.paints)??[],_=(0,a.wA)(),C=r.useContext(b.zK),T=()=>null!=C,K=r.useRef(null),G=e=>{let t=(0,d.nc)(e);p({paints:e,encodedPaints:t}),E.Tm.clearCache()},D=e=>{let{strokeWeight:t,dashPattern:n,strokeBrushGuid:i,stretchStrokeSettings:r,scatterStrokeSettings:a,dynamicStrokeSettings:l}=e,o=(0,k.E7)(t);o&&p({strokeWeight:o});let s=(0,k.E7)(n);if(s&&p({dashPattern:s}),i){let e=(0,k.E7)((0,k.BI)(i));e&&p({strokeBrushGuid:e})}if(r&&p({stretchStrokeSettings:(0,k.E7)(r)}),a&&p({scatterStrokeSettings:(0,k.E7)(a)}),l){let e=(0,k.E7)((0,k.BI)(l));e&&p({dynamicStrokeSettings:{interval:e.frequency??c.Y4.frequency,wiggle:e.wiggle??c.Y4.wiggle,smoothen:e.smoothen??c.Y4.smoothen}})}},V=e=>{let t=g.filter((t,n)=>!e.has(n));0===t.length&&(t=[g[0]]),G(t)},z=(e,{fromSearch:t}={})=>{_(v.AV({style:e,inheritStyleKeyField:"inheritFillStyleKeyForStroke",fromSearch:t}))},U=!!n.styleId||g.length>0,W=e.pickerShown?.id===t,X=!e.userFlags.dismissed_shift_to_draw_straight_lines_hint,Y=(0,B.A8)(f.GI),$=(0,L.eh)(f.GI),Z=n.strokeBrushGuid,Q=(0,i.jsx)(A.v9,{strokeWeight:n.strokeWeight||F.wv,onChange:D,recordingKey:m.Pt(e,"weight")}),q=(0,i.jsx)("span",{children:(0,i.jsx)(M.ob,{value:(0,R.Hd)(n.strokeCap||"ROUND")||"ROUND",onChange:e=>{p({strokeCap:e})},recordingKey:m.Pt(e,"dashCap"),label:(0,y.t)("fullscreen.properties_panel.stroke_settings.end_points"),kind:"endCap"})}),J=(0,i.jsx)("span",{className:"pencil_tool_panel--advancedStroke--1497y",children:(0,i.jsx)(l.d,{onClick:()=>{if(e.pickerShown?.id===t)_(x.XE());else{if(!K)return;let e=(0,I.cn)(K.current);_(x.u1({id:t,initialX:e.x,initialY:e.y}))}},"aria-expanded":W,"aria-label":(0,y.t)("fullscreen.pencil_tool.advanced_stroke_settings"),recordingKey:m.Pt(e,"more"),htmlAttributes:{onMouseDown:e=>e.stopPropagation(),"data-tooltip-type":w.Ib.TEXT,"data-tooltip":(0,y.t)("fullscreen.pencil_tool.advanced_stroke_settings")},children:(0,i.jsx)(o.J,{})})});return(0,i.jsxs)("div",{className:"pencil_tool_panel--pencilPanelContainer--O-fFF",children:[(0,i.jsxs)(O.Zk,{children:[(0,i.jsx)(N.W4,{addProperty:()=>{S.Y5.triggerAction("add-stroke-to-selection")},currentSelectedProperty:e.currentSelectedProperty,defaultColor:E.rC,inheritStyleID:null,inheritStyleKey:n.styleId||null,inheritStyleKeyField:"inheritFillStyleKeyForStroke",library:e.library,modalShown:e.modalShown,onApplyStyle:z,onChange:G,onDeleteProperty:e=>V(e),onReorder:()=>{E.Tm.clearCache()},onToggleListLayout:()=>{_(x.Y({isListLayout:!e.stylePickerListLayout}))},openFile:e.openFile,propertyList:g,recordingKey:e.recordingKey,removeAllProperties:null,renderProperty:(t,n,r,a,l,o,d,c,p)=>{let u=T()?"preview-paint":"paint",h=E.Tm.getId(n,s.rrT.STROKE_PRESET,u),f=g.slice(0,n).some(e=>e.visible);return(0,i.jsx)(N.Gg,{colorFormat:e.colorFormat,currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:s.NLJ.VECTOR_PENCIL,defaultColor:E.Em,dispatch:_,dropdownShown:e.dropdownShown,editModeType:e.editModeType,hasFocus:l,hasVisiblePaintBelow:f,hideVisibilityToggle:1===g.length,id:h,index:n,inheritStyleKeyField:"inheritFillStyleKeyForStroke",isDragging:a,library:e.library,onApplyStyle:z,onChange:o,onMouseDown:d,onMouseMove:c,onMouseUp:p,onRemovePaint:g.length>1?()=>V(new Set([n])):void 0,openFile:e.openFile,paint:t,pickerInStyleCreationShown:e.pickerInStyleCreationShown,pickerShown:e.pickerShown,recordingKey:m.Pt(e,n),sceneGraphSelection:e.sceneGraphSelection,selected:e.stylePickerShown.isShown?e.pickerShown?.id===h:r,selectedPropertyType:s.rrT.STROKE_PRESET,singletonRow:1===g.length,stylePickerShown:e.stylePickerShown,variableBindingSurfaceId:"PENCIL_TOOL_PANEL",variableScopes:N.z1},`paint-${n}`)},sceneGraphSelection:e.sceneGraphSelection,selectedPropertyType:s.rrT.STROKE_PRESET,selectedStyleGuid:e.selectedStyleGuid,stylePickerListLayout:e.stylePickerListLayout,stylePickerShown:e.stylePickerShown,styleType:"FILL",title:(0,y.t)("fullscreen.pencil_tool.stroke")}),U&&(0,i.jsx)(h.fn,{ref:K,leftLabel:(0,y.tx)("fullscreen.properties_panel.section_stroke.label_weight"),leftInput:Q,rightLabel:(0,y.tx)("fullscreen.properties_panel.section_stroke.label_end_cap"),rightInput:q,icon:J})]}),X&&(0,i.jsx)("div",{className:"pencil_tool_panel--hintPanel--917wK",children:(0,i.jsx)(j.u,{title:(0,y.t)("fullscreen.pencil_tool.hold_shift_to_draw_straight_lines"),icon_DEPRECATED:H.A,userFlag:"dismissed_shift_to_draw_straight_lines_hint",hintText:(0,y.t)("fullscreen.pencil_tool.now_vertical_horizontal_and_diagonal_lines_are_a_breeze")})}),W&&e.pickerShown&&(0,i.jsx)(P._2,{brushType:$,dashPattern:n.dashPattern,defaultStyleAtom:f.GI,dropdownShown:e.dropdownShown,maxStrokeWeight:n.strokeWeight||F.wv,onChange:D,pickerShown:e.pickerShown,recordingKey:m.Pt(e,"advanced"),setIndividualBorderOption:function(e){},strokeBrushGuid:Z,strokeCap:n.strokeCap||"ROUND",strokeJoin:"ROUND",strokePanelMode:s.yTM.PENCIL,strokePanelTerminalPointCount:2,strokeType:Y})]})}function G(e){return(0,i.jsx)(g.l,{id:"PencilToolPanel",children:(0,i.jsx)(_.u,{label:"PencilToolPanel",children:(0,i.jsx)(D,{...e})})})}function D(e){let t=(0,C.Ku)(),n=(0,T.q5)(),r=(0,p.R)(e=>({currentSelectedGradientStop:e.mirror.appModel.currentSelectedGradientStop,library:e.library,dropdownShown:e.dropdownShown,modalShown:e.modalShown,pickerShown:e.pickerShown,pickerInStyleCreationShown:e.pickerInStyleCreationShown,stylePickerShown:e.stylePickerShown,colorPicker:e.colorPicker,styleSets:e.styleSets,reposById:e.repos,teams:e.teams,editModeType:e.mirror.appModel.activeCanvasEditModeType,currentTool:e.mirror.appModel.currentTool,sceneGraphSelection:e.mirror.sceneGraphSelection,currentSelectedProperty:e.mirror.appModel.currentSelectedProperty,inheritStyleKey:e.mirror.selectionProperties.inheritFillStyleKeyForStroke||null,stylePickerListLayout:e.stylePickerListLayout,userFlags:e.userFlags,selectedStyleGuid:e.mirror.selectedStyleProperties.guid||null}));return(0,i.jsx)(K,{...r,...e,openFile:n,colorFormat:t})}},818706:(e,t,n)=>{n.d(t,{A:()=>c,F:()=>d});var i=n(104076),r=n(716976),a=n(736055),l=n(120440),o=n(788613);let s={truncate:{k1xSpc:"x1rg5ohu",khDVqt:"xuxw1ft",kVQacm:"xb3r6kr",kXHlph:null,kORKVm:null,kg5iWk:"xlyipyv",kzqmXN:"xh8yej3",kXLuUW:"x3ajldb",$$css:!0}};function d({children:e,tooltip:t,styleXStyles:n=s.truncate}){let o=(0,r.useRef)(null),d=(0,a.R)(o);return(0,i.jsx)("span",{ref:o,...l.xk(n),"data-tooltip":d?t:void 0,"data-tooltip-type":d?"text":void 0,children:e})}let c=(0,r.forwardRef)(function({label:e,...t},n){return(0,i.jsx)(o.cS,{ref:n,label:(0,i.jsx)(d,{tooltip:e,children:e}),...t})})},173149:(e,t,n)=>{n.d(t,{D:()=>m});var i=n(104076),r=n(716976),a=n(324109),l=n(746005),o=n(360416),s=n(835678),d=n(43824),c=n(737139),p=n(856876),u=n(136192),h=n(330489);function g({slotPropertyDefinition:e}){let t=e.description,n=r.useMemo(()=>t?"lexical"===(0,h.j_)(t)?(0,h.El)(t):(0,u.At)(t):null,[t]);return n&&""!==n?(0,i.jsx)(p.LG,{appendedClassName:"slot_description_preview--descriptionRow--mxTUO",label:null,input:(0,i.jsx)("div",{className:"slot_description_preview--description--et-yW ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k",children:n})}):null}var _=n(876861);let m=r.memo(function({isInSelectionActionsPanel:e}){let t=(0,l.Xo)(),{slotPropertyDefinition:n,includesInstanceSublayer:r,selectedSlotGuids:u}=(0,s.yt)(),h=t?.id===o.ZV&&t.data&&n?.explicitDefID===t.data.defID;return(0,a.$)()&&n?(0,i.jsxs)(c.Zk,{className:"slot_panel--slotPanel--uguM2",style:e?{paddingBottom:0,borderBottom:"none"}:void 0,"data-testid":"slot-panel",children:[(0,i.jsx)(g,{slotPropertyDefinition:n}),h&&(0,i.jsx)(o.pf,{pickerId:o.ZV,componentPropDef:n}),n&&r&&1===u.length&&u[0]&&(0,i.jsx)(p.cA,{appendedClassName:_.FG,leftLabel:null,rightLabel:null,icon:(0,i.jsx)(d.RL,{disabled:!1,selectedSlotInfo:{type:d.YR.SELECTED_SLOT_GUID,selectedSlotGuid:u[0]},typedPropDef:n}),leftInput:(0,i.jsx)("div",{className:"slot_panel--slotPropertyDefinitionName--RhNFc ellipsis--ellipsis--Tjyfa",children:n.name}),rightInput:(0,i.jsx)(d.UY,{isValueMixed:!1,selectedSlotInfo:{type:d.YR.SELECTED_SLOT_GUID,selectedSlotGuid:u[0]},typedPropDef:n})})]}):null})},871677:(e,t,n)=>{n.d(t,{Vy:()=>nW});var i=n(104076),r=n(716976),a=n(237420),l=n(293422),o=n(266808),s=n(170627),d=n(812714),c=n(287211),p=n(228172),u=n(434511),h=n(166887),g=n(641518),_=n(933688),m=n(836982),f=n(652539),y=n(192075),x=n(100024),v=n(250892),S=n(354114),C=n(754446),k=n(74620),E=n(349311),T=n(88393),w=n(64004),I=n(737139),b=n(172936),j=n(240831);let N=(0,r.memo)(function(e){return(0,j.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M12 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11A.5.5 0 0 1 12 6M9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm0 2V9H7v6h2zm9-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm-1 0v6h-2V9z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M11.5 6a.5.5 0 0 1 .5.5v11a.5.5 0 0 1-1 0v-11a.5.5 0 0 1 .5-.5M9 8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1zm0 2V9H7v6h2zm8-1a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1zm-1 0v6h-2V9z",clipRule:"evenodd"})})}),A=(0,r.memo)(function(e){return(0,j.O)()?(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 0h1V7H9v2zm4 2.5a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5M15 17a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1zm0-1H9v-2h6z",clipRule:"evenodd"})}):(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M16 9a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 0h1V7H9v2zm4 3a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1 0-1h11a.5.5 0 0 1 .5.5m-3 6a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1zm0-1H9v-2h6z",clipRule:"evenodd"})})});var R=n(553065),O=n(54092),L=n(448711),M=n(863995),P=n(950241),B=n(567253),F=n(758052);function H(e){let t=(0,a.wA)(),n=(0,B.Xs)(),l=(0,C.kl)("detectedList"),s=(0,C.kl)("detectableListAxis"),d=(0,R.E7)(l),c=(0,O.Zr)("arrange-as-grid"),u=(0,r.useRef)(null);if(!d&&null==u.current&&!c&&null==s)return null;let h=d?.canvasSpacingBetweenItemsX!=null||"X"===s||c||u.current===o._0v.X,_=d?.canvasSpacingBetweenItemsY!=null||"Y"===s||c||u.current===o._0v.Y,m=(0,i.jsx)(P.gq,{dispatch:t,min:K(d,"X"),mixedMathHandler:new D(o._0v.X),onScrubBegin:()=>{u.current=o._0v.X},onScrubEnd:()=>{u.current=null},onValueChange:G(d,"X"),value:null==d?R.oV:d.canvasSpacingBetweenItemsX,...n,className:F.BP,"data-tooltip":(0,y.t)("fullscreen.properties_panel.transform_panel.list_spacing_x"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"list-spacing-x",inputClassName:F.hF,recordingKey:g.Pt(e,"listSpacingX"),tooltipForScreenReadersOnly:!0,children:(0,i.jsx)(N,{className:F.QK,"aria-hidden":!0})}),f=(0,i.jsx)(P.gq,{dispatch:t,min:K(d,"Y"),mixedMathHandler:new D(o._0v.Y),onScrubBegin:()=>{u.current=o._0v.Y},onScrubEnd:()=>{u.current=null},onValueChange:G(d,"Y"),value:null==d?R.oV:d.canvasSpacingBetweenItemsY,...n,className:h?F.sC:F.BP,"data-tooltip":(0,y.t)("fullscreen.properties_panel.transform_panel.list_spacing_y"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"list-spacing-y",inputClassName:F.hF,recordingKey:g.Pt(e,"listSpacingY"),tooltipForScreenReadersOnly:!0,children:(0,i.jsx)(A,{className:F.QK,"aria-hidden":!0})});return(0,i.jsx)(p.fn,{leftLabel:(0,y.tx)("properties.label.spacing"),leftInput:h?m:f,rightInput:_&&h?f:null,icon:null,rightLabel:null})}function K(e,t){return e?e.minItemSize?-e.minItemSize["X"===t?0:1]+1:0:-1/0}let G=(e,t)=>(n,i)=>{let r="X"===t?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";S.Y5.updateSelectionProperties({detectedList:{[r]:Math.max(n,K(e,t))}},{shouldCommit:i});let a="number"==typeof e?.canvasSpacingBetweenItemsX&&"number"==typeof e?.canvasSpacingBetweenItemsY;i&&L.F.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:!e||n!==e[r],was_mixed:!e,type:a?"grid":"list"})};class D{constructor(e){this.axis=e}getValue(){return o.glU.getCurrentListSpacing(this.axis)}onChange(e,t,n){let i=e.spacings.map(t);s.l7.user("update-list-spacing",()=>{o.glU.setCurrentListSpacing({...e,spacings:i},this.axis),n!==M.zk.NO&&o.glU.triggerAction("commit",{})})}}var V=n(28446),z=n(621776),U=n(355983),W=n(572427),X=n(478208),Y=n(525092),$=n(475477),Z=n(219199),Q=n(221586),q=n(560201);let J=(0,q.ex)("autolayout_v3_migration_info",function(e){let{tooltipText:t}=e,n=(0,Q.Gc)(e=>{e.stopPropagation(),Z.Ay.unsafeRedirect("https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout","_blank")});return(0,i.jsxs)("div",{className:"autolayout_v3_migration_info_tooltip--autolayoutMigration--OQ8zC",children:[t,(0,i.jsx)($.N,{newTab:!0,trusted:!0,href:"https://help.figma.com/hc/articles/360040451373#Updates_to_Auto_Layout",htmlAttributes:{onMouseDown:n},children:(0,y.tx)("fullscreen.properties_panel.migration_tooltip_learn_more")})]})},e=>({tooltipText:e.getAttribute("data-tooltip-text")}));var ee=n(88314),et=n(893178),en=n(657878),ei=n(76365),er=n(167151),ea=n(649154),el=n(336518),eo=n(511570),es=n.n(eo),ed=n(425045);function ec({baselineAlign:e,spaceBetween:t,stackMode:n,isUi3:i}){return e&&t?i?[{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),below:!0}]:[(0,y.t)("fullscreen.properties_panel.stack_panel.align_baseline")]:e?[{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_left_baseline"),below:i},{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_center_baseline"),below:i},{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_right_baseline"),below:i}]:t?"HORIZONTAL"===n?i?[(0,y.t)("fullscreen.properties_panel.stack_panel.align_top"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_center"),{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_bottom"),below:!0}]:[(0,y.t)("fullscreen.properties_panel.stack_panel.align_auto_top_gap"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_auto_bottom_gap"),below:!0}]:i?[(0,y.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_right")]:[(0,y.t)("fullscreen.properties_panel.stack_panel.align_auto_left_gap"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_auto_center_gap"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_auto_right_gap")]:[(0,y.t)("fullscreen.properties_panel.stack_panel.align_top_left"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_top_center"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_top_right"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_left"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_center"),(0,y.t)("fullscreen.properties_panel.stack_panel.align_right"),{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_bottom_left"),below:!0},{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_bottom_center"),below:!0},{tooltip:(0,y.t)("fullscreen.properties_panel.stack_panel.align_bottom_right"),below:!0}]}function ep(e,t){if(e.startsWith("SPACE_BETWEEN"))return"SPACE_BETWEEN";if(e.endsWith("BASELINE"))return e.split("_")[0];switch(e){case"TOP_LEFT":return"MIN";case"TOP_CENTER":return"VERTICAL"===t?"MIN":"CENTER";case"TOP_RIGHT":return"VERTICAL"===t?"MIN":"MAX";case"LEFT":return"VERTICAL"===t?"CENTER":"MIN";case"CENTER":return"CENTER";case"RIGHT":return"VERTICAL"===t?"CENTER":"MAX";case"BOTTOM_LEFT":return"VERTICAL"===t?"MAX":"MIN";case"BOTTOM_CENTER":return"VERTICAL"===t?"MAX":"CENTER";case"BOTTOM_RIGHT":return"MAX"}}function eu(e,t){if(e.startsWith("SPACE_BETWEEN"))return e.split("_")[2];if(e.endsWith("BASELINE"))return"BASELINE";switch(e){case"TOP_LEFT":return"MIN";case"TOP_CENTER":return"VERTICAL"===t?"CENTER":"MIN";case"TOP_RIGHT":return"VERTICAL"===t?"MAX":"MIN";case"LEFT":return"VERTICAL"===t?"MIN":"CENTER";case"CENTER":return"CENTER";case"RIGHT":return"VERTICAL"===t?"MAX":"CENTER";case"BOTTOM_LEFT":return"VERTICAL"===t?"MIN":"MAX";case"BOTTOM_CENTER":return"VERTICAL"===t?"CENTER":"MAX";case"BOTTOM_RIGHT":return"MAX"}}let eh="alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",eg="alignment_view_v4_ui3--mainContainer---0NcS",e_="alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",em="alignment_view_v4_ui3--indicatorGridCell--lp1lH",ef="alignment_view_v4_ui3--indicatorGroup--urXG2",ey="alignment_view_v4_ui3--wrap--JWwtI",ex="alignment_view_v4_ui3--indicatorBaseline--NUe6M",ev="alignment_view_v4_ui3--counterCenter--QC-B7",eS="alignment_view_v4_ui3--baselineAlign--OxyzT";function eC({onClick:e,onDoubleClick:t,onHover:n,onHoverWithValues:a,onChangeAlignment:l,...o}){let s=(0,ed.rO)(o.stackPrimaryAlignItems),c="BASELINE"===o.stackCounterAlignItems,p=(0,ed.c4)((0,R.E7)(o.stackMode))?"HORIZONTAL":"VERTICAL",u="WRAP"===o.stackWrap,h="HORIZONTAL"===p?"alignment_view_v4_ui3--horizontal--2Shqc":"alignment_view_v4_ui3--vertical--zGQMJ",g=s?"alignment_view_v4_ui3--spaceBetween--o3EAq":"alignment_view_v4_ui3--packed--EvdQi",_=(0,R.hS)(o.stackPrimaryAlignItems)&&(0,R.hS)(o.stackCounterAlignItems),m=o.primaryHover&&o.counterHover,f=(0,r.useCallback)(e=>{let[n,i]=eM(e.target);if(s){let t=e.target.getBoundingClientRect();"HORIZONTAL"===p?n=Math.floor((e.clientX-t.x)/t.width*3):i=Math.floor((e.clientY-t.y)/t.height*3)}t(n,i)},[t,s,p]),y=(0,r.useCallback)(e=>n(...eM(e.target)),[n]),x=(0,r.useCallback)(e=>n(null,null),[n]);return(0,d.kc)().ce_tv_fpl_al_alignment_grid?(0,i.jsxs)("div",{className:es()(o.className,eg,h,g,{[eS]:c}),"data-testid":"alignment-view",children:[(0,i.jsx)(eL,{}),m&&(0,i.jsx)(ek,{hover:!0,primaryAlign:o.primaryHover,counterAlign:o.counterHover,isStackWrap:u}),(0,i.jsx)(eN,{baselineAlign:c,counterAlign:o.stackCounterAlignItems,isStackWrap:u,onChangeAlignment:l,onDoubleClick:f,onHover:a,onKeyDown:o.onKeyDown,onMouseMove:y,onMouseOut:x,primaryAlign:o.stackPrimaryAlignItems,recordingKey:o.recordingKey,spaceBetween:s,stackMode:p}),c&&(0,i.jsx)("div",{className:eh,children:(0,i.jsx)(ej,{onClick:o.onRemoveBaseline})})]}):(0,i.jsxs)("div",{className:es()(o.className,eg,h,g,{[eS]:c}),tabIndex:0,onKeyDown:o.onKeyDown,"data-testid":"alignment-view",children:[(0,i.jsx)(eL,{}),(0,i.jsx)(eA,{stackMode:p,spaceBetween:s,baselineAlign:c,onMouseMove:y,onMouseOut:x,onClick:e,onDoubleClick:f}),m&&(0,i.jsx)(ek,{hover:!0,primaryAlign:o.primaryHover,counterAlign:o.counterHover,isStackWrap:u}),_&&(0,i.jsx)(ek,{primaryAlign:o.stackPrimaryAlignItems,counterAlign:o.stackCounterAlignItems,isStackWrap:u}),c&&(0,i.jsx)("div",{className:eh,children:(0,i.jsx)(ej,{onClick:o.onRemoveBaseline})})]})}function ek({hover:e,primaryAlign:t,counterAlign:n,isStackWrap:r}){function a(){let e=(0,ed.rO)(t);if("BASELINE"===n)return e?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"}),(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"}),(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"})});let a=r&&!e?5:3;return(0,i.jsx)(eE,{n:a})}return(0,d.kc)().ce_tv_fpl_al_alignment_grid&&!e?(0,i.jsx)("div",{className:es()(eb(t),ew(n),"alignment_view_v4_ui3--selectionIndicators--ShuA6"),children:"BASELINE"===n?a():(0,i.jsx)("div",{className:em,children:(0,i.jsx)("div",{className:es()(ef,{[ey]:r}),children:a()})})}):(0,i.jsx)("div",{className:es()("alignment_view_v4_ui3--indicatorContainer--napq- alignment_view_v4_ui3--tooltipGrid--HBKLD alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",eb(t),ew(n),{"alignment_view_v4_ui3--hover--ypG6x":e}),children:"BASELINE"===n?a():(0,i.jsx)("div",{className:em,children:(0,i.jsx)("div",{className:es()(ef,{[ey]:r}),children:a()})})})}function eE({n:e}){return(0,i.jsx)(i.Fragment,{children:Array.from({length:e},(e,t)=>(0,i.jsx)("div",{className:"alignment_view_v4_ui3--indicator--82j5F"},t))})}let eT={MIN:"alignment_view_v4_ui3--counterMin--aOx1R",CENTER:ev,MAX:"alignment_view_v4_ui3--counterMax--cCtqr",BASELINE:ev};function ew(e){return e?eT[e]:void 0}let eI={MIN:"alignment_view_v4_ui3--primaryMin--Q8O6a",CENTER:"alignment_view_v4_ui3--primaryCenter--RzFRC",MAX:"alignment_view_v4_ui3--primaryMax--eMvqL",SPACE_EVENLY:"",SPACE_BETWEEN:""};function eb(e){return e?eI[e]:void 0}function ej({onClick:e}){return(0,i.jsx)("button",{className:"alignment_view_v4_ui3--baselineControls--xazGW alignment_view_v4_ui3--_centered--MV2if","data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,y.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),"aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.remove_baseline_align"),onClick:e,children:(0,i.jsx)("div",{className:"alignment_view_v4_ui3--baselineControlLine--6BBmA"})})}function eN({spaceBetween:e,stackMode:t,baselineAlign:n,onHover:a,onMouseOut:l,onDoubleClick:o,onChangeAlignment:s,onKeyDown:d,primaryAlign:c,counterAlign:p,isStackWrap:u,recordingKey:h}){let g=ec({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:!0}),_=function({baselineAlign:e,spaceBetween:t}){return e&&t?["SPACE_BETWEEN_BASELINE"]:e?["MIN_BASELINE","CENTER_BASELINE","MAX_BASELINE"]:t?["SPACE_BETWEEN_MIN","SPACE_BETWEEN_CENTER","SPACE_BETWEEN_MAX"]:["TOP_LEFT","TOP_CENTER","TOP_RIGHT","LEFT","CENTER","RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"]}({baselineAlign:n,spaceBetween:e}),m=function(e,t,n){if((0,ed.rO)(e)&&"BASELINE"===t)return"SPACE_BETWEEN_BASELINE";if("BASELINE"===t)return`${e}_BASELINE`;if((0,ed.rO)(e))return`SPACE_BETWEEN_${t}`;switch(e){case"MIN":switch(t){case"MIN":return"TOP_LEFT";case"CENTER":return"VERTICAL"===n?"TOP_CENTER":"LEFT";case"MAX":return"VERTICAL"===n?"TOP_RIGHT":"BOTTOM_LEFT"}case"CENTER":switch(t){case"MIN":return"VERTICAL"===n?"LEFT":"TOP_CENTER";case"CENTER":return"CENTER";case"MAX":return"VERTICAL"===n?"RIGHT":"BOTTOM_CENTER"}case"MAX":switch(t){case"MIN":return"VERTICAL"===n?"BOTTOM_LEFT":"TOP_RIGHT";case"CENTER":return"VERTICAL"===n?"BOTTOM_CENTER":"RIGHT";case"MAX":return"BOTTOM_RIGHT"}}}(c??"MIN",p??"MIN",t),f=(0,r.useRef)(null),x=(0,r.useRef)(!1),v=()=>{x.current=!0};return(0,r.useLayoutEffect)(()=>{if(!x.current)return;x.current=!1;let e=f.current;if(!e)return;let t=e.querySelector(`input[type="radio"][value="${m}"]`);t?.focus()},[m]),(0,i.jsx)(ea.bL,{ref:f,value:m,onChange:e=>{let n=ep(e,t),i=eu(e,t);s?.(n,i)},legend:(0,i.jsx)(el.q,{children:(0,y.t)("fullscreen.properties_panel.section_autoLayout.label_alignment")}),htmlAttributes:{onMouseOut:l,onDoubleClick:e=>{v(),o(e)},onKeyDown:e=>{v(),d?.(e)}},recordingKey:h,"data-hold-focus":!0,children:(0,i.jsx)("div",{className:e_,children:"HORIZONTAL"===t&&n&&e?(0,i.jsx)(eR,{tooltips:g,onHover:a}):_.map((e,n)=>{let r="string"==typeof g[n]?{tooltip:g[n],below:!1}:g[n];return(0,i.jsx)(ea.c$,{value:e,"aria-label":r?.tooltip,htmlAttributes:{onMouseEnter:()=>{a?.(ep(e,t),eu(e,t))}},"data-tooltip-show-above":!r?.below||void 0,children:m===e&&(0,i.jsx)(ek,{primaryAlign:c,counterAlign:p,isStackWrap:u})},e)})})})}function eA({spaceBetween:e,stackMode:t,baselineAlign:n,onMouseMove:r,onMouseOut:a,onClick:l,onDoubleClick:o}){let s=ec({stackMode:t,baselineAlign:n,spaceBetween:e,isUi3:!0});return(0,i.jsx)("div",{className:e_,onMouseMove:r,onMouseOut:a,onClick:l,onDoubleClick:o,children:"HORIZONTAL"===t&&n&&e?(0,i.jsx)(eR,{tooltips:s}):s.map((n,r)=>{let a=r%3,l=Math.floor(r/3);return"HORIZONTAL"===t&&e&&(l=a,a=0),(0,i.jsx)(eO,{x:a,y:l,..."string"==typeof n?{tooltip:n}:n},r)})})}function eR({tooltips:e,onHover:t}){let n=(0,r.useId)(),a=e[0];if(null==a)return null;let l="string"==typeof a?{tooltip:a}:a;return(0,d.kc)().ce_tv_fpl_al_alignment_grid?(0,i.jsx)(ea.c$,{value:"SPACE_BETWEEN_BASELINE",className:"alignment_view_v4_ui3--spaceBetweenBaselineOption--kndIr","aria-label":"string"==typeof a?a:a?.tooltip,htmlAttributes:{onMouseEnter:()=>{t?.("SPACE_BETWEEN","BASELINE")}},children:(0,i.jsxs)("div",{className:"alignment_view_v4_ui3--spaceBetweenBaselineIndicators--L-yhG",children:[(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"}),(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"}),(0,i.jsx)("span",{"aria-hidden":!0,className:ex,children:"A"})]})},"SPACE_BETWEEN_BASELINE"):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{"data-tooltip-proxy-element-id":n}),(0,i.jsx)(eO,{id:n,x:1,y:1,...l}),(0,i.jsx)("div",{"data-tooltip-proxy-element-id":n})]})}function eO({id:e,x:t,y:n,tooltip:r,below:a}){return(0,i.jsx)("div",{id:e,"data-x":t,"data-y":n,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":r,"data-tooltip-show-above":!a||void 0})}function eL(){return(0,i.jsx)("div",{className:"alignment_view_v4_ui3--dotGrid--N6RPe alignment_view_v4_ui3--grid3x3--306xj alignment_view_v4_ui3--_centered--MV2if",children:Array.from({length:9},(e,t)=>(0,i.jsx)("div",{className:"alignment_view_v4_ui3--dotGridCell--r7m5y",children:(0,i.jsx)("div",{className:"alignment_view_v4_ui3--dot--d5NQx"},t)},t))})}function eM(e){let{x:t,y:n}=e.dataset;return[parseInt(t),parseInt(n)]}var eP=n(211264),eB=n(734182);let eF=["MIN","CENTER","MAX"];function eH({className:e,recordingKey:t}){let n=(0,C.kl)("stackMode"),l=(0,C.kl)("stackWrap"),[s,c]=(0,C.lJ)("stackPrimaryAlignItems"),[p,u]=(0,C.lJ)("stackCounterAlignItems"),[m,f]=(0,r.useState)(void 0),[y,x]=(0,r.useState)(void 0),v=(0,eB.sR)(),S=(0,eB.uV)(),k=(0,h.am)(),E=(0,a.d4)(ei.Sh),T=(0,er.Vj)((0,en._6)()),w=(0,ed.rO)(s),I="BASELINE"===p,b=(0,r.useCallback)((e,t)=>{if(null==e||null==t){f(void 0),x(void 0);return}let i=eK(e,t,n,w,T),r=eG(e,t,n,I);f(i),x(r)},[n,I,w,f,x,T]),j=(0,r.useCallback)((e,t)=>{if(void 0===e||void 0===t){f(void 0),x(void 0);return}f(e),x(t)},[f,x]),N=g.rf(t,"click",(0,r.useCallback)(e=>{let t=m,n=y;e&&e.__interactionTest&&(t=e.primaryAlignItems,n=e.counterAlignItems),t&&n&&(w||c(t,M.zk.NO),u(n),k("Autolayout alignment grid used",{nodeIds:E}))},[m,y,w,u,k,c,E]),{recordMetadata:()=>({primaryAlignItems:m,counterAlignItems:y}),playbackMetadata:e=>({...e,__interactionTest:!0})}),A=(0,r.useCallback)((e,t)=>{void 0!==e&&void 0!==t&&(w||c(e,M.zk.NO),u(t),k("Autolayout alignment grid used",{nodeIds:E}))},[w,u,k,E,c]),{clearVariableConsumption:O}=(0,eP.O)("STACK_SPACING",o.rXF.FLOAT),L=(0,r.useCallback)((e,t)=>{S(void 0===t||t,e,M.zk.NO),O()},[S,O]),P=(0,r.useCallback)((e,t)=>{if(w){S(!1,"alignment double click",M.zk.NO);let i=eK(e,t,n,!1,T),r=eG(e,t,n,I);f(i),x(r),c(i,M.zk.NO),u(r),k("Autolayout spacing mode changed",{mode:i,doubleClick:!0})}else L("alignment double click"),u(eG(e,t,n,I))},[L,I,w,u,c,S,n,k,T]),B=(0,r.useCallback)(()=>{u("CENTER"),k("Disable baseline alignment",{source:"alignment grid"})},[u,k]),F=g.v_(t,"keydown",(0,r.useCallback)(e=>{function t(e){(0,ed.c4)((0,R.E7)(n))?c(e):u(e)}function i(e){"VERTICAL"===n?c(e):u(e)}function r(e,t){if((0,R.gl)(e))return"CENTER";let n=eF.indexOf(e);if(-1===n)return null;let i=(0,ee.qE)(n+t,0,eF.length-1);return eF[i]}let a=(0,ed.c4)((0,R.E7)(n))?s:p,l="VERTICAL"===n?s:p;switch(e.keyCode){case Q.Uz.ESCAPE:case Q.Uz.ENTER:(0,d.kc)().ce_tv_fpl_al_alignment_grid?e.target.blur():e.currentTarget.blur();break;case Q.Uz.UP_ARROW:{let e=r(l,-1);e&&i(e);break}case Q.Uz.DOWN_ARROW:{let e=r(l,1);e&&i(e);break}case Q.Uz.LEFT_ARROW:{let e=r(a,-1);e&&t(e);break}case Q.Uz.RIGHT_ARROW:{let e=r(a,1);e&&t(e);break}case Q.Uz.B:"HORIZONTAL"===n&&v("BASELINE"!==p,"alignment keyboard");break;case Q.Uz.X:L("alignment keyboard",!(0,ed.rO)(s));break;case Q.Uz.W:i("MIN");break;case Q.Uz.A:t("MIN");break;case Q.Uz.S:i("MAX");break;case Q.Uz.D:t("MAX");break;case Q.Uz.V:i("CENTER");break;case Q.Uz.H:t("CENTER");break;default:(0,et.jr)(e,et.W0.YES,et.VA.YES);return}e.preventDefault(),e.stopPropagation()},[L,p,s,v,u,c,n])),H=(0,i.jsx)(eC,{className:e,counterHover:y,onChangeAlignment:A,onClick:N,onDoubleClick:P,onHover:b,onHoverWithValues:j,onKeyDown:F,onRemoveBaseline:B,primaryHover:m,recordingKey:t,stackCounterAlignItems:p,stackMode:n,stackPrimaryAlignItems:s,stackWrap:l});return(0,i.jsx)(_.E,{name:"alignment_view",children:H})}function eK(e,t,n,i,r){return i?(0,d.kc)().ce_stack_justify_space_between||r?"SPACE_BETWEEN":"SPACE_EVENLY":eF["VERTICAL"===n?t:e]}function eG(e,t,n,i){return i?"BASELINE":eF["VERTICAL"===n?e:t]}var eD=n(276800);let eV=(0,r.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9.653 6.008A1.5 1.5 0 0 1 11 7.5V10a.5.5 0 0 1-1 0V7.5a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5V14a.5.5 0 0 1 1 0v2.5a1.5 1.5 0 0 1-1.347 1.492L9.5 18h-2A1.5 1.5 0 0 1 6 16.5v-9A1.5 1.5 0 0 1 7.5 6h2zm7 0A1.5 1.5 0 0 1 18 7.5v9a1.5 1.5 0 0 1-1.347 1.492L16.5 18h-2a1.5 1.5 0 0 1-1.5-1.5V16a.5.5 0 0 1 1 0v.5a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5h-2a.5.5 0 0 0-.5.5V8a.5.5 0 0 1-1 0v-.5A1.5 1.5 0 0 1 14.5 6h2zm-3.506 3.638a.5.5 0 0 1 .707 0l2 2a.5.5 0 0 1 0 .707l-2 2a.5.5 0 1 1-.707-.707l1.146-1.146H8.5a.5.5 0 0 1 0-1h5.793l-1.146-1.146a.5.5 0 0 1 0-.708"})})}),ez=(0,r.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M17.992 9.653A1.5 1.5 0 0 1 16.5 11H14a.5.5 0 0 1 0-1h2.5a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5H10a.5.5 0 0 1 0 1H7.5a1.5 1.5 0 0 1-1.492-1.347L6 9.5v-2A1.5 1.5 0 0 1 7.5 6h9A1.5 1.5 0 0 1 18 7.5v2zm0 7A1.5 1.5 0 0 1 16.5 18h-9a1.5 1.5 0 0 1-1.492-1.347L6 16.5v-2A1.5 1.5 0 0 1 7.5 13H8a.5.5 0 0 1 0 1h-.5a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5H16a.5.5 0 0 1 0-1h.5a1.5 1.5 0 0 1 1.5 1.5v2zm-3.638-3.506a.5.5 0 0 1 0 .707l-2 2a.5.5 0 0 1-.707 0l-2-2a.5.5 0 1 1 .707-.707l1.146 1.146V8.5a.5.5 0 0 1 1 0v5.793l1.147-1.146a.5.5 0 0 1 .707 0"})})});var eU=n(261024),eW=n(817694),eX=n(980852),eY=n(222932),e$=n(914184),eZ=n(968169),eQ=n(835307),eq=n(217062),eJ=n(17933),e0=n(684742),e1=n(498349),e5=n(286138),e2=n(567862),e4=n(331497);let e6="grid_picker--cellVisual--SAtJ1",e7="grid_picker--textSecondary--cfg-p",e3="grid_picker--textDisabled--Yzb8u",e8="grid_picker--gridBoxesContainer--SS1Yv",e9="grid_picker--gridBoxes--WuMui",te="grid_picker--gridCell--UWlY2",tt="grid_picker--selected--WcfBm",tn="grid_picker--initialSize--QDKhm",ti="grid_picker--gridCellWrapper--zGP-7",tr="grid_picker--gridCellButton--g7VBU";var ta=n(489587),tl=n(904889),to=n(452687);let ts=(e=!1)=>es()(e6,{"grid_picker--cellVisualMixedSpan--VIczc":e});function td({recordingKey:e,disabled:t}){let[n,a]=(0,r.useState)(!1),[c,p]=(0,C.lJ)("gridColumnCount"),[u,h]=(0,C.lJ)("gridRowCount"),_=c&&(0,R.hS)(c)?c:null,m=u&&(0,R.hS)(u)?u:null,f=(0,r.useRef)(null),x=(0,eQ.Fk)(e=>{let t=e.getDirectlySelectedNodes();return 0!==t.length&&t.every(e=>{if(!e)return!1;let t="GRID"===e.stackMode,n=0===e.childrenNodes.length;return t&&n})}),v=(0,eQ.Fk)(()=>{let e=o.HV5?.getSingleSelectedPrimaryGridId();return e&&"-1:-1"!==e}),S=(0,d.kc)().ce_tv_grid_ga&&v,[k,E]=(0,r.useState)(null),T=(0,e4.J2)((0,eZ.UK)().showPropertyLabels),{getTriggerProps:w,getContainerProps:I}=eJ.fP({isOpen:n,onOpenChange(e){a(e),e?(o.Egt&&o.Egt.clearGridTrackOrCellSelection(),E({mode:"hover",hoveredIndex:null}),_&&m?f.current={cols:_,rows:m}:f.current=null):(E(null),f.current=null)},type:"dialog",placement:"bottom-start",offset:{mainAxis:T?-114:-96,crossAxis:-12},softDismiss:!0}),b=(e,t)=>{if(!x||null===e||null===t)return;let n=t>=1&&t<=100;if(!(e>=1&&e<=100)||!n)return;let i=e!==_,r=t!==m;(i||r)&&s.l7.user("grid-panel-empty-grid-immediate-resize",()=>{i&&p(e,M.zk.NO),r&&h(t,M.zk.NO)})},j=!c||!u||(0,R.gl)(c)||(0,R.gl)(u),N=0,A=0;!j&&_&&m?(N=_>10?10:_,A=m>8?8:m):j&&(N=2);let O=(e,t)=>{E(n=>{if(!n)return null;if("hover"===n.mode){let n={mode:"input",intermediateCols:"cols"===e?t:_,intermediateRows:"rows"===e?t:m};return b(n.intermediateCols,n.intermediateRows),n}if("input"===n.mode){let i="cols"===e?{...n,intermediateCols:t}:{...n,intermediateRows:t};return b(i.intermediateCols,i.intermediateRows),i}return n})},L=(e,t)=>{let n=null!==e&&e>=1&&e<=100&&e!==_,i=null!==t&&t>=1&&t<=100&&t!==m;n||i?s.l7.user("grid-panel-commit",()=>{let r=n&&!i?M.zk.YES:M.zk.NO;(0,d.kc)().ce_tv_grid_reflow&&k?.mode==="hover"?o.HV5?.setDimensions(t,e):(n&&p(e,r),i&&h(t,M.zk.YES))}):s.l7.user("grid-panel-commit",()=>{h(t,M.zk.YES)})},P=(e,t)=>{let n="cols"===e?m:_;k?.mode==="input"&&(n="cols"===e?k.intermediateRows:k.intermediateCols),L("cols"===e?t:n,"rows"===e?t:n)},B=()=>{k?.mode==="hover"&&E({intermediateCols:_,intermediateRows:m,mode:"input"})};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e0.E,{actionOnPointerDown:!0,...w({className:"grid_picker--gridWidget--e47iU",style:{"--cols":N}}),"aria-label":(0,y.t)("fullscreen.properties_panel.grid.open_grid_picker",{cols:null!==_?_:(0,y.t)("common.mixed"),rows:null!==m?m:(0,y.t)("common.mixed")}),recordingKey:g.Pt(e,"button"),disabled:t,children:[(0,i.jsx)("div",{className:"grid_picker--gridWidgetLabel--ceNc2",children:j?(0,y.t)("common.mixed"):(0,i.jsxs)("span",{className:t?e3:"",children:[String(_),(0,i.jsxs)("span",{className:t?e3:e7,children:[" ","\xd7"," "]}),String(m)]})}),j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:ts()}),(0,i.jsx)("div",{className:ts(!0)}),(0,i.jsx)("div",{className:ts()})]}):(0,ee.M9)(N*A,e=>(0,i.jsx)("div",{className:e6},e))]}),n&&(0,i.jsx)(eJ.mc,{...I({className:es()("grid_picker--gridWidgetPopover--U5ykN",{"grid_picker--gridWidgetPopoverWithEditButton--T2oTx":S}),style:{"--cols":12,"--rows":8}}),onKeyDown:e=>{if("Escape"===e.key){if(e.stopPropagation(),e.preventDefault(),x&&f.current){let e=f.current.cols,t=f.current.rows,n=_!==e,i=m!==t;(n||i)&&s.l7.user("grid-panel-revert-on-escape",()=>{n&&p(e,M.zk.NO),i&&h(t,M.zk.NO)})}E(null),a(!1)}"Enter"===e.key&&(E(null),a(!1))},children:(0,i.jsxs)(e1.i,{children:[(0,i.jsx)(t_,{recordingKey:e,value:c,onIntermediateChange:e=>O("cols",e),onCommit:e=>P("cols",e),onClick:B}),(0,i.jsx)("span",{className:e7,children:"\xd7"}),(0,i.jsx)(tm,{recordingKey:e,value:u,onIntermediateChange:e=>O("rows",e),onCommit:e=>P("rows",e),onClick:B}),(0,i.jsx)(ty,{gridState:k,setGridState:E,onReEnableHover:e=>{E({mode:"hover",hoveredIndex:e})},handleGridSelectionResizeAndCommit:({cols:e,rows:t})=>{k?.mode!=="input"&&(L(e,t),a(!1))},recordingKey:g.Pt(e,"gridBoxes"),initialGridSize:f.current}),S&&(0,i.jsx)("div",{className:"grid_picker--gridEditTracksButton--HFeTy",children:(0,i.jsx)(l.IK,{variant:"secondary",onClick:()=>{o.HV5?.setGridTrackSelection([{index:0,axis:o._0v.X}])},children:(0,y.t)("fullscreen.properties_panel.grid.open_grid_settings")})})]})})]})}function tc(e){return(0,i.jsx)(td,{...e})}function tp(e,t){setTimeout(()=>{let n=e.target;if(n instanceof HTMLInputElement){let e=n.value,i=null;if(""===e)i=null;else{let t=parseInt(e,10);i=isNaN(t)?null:t}t(i)}},0)}class tu extends e2.M{constructor(e){super(),this.nodeField=e}getValueForNode(e){return e[this.nodeField]??0}setValueForNode(e,t){s.l7.user("set-grid-track-count",()=>{"gridRowCount"===this.nodeField?e.setGridRowCount(t,!0):"gridColumnCount"===this.nodeField&&e.setGridColumnCount(t,!0)})}}let th=new tu("gridRowCount"),tg=new tu("gridColumnCount"),t_=r.memo(function({recordingKey:e,value:t,onIntermediateChange:n,onCommit:r,onClick:a}){return(0,i.jsx)(P.Ht,{className:ta.hF,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.number_of_columns"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-columns",dispatch:eD.lQ,id:"grid-columns",inputClassName:ta.qE,max:100,min:1,mixedMathHandler:tg,onClick:a,onKeyDown:e=>{tp(e,n)},onValueChange:(e,t)=>{t?r(e):n(e)},recordingKey:g.Pt(e,"colInput"),value:t,children:(0,i.jsx)(f.B,{svg:tl.A,className:ta.QK})})}),tm=r.memo(function({recordingKey:e,value:t,onIntermediateChange:n,onCommit:r,onClick:a}){return(0,i.jsx)(P.Ht,{className:ta.hF,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.number_of_rows"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-rows",dispatch:eD.lQ,id:"grid-rows",inputClassName:ta.qE,max:100,min:1,mixedMathHandler:th,onClick:a,onKeyDown:e=>{tp(e,n)},onValueChange:(e,t)=>{t?r(e):n(e)},recordingKey:g.Pt(e,"rowInput"),value:t,children:(0,i.jsx)(f.B,{svg:to.A,className:ta.QK})})});function tf({recordingKey:e,index:t,cellRow:n,cellCol:r,isLastRow:a,isHighlighted:l,isChecked:o,isInitialSize:s,mode:c,onReEnableHover:p,onCommit:u}){let h=(0,y.t)("fullscreen.properties_panel.grid.columns_and_rows",{cellCol:r,cellRow:n}),_=(0,y.t)("fullscreen.properties_panel.grid.columns_x_rows",{cellCol:r,cellRow:n}),m=g.rf(e,"click",()=>{"input"===c?p(t):"hover"===c&&u({cols:r,rows:n})});return(0,d.kc)().tv_grid_picker_radio?(0,i.jsx)(ea.c$,{"aria-label":_,className:tr,"data-idx":t,"data-tooltip":_,"data-tooltip-hide-immediately":!0,"data-tooltip-offset-y":4,"data-tooltip-timeout-delay":300,"data-tooltip-type":E.Ib.TEXT,htmlAttributes:{onClick:m,checked:o},value:`${r}x${n}`,children:(0,i.jsx)("div",{className:es()(ti,{"grid_picker--cellWrapperPadding--IcT51":(0,d.kc)().tv_grid_picker_radio&&!a}),children:(0,i.jsx)("div",{className:es()(te,{[tt]:l,[tn]:s})})})}):(0,i.jsxs)(e0.E,{className:tr,"data-idx":t,onClick:m,"data-tooltip":_,"data-tooltip-type":E.Ib.TEXT,"data-tooltip-offset-y":4,"data-tooltip-timeout-delay":300,"aria-pressed":o,children:[(0,i.jsx)("div",{className:ti,children:(0,i.jsx)("div",{className:es()(te,{[tt]:l,[tn]:s})})}),(0,i.jsx)(e5.E,{children:h})]})}let ty=r.memo(function({gridState:e,setGridState:t,onReEnableHover:n,handleGridSelectionResizeAndCommit:r,recordingKey:a,initialGridSize:l}){let o=(0,C.kl)("gridColumnCount"),s=(0,C.kl)("gridRowCount"),c=void 0!==o&&(0,R.hS)(o)?o:null,p=void 0!==s&&(0,R.hS)(s)?s:null,u=e?.mode==="hover"&&null!==e.hoveredIndex?e.hoveredIndex%12:-1,h=e?.mode==="hover"&&null!==e.hoveredIndex?Math.floor(e.hoveredIndex/12):-1,_=n=>{if(e?.mode!=="hover")return;let i=n.target,r=(0,d.kc)().tv_grid_picker_radio?i.closest("input[data-idx]"):i.closest("button[data-idx]");if(r){let n=r.getAttribute("data-idx");if(null!==n){let i=parseInt(n);isNaN(i)||i===e.hoveredIndex||t(e=>e?.mode==="hover"?{...e,hoveredIndex:i}:e)}}},m=t=>{e?.mode==="hover"&&_(t)},f=()=>{e?.mode==="hover"&&setTimeout(()=>{let e=null!==p?Math.min(p,8):null,n=null!==c?Math.min(c,12):null;t({mode:"hover",hoveredIndex:null!==e&&null!==n?(e-1)*12+n-1:null})},200)},x=e=>{let n=e.target;if(n.hasAttribute("data-idx")){let e=n.getAttribute("data-idx");if(null!==e){let n=parseInt(e);isNaN(n)||t(e=>e?"hover"===e.mode&&e.hoveredIndex!==n?{...e,hoveredIndex:n}:e:null)}}},v=n=>{let i=n.target.getAttribute("data-idx");if(!i)return;let a=parseInt(i),l=a%12,o=Math.floor(a/12),s=o,d=l;switch(n.code){case"KeyK":case"ArrowUp":s=Math.max(o-1,0);break;case"KeyJ":case"ArrowDown":s=Math.min(o+1,7);break;case"KeyH":case"ArrowLeft":d=Math.max(l-1,0);break;case"KeyL":case"ArrowRight":d=Math.min(l+1,11);break;case"Home":d=0;break;case"End":d=11;break;case"PageUp":s=0;break;case"PageDown":s=7;break;case"KeyX":{let e=s;s=d,d=e;break}case"Enter":if(e?.mode==="hover"){let e=Math.floor(a/12);r({cols:a%12+1,rows:e+1})}n.preventDefault(),n.stopPropagation();return;default:return}n.stopPropagation(),n.preventDefault();let c=12*s+d;t(e=>e?"hover"===e.mode?{...e,hoveredIndex:c}:"input"===e.mode?{mode:"hover",hoveredIndex:c}:e:null);let p=n.currentTarget.querySelector(`[data-idx='${c}']`);p?.focus()},S=(0,ee.M9)(96,t=>{let d;let c=t%12,p=Math.floor(t/12),_=c===o&&p===s;if(e?.mode==="input"){let{intermediateCols:t,intermediateRows:n}=e;d="number"==typeof t&&t>0&&"number"==typeof n&&n>0&&c<t&&p<n}else d=e?.hoveredIndex!==null&&c<=u&&p<=h;let m=null!==l&&c<l.cols&&p<l.rows;return(0,i.jsx)(tf,{cellCol:c+1,cellRow:p+1,index:t,isChecked:_,isHighlighted:d,isInitialSize:m,isLastRow:7===p,mode:e?.mode||"hover",onCommit:r,onReEnableHover:n,recordingKey:g.Pt(a,p+1,c+1)},t)}),k=void 0!==o&&void 0!==s?`${o}x${s}`:void 0;return(0,d.kc)().tv_grid_picker_radio?(0,i.jsx)(ea.bL,{value:k,className:e8,legend:(0,i.jsx)(el.q,{children:(0,y.t)("fullscreen.properties_panel.grid.grid_dimensions")}),htmlAttributes:{onPointerOver:m,onPointerLeave:f,onKeyDown:v,onFocusCapture:x},onChange:eD.lQ,children:(0,i.jsx)("div",{className:es()(e9,{"grid_picker--gridBoxesRadio--eWhtV":(0,d.kc)().tv_grid_picker_radio}),children:S})}):(0,i.jsx)("div",{className:es()(e9,e8),onPointerOver:m,onPointerLeave:f,onKeyDown:v,onFocusCapture:x,children:S})});var tx=n(746175),tv=n(268389),tS=n(302727),tC=n(101441),tk=n(809125),tE=n(205084),tT=n(506192),tw=n(721719),tI=n(954741),tb=n(454851),tj=n(826220),tN=n(328341),tA=n(850701),tR=n(675477),tO=n(746005),tL=n(386958),tM=n(852415);function tP({id:e,onClose:t,...n}){let l=(0,a.wA)(),o=(0,tO.kG)(e),s=(0,tN.ZC)(o.showing),d=(0,tM.p)(),c=(0,r.useRef)(t);c.current=t,(0,r.useEffect)(()=>{s&&!o.showing&&c.current?.()},[o.showing,s]),(0,r.useEffect)(()=>()=>c.current?.(),[]);let p=()=>{o.showing&&(o.hide(),S.Y5.deselectProperty())},u=g.Pt(n,"trigger"),{x:h,y:_}=o.initialPosition;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tB,{name:n.buttonInteractableName,children:(0,i.jsx)(tb.d,{actionOnPointerDown:!0,onClick:t=>{if(t.stopPropagation(),o.showing){p();return}let{top:n}=t.currentTarget.getBoundingClientRect(),i=tL.qo,r=d();r&&(i=window.innerWidth-r.getBoundingClientRect().left),l(tA.u1({id:e,initialX:i,initialY:n}))},"aria-expanded":!!o.showing,"aria-label":n.tooltip,recordingKey:u,htmlAttributes:{onPointerMove:()=>{o.showing&&l(tR.jD())},"data-testid":u},children:n.icon})}),o.showing?(0,i.jsx)(tF,{name:n.windowTrackableName,children:(0,i.jsx)(tj.bL,{width:n.width,onClose:p,defaultPosition:{top:_,right:h},recordingKey:g.Pt(n,"window"),children:n.children})}):null]})}function tB({children:e,name:t}){return t?(0,i.jsx)(_.E,{name:t,children:e}):(0,i.jsx)(i.Fragment,{children:e})}function tF({children:e,name:t}){return t?(0,i.jsx)(m.k,{name:t,children:e}):(0,i.jsx)(i.Fragment,{children:e})}let tH="stack_layout_details_preview--stroke--tWkNh",tK="stack_layout_details_preview--strokeLight--RsPk7",tG="stack_layout_details_preview--fill--V74cf",tD="stack_layout_details_preview--fillWhite--uTjlG",tV="stack_layout_details_preview--fillTertiary--xuwqQ",tz={reverseStackingOrder:function({enabled:e}){let t=[(0,i.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,i.jsx)("rect",{className:tD,x:"67",y:"40",width:"40",height:"40",rx:"20"}),(0,i.jsx)("path",{className:tG,d:"M88.4893 53.9091V67H87.294V55.1619H87.2173L84.1491 57.201V55.9609L87.2429 53.9091H88.4893Z"}),(0,i.jsx)("rect",{className:tH,x:"66.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"1"),(0,i.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,i.jsx)("rect",{className:tD,x:"99",y:"40",width:"40",height:"40",rx:"20"}),(0,i.jsx)("path",{className:tG,d:"M114.964 67V66.1243L119.241 61.3175C119.799 60.6868 120.248 60.1477 120.589 59.7003C120.93 59.2528 121.177 58.8395 121.331 58.4602C121.488 58.081 121.567 57.6868 121.567 57.2777C121.567 56.7791 121.45 56.3445 121.216 55.9737C120.986 55.5987 120.668 55.3068 120.263 55.098C119.858 54.8892 119.402 54.7848 118.895 54.7848C118.358 54.7848 117.888 54.8999 117.483 55.13C117.082 55.3601 116.771 55.6754 116.549 56.076C116.328 56.4766 116.217 56.9368 116.217 57.4567H115.073C115.073 56.7322 115.239 56.0909 115.571 55.5327C115.908 54.9702 116.366 54.5291 116.946 54.2095C117.53 53.8899 118.19 53.7301 118.927 53.7301C119.656 53.7301 120.304 53.8878 120.87 54.2031C121.437 54.5142 121.883 54.9382 122.206 55.4751C122.53 56.0121 122.692 56.6129 122.692 57.2777C122.692 57.7592 122.607 58.2259 122.437 58.6776C122.27 59.1293 121.983 59.6321 121.574 60.1861C121.165 60.7401 120.598 61.4176 119.873 62.2188L116.626 65.843V65.9261H123.101V67H114.964Z"}),(0,i.jsx)("rect",{className:tH,x:"98.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"2"),(0,i.jsxs)("g",{filter:"url(#reverse-stacking-order-filter)",children:[(0,i.jsx)("rect",{className:tD,x:"131",y:"40",width:"40",height:"40",rx:"20"}),(0,i.jsx)("path",{className:tG,d:"M151.048 67.179C150.243 67.179 149.522 67.0341 148.887 66.7443C148.252 66.4503 147.75 66.0433 147.379 65.5234C147.008 65.0036 146.812 64.4048 146.791 63.7273H147.999C148.02 64.2045 148.167 64.6222 148.44 64.9801C148.713 65.3338 149.075 65.6108 149.527 65.8111C149.978 66.0071 150.481 66.1051 151.035 66.1051C151.64 66.1051 152.173 65.9922 152.633 65.7663C153.098 65.5405 153.46 65.2315 153.72 64.8395C153.984 64.4432 154.116 63.9957 154.116 63.4972C154.116 62.9687 153.982 62.5021 153.713 62.0973C153.445 61.6925 153.059 61.3771 152.556 61.1513C152.058 60.9254 151.461 60.8125 150.767 60.8125H150V59.7386H150.767C151.333 59.7386 151.834 59.6364 152.269 59.4318C152.708 59.223 153.053 58.9311 153.304 58.5561C153.556 58.1811 153.681 57.7401 153.681 57.233C153.681 56.7514 153.573 56.3274 153.355 55.9609C153.138 55.5945 152.831 55.3068 152.435 55.098C152.043 54.8892 151.585 54.7848 151.061 54.7848C150.554 54.7848 150.089 54.8828 149.667 55.0788C149.245 55.2749 148.904 55.5518 148.645 55.9098C148.389 56.2678 148.252 56.6918 148.235 57.1818H147.078C147.096 56.5 147.283 55.9013 147.641 55.3857C148.003 54.8658 148.483 54.4609 149.079 54.1712C149.68 53.8771 150.345 53.7301 151.074 53.7301C151.845 53.7301 152.512 53.8878 153.074 54.2031C153.637 54.5185 154.071 54.9382 154.378 55.4624C154.689 55.9822 154.845 56.5554 154.845 57.1818C154.845 57.9276 154.642 58.5668 154.238 59.0994C153.833 59.6278 153.287 59.9943 152.601 60.1989V60.282C153.436 60.4482 154.093 60.8189 154.57 61.3942C155.051 61.9652 155.292 62.6662 155.292 63.4972C155.292 64.196 155.109 64.8246 154.743 65.3828C154.376 65.9368 153.873 66.3757 153.234 66.6996C152.599 67.0192 151.87 67.179 151.048 67.179Z"}),(0,i.jsx)("rect",{className:tH,x:"130.5",y:"39.5",width:"41",height:"41",rx:"20.5"})]},"3")];return e&&t.reverse(),(0,i.jsxs)("svg",{width:"240",height:"120",fill:"none",children:[t,(0,i.jsx)("rect",{className:tK,x:"58.5",y:"28.5",width:"123",height:"63",rx:"3.5",strokeDasharray:"4 2"}),(0,i.jsx)("defs",{children:(0,i.jsxs)("filter",{id:"reverse-stacking-order-filter",x:"-1px",y:"-1px",width:"44",height:"42",filterUnits:"objectBoundingBox",colorInterpolationFilters:"sRGB",children:[(0,i.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,i.jsx)("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),(0,i.jsx)("feOffset",{dx:"2"}),(0,i.jsx)("feComposite",{in2:"hardAlpha",operator:"out"}),(0,i.jsx)("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),(0,i.jsx)("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1112_23748"}),(0,i.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1112_23748",result:"shape"})]})})]})},alignToBaseline:function(){return(0,i.jsxs)("svg",{width:240,height:120,fill:"none",children:[(0,i.jsx)("path",{className:es()("stack_layout_details_preview--alignToBaselineLine--Erw5t","stack_layout_details_preview--strokeAssistive--GgFOd"),d:"M38 60.5h164"}),(0,i.jsxs)("g",{className:"stack_layout_details_preview--alignToBaselineA--kQYyh",children:[(0,i.jsx)("path",{className:tG,d:"M63.8516 67L65.2514 63.0561H70.7486L72.1484 67H73.4013L68.6392 53.9091H67.3608L62.5987 67H63.8516ZM65.6349 61.9822L67.9553 55.4624H68.0447L70.3651 61.9822H65.6349Z"}),(0,i.jsx)("rect",{className:tH,x:46.5,y:38.5,width:43,height:43,rx:1.5})]}),(0,i.jsx)("rect",{className:es()("stack_layout_details_preview--alignToBaselineEmpty--Z-l7O",tH),x:98.5,y:38.5,width:43,height:43,rx:1.5}),(0,i.jsxs)("g",{className:"stack_layout_details_preview--alignToBaselineG--YayQ-",children:[(0,i.jsx)("path",{className:tG,d:"M171.843 68.8864C174.169 68.8864 175.895 67.7486 175.895 65.2557V55.1818H174.783V57.0547H174.668C174.265 56.1726 173.453 55.0476 171.651 55.0476C169.222 55.0476 167.592 57.0803 167.592 60.0653C167.592 63.076 169.279 64.8977 171.632 64.8977C173.396 64.8977 174.259 63.875 174.649 62.9737H174.751V65.1854C174.751 67.0135 173.581 67.8636 171.843 67.8636C170.161 67.8636 169.356 67.0518 168.941 66.304L168.007 66.9176C168.583 68.0426 169.835 68.8864 171.843 68.8864ZM171.766 63.8558C169.816 63.8558 168.736 62.2962 168.736 60.0462C168.736 57.8345 169.797 56.0831 171.766 56.0831C173.69 56.0831 174.77 57.745 174.77 60.0462C174.77 62.4176 173.658 63.8558 171.766 63.8558Z"}),(0,i.jsx)("rect",{className:tH,x:150.5,y:38.5,width:43,height:43,rx:1.5})]}),(0,i.jsx)("rect",{className:es()("stack_layout_details_preview--alignToBaselineOutline--YlRIY",tK),x:38.5,y:30.5,width:163,height:59,rx:3.5,strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"})]})},bordersTakeSpace:function(){return(0,i.jsxs)("svg",{width:240,height:120,fill:"none",children:[(0,i.jsxs)("g",{className:"stack_layout_details_preview--bordersTakeSpaceLeft--WTfPZ",children:[(0,i.jsx)("rect",{className:tV,x:"43",y:"37",width:"48",height:"48",rx:"2"}),(0,i.jsx)("rect",{className:tD,x:"49",y:"43",width:"36",height:"36",rx:"2"})]}),(0,i.jsxs)("g",{className:"stack_layout_details_preview--bordersTakeSpaceRight--QCBF1",children:[(0,i.jsx)("rect",{className:tV,x:"98",y:"37",width:"99",height:"48",rx:"2"}),(0,i.jsx)("rect",{className:tD,x:"104",y:"43",width:"87",height:"36",rx:"2"})]}),(0,i.jsx)("rect",{className:es()("stack_layout_details_preview--bordersTakeSpaceOutline--Xq42w",tK),x:"48.5",y:"42.5",width:"143",height:"37",rx:"1.5",strokeDasharray:"4 2",vectorEffect:"non-scaling-stroke"})]})}};function tU({setting:e,enabled:t}){let n=e?tz[e]:null;return(0,i.jsx)("div",{className:es()("stack_layout_details_preview--preview---r9k-",{"stack_layout_details_preview--active--yCMB3":t}),"data-non-interactive":!0,children:n?(0,i.jsx)(n,{enabled:t}):(0,i.jsx)("div",{className:"stack_layout_details_preview--previewText--0NBYb",children:(0,y.tx)("fullscreen.properties_panel.stack_panel.preview")})})}let tW="stack_layout_details_modal--dropdownControl--PRPD5",tX="stack_layout_details_modal--input--h2Yc7",tY="stack_layout_details_modal--chevron--tW9wo";function t$(e){let[t,n]=(0,r.useState)({enabled:!1}),a=(0,y.t)("fullscreen.properties_panel.section_autoLayout.settings");return(0,i.jsx)("span",{className:ta.Sj,children:(0,i.jsx)(tP,{id:"LAYOUT_DETAILS_PICKER",tooltip:a,buttonInteractableName:"open_stack_layout_details_modal_button",windowTrackableName:"stack_layout_details_modal",icon:(0,i.jsx)(tC.P,{}),recordingKey:e.recordingKey,children:(0,i.jsxs)(tv.vo,{children:[(0,i.jsx)(tv.Y9,{children:(0,i.jsx)(tv.hE,{children:a})}),(0,i.jsx)(tv.nB,{padding:0,children:(0,i.jsx)(tZ,{hoveredSetting:t,setHoveredSetting:n,recordingKey:e.recordingKey})})]})})})}function tZ({hoveredSetting:e,setHoveredSetting:t,recordingKey:n}){let r=(0,C.kl)("stackMode");return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tU,{setting:e.setting,enabled:e.enabled}),(0,i.jsxs)("div",{className:"stack_layout_details_modal--controls--SFjhS",children:[(0,i.jsx)(tJ,{updatePreview:t,recordingKey:n}),("HORIZONTAL"===r||"VERTICAL"===r||(0,R.gl)(r))&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tQ,{updatePreview:t,recordingKey:n}),(0,i.jsx)(tq,{updatePreview:t,recordingKey:n})]})]})]})}function tQ({updatePreview:e,recordingKey:t}){let n=(0,a.wA)(),l=(0,tT.Um)(),[o,s]=(0,C.lJ)("stackReverseZIndex"),c=(0,h.am)(),p=(0,a.d4)(ei.Sh),u=tE.Gq()?.getPrimaryLocale(!0)===tx.hT.EN?120:180,m=(0,R.gl)(o),f=!0===o,x=r.useId();return(0,i.jsx)(_.E,{name:"stacking_order_control",children:(0,i.jsx)(tw.L,{label:(0,y.t)("fullscreen.properties_panel.stack_panel.canvas_stacking_order"),labelId:x,onMouseEnter:()=>e({setting:"reverseStackingOrder",enabled:f}),onMouseLeave:()=>e({enabled:!1}),children:(0,d.kc)().ce_tv_fpl_select?(0,i.jsx)("span",{className:tW,children:(0,i.jsxs)(tS.Root,{value:m?"Mixed":o?"TRUE":"FALSE",onChange:e=>{s("TRUE"===e),c(f?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:p})},onSelectionChange:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:"TRUE"===t}),recordingKey:g.Pt(t,"reverseStackingOrder"),children:[(0,i.jsx)(tS.ManuallyLabeledTrigger,{id:x,width:"fill"}),(0,i.jsxs)(tS.Container,{children:[m&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tS.Option,{value:"Mixed",disabled:!0,children:(0,y.t)("fullscreen.mixed")}),(0,i.jsx)(tS.Separator,{})]}),(0,i.jsx)(tS.Option,{value:"TRUE",children:t0.format(!0)}),(0,i.jsx)(tS.Option,{value:"FALSE",children:t0.format(!1)})]})]})}):(0,i.jsxs)(tI.l6,{ariaLabelledBy:x,chevronClassName:tY,className:tW,dispatch:n,dropdownAlignment:"right",dropdownShown:l,dropdownWidth:u,formatter:t0,id:"reverse-stacking-order-select",inputClassName:tX,onChange:e=>{s(e),c(e?"Enable reverse zIndex":"Disable reverse zIndex",{nodeIds:p})},onOptionFocus:t=>e({setting:null!=t?"reverseStackingOrder":void 0,enabled:!!t}),property:o,recordingKey:g.Pt(t,"reverseStackingOrder"),children:[(0,i.jsx)(tI.c$,{value:!0}),(0,i.jsx)(tI.c$,{value:!1})]})})})}function tq({updatePreview:e,recordingKey:t}){let n=(0,C.kl)("stackMode"),r="BASELINE"===(0,C.kl)("stackCounterAlignItems"),a="HORIZONTAL"!==n,l=(0,eB.sR)();return(0,i.jsx)(_.E,{name:"baseline_alignment_control",children:(0,i.jsx)(tk.k,{label:(0,y.t)("fullscreen.properties_panel.stack_panel.align_text_baseline"),recordingKey:g.Pt(t,"alignToBaseline"),property:r,disabled:a,onChange:t=>{l(t,"modal"),e({setting:"alignToBaseline",enabled:t})},onFocus:t=>{e({setting:"alignToBaseline",enabled:r})},onHover:(t,n)=>{e({setting:"ENTER"===n?"alignToBaseline":void 0,enabled:t})},"data-tooltip":a?(0,y.t)("fullscreen.properties_panel.stack_panel.only_applicable_for_horizontal_layout"):void 0,"data-tooltip-type":E.Ib.TEXT})})}function tJ({updatePreview:e,recordingKey:t}){let n=(0,a.wA)(),l=(0,tT.Um)(),[o,s]=(0,C.lJ)("bordersTakeSpace"),c=(0,h.am)(),p=(0,a.d4)(ei.Sh),u=(0,R.gl)(o),m=!0===o,f=r.useId();return(0,i.jsx)(_.E,{name:"borders_take_space_control",children:(0,i.jsx)(tw.L,{label:(0,y.t)("fullscreen.properties_panel.stack_panel.borders_take_space"),labelId:f,onMouseEnter:()=>e({setting:"bordersTakeSpace",enabled:m}),onMouseLeave:()=>e({enabled:!1}),children:(0,d.kc)().ce_tv_fpl_select?(0,i.jsx)("span",{className:tW,children:(0,i.jsxs)(tS.Root,{value:u?"Mixed":m?"TRUE":"FALSE",onChange:e=>{s("TRUE"===e),c("change_borders_take_space",{enabled:"TRUE"===e,source:"modal",nodeIds:p})},onSelectionChange:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:"TRUE"===t}),recordingKey:g.Pt(t,"bordersTakeSpace"),children:[(0,i.jsx)(tS.ManuallyLabeledTrigger,{id:f,width:"fill"}),(0,i.jsxs)(tS.Container,{children:[u&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tS.Option,{value:"Mixed",disabled:!0,children:(0,y.t)("fullscreen.mixed")}),(0,i.jsx)(tS.Separator,{})]}),(0,i.jsx)(tS.Option,{value:"TRUE",children:t1.format(!0)}),(0,i.jsx)(tS.Option,{value:"FALSE",children:t1.format(!1)})]})]})}):(0,i.jsxs)(tI.l6,{ariaLabelledBy:f,chevronClassName:tY,className:tW,dispatch:n,dropdownShown:l,dropdownWidth:168,formatter:t1,id:"borders-take-space-select",inputClassName:tX,onChange:e=>{s(e),c("change_borders_take_space",{enabled:e,source:"modal",nodeIds:p})},onOptionFocus:t=>e({setting:null!=t?"bordersTakeSpace":void 0,enabled:!!t}),property:m,recordingKey:g.Pt(t,"bordersTakeSpace"),children:[(0,i.jsx)(tI.c$,{value:!0}),(0,i.jsx)(tI.c$,{value:!1})]})})})}let t0={format:e=>e?(0,y.t)("fullscreen.properties_panel.stack_panel.first_on_top"):(0,y.t)("fullscreen.properties_panel.stack_panel.last_on_top")},t1={format:e=>e?(0,y.t)("fullscreen.properties_panel.stack_panel.included"):(0,y.t)("fullscreen.properties_panel.stack_panel.excluded"),formatExtended:e=>({text:e?(0,y.t)("fullscreen.properties_panel.stack_panel.included_in_layout"):(0,y.t)("fullscreen.properties_panel.stack_panel.excluded_from_layout")})};var t5=n(278200),t2=n(504621);function t4({recordingKey:e}){let t=function(e){let t=(0,a.d4)(ei.Sh),n=1===t.length&&t[0]?t[0]:"";return(0,eQ.Fk)((t,n)=>{let i=t.get(n);return i?"PARENT"===e&&i.isGrid?n:"CHILD"===e&&i.isGridChild?n:null:null},n)}("CHILD"),n=(0,eQ.Fk)((e,t)=>{if(!t)return null;let n=e.get(t);return n&&n.isGridChild?{rowAnchorIndex:n.gridRowAnchorIndex,columnAnchorIndex:n.gridColumnAnchorIndex,rowSpan:n.gridRowSpan,columnSpan:n.gridColumnSpan}:null},t),l=(0,r.useCallback)((e,t)=>{s.l7.user("grid-panel",()=>{o.HV5&&t>=0&&o.HV5.setTrackAnchor(e,t)})},[]),d=(0,r.useCallback)((e,n)=>{null!==t&&s.l7.user("grid-panel",()=>{let i=(0,eX.getActiveTSSceneGraph)(),r=i.get(t),a=r&&r.parentGuid&&i.get(r.parentGuid);r&&a&&n>=1&&(e===o.CXS.ROW?r.gridRowAnchorIndex+n<=a.gridRowCount&&(r.gridRowSpan=n):r.gridColumnAnchorIndex+n<=a.gridColumnCount&&(r.gridColumnSpan=n))})},[t]);return(0,ed.wx)()?null:t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:(0,i.jsx)(P.Ht,{value:n?.rowAnchorIndex??void 0,onValueChange:e=>l(o.CXS.ROW,e),recordingKey:g.Pt(e,"grid-rows"),id:"grid-rows",dispatch:eD.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.row_index"),children:(0,i.jsx)("span",{className:`${ta.QK} svg`,children:(0,y.t)("fullscreen.properties_panel.grid_panel.r")})}),rightInput:(0,i.jsx)(P.Ht,{value:n?.columnAnchorIndex??void 0,onValueChange:e=>l(o.CXS.COLUMN,e),recordingKey:g.Pt(e,"grid-columns"),id:"grid-columns",dispatch:eD.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.column_index"),children:(0,i.jsx)("span",{className:`${ta.QK} svg`,children:(0,y.t)("fullscreen.properties_panel.grid_panel.c")})}),icon:null}),(0,i.jsx)(p.fn,{leftLabel:"Rows",rightLabel:"Columns",leftInput:(0,i.jsx)(P.Ht,{value:n?.rowSpan,onValueChange:e=>d(o.CXS.ROW,e),recordingKey:g.Pt(e,"grid-rows"),id:"grid-rows",dispatch:eD.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.vertical_span"),children:(0,i.jsx)(f.B,{svg:t2.A,className:ta.QK})}),rightInput:(0,i.jsx)(P.Ht,{value:n?.columnSpan,onValueChange:e=>d(o.CXS.COLUMN,e),recordingKey:g.Pt(e,"grid-columns"),id:"grid-columns",dispatch:eD.lQ,"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.horizontal_span"),children:(0,i.jsx)(f.B,{svg:t5.A,className:ta.QK})}),icon:null})]}):null}function t6({recordingKey:e}){let t=(0,eQ.Fk)(e=>{let t=e.getDirectlySelectedNodes();if(1!==t.length)return null;let n=t[0];if(!n||!n.isGridChild||"ABSOLUTE"===n.stackPositioning)return null;let i=n.parentNode;if(!i||!i.isGrid)return null;let r=i.gridRowSizesInOrder[n.gridRowAnchorIndex],a=i.gridColumnSizesInOrder[n.gridColumnAnchorIndex];return r&&a?{gridChildId:n.guid,rowSpan:n.gridRowSpan,columnSpan:n.gridColumnSpan,maxRowSpan:i.gridRowCount-n.gridRowAnchorIndex,maxColumnSpan:i.gridColumnCount-n.gridColumnAnchorIndex}:null}),n=(0,eY.S)({min:1,max:t?.maxColumnSpan}),a=(0,eY.S)({min:1,max:t?.maxRowSpan}),l=(0,r.useCallback)((e,n,i)=>{null!==t&&null!==t.gridChildId&&s.l7.user("grid-panel",()=>{let r=(0,eX.getActiveTSSceneGraph)().get(t.gridChildId),a=r&&r.parentNode;r&&a&&(r.setSpanAndUpdateChildPositions(e,n),i&&S.Y5.triggerAction("commit"))})},[t]);return t?(0,i.jsx)(p.fn,{leftLabel:(0,y.t)("fullscreen.properties_panel.grid.column_span"),rightLabel:(0,y.t)("fullscreen.properties_panel.grid.row_span"),leftInput:(0,i.jsx)(e$.N,{"aria-label":(0,y.t)("fullscreen.properties_panel.grid.column_span"),formatter:n,value:t.columnSpan,onChange:(e,{commit:t})=>{l(o._0v.X,e,t)},icon:(0,i.jsx)(eV,{}),recordingKey:g.Pt(e,"gridColumnSpan"),"data-testid":"grid-column-span-input"}),rightInput:(0,i.jsx)(e$.N,{"aria-label":(0,y.t)("fullscreen.properties_panel.grid.row_span"),formatter:a,value:t.rowSpan,onChange:(e,{commit:t})=>{l(o._0v.Y,e,t)},icon:(0,i.jsx)(ez,{}),recordingKey:g.Pt(e,"gridRowSpan"),"data-testid":"grid-row-span-input"}),icon:null}):null}function t7({recordingKey:e,isSelectionStackOrGrid:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,d.kc)().ce_tv_grid_ga&&(0,i.jsx)(t6,{recordingKey:e}),t&&(0,i.jsx)(t3,{recordingKey:e}),(0,d.kc)().ce_tv_grid_experimental&&(0,i.jsx)(t4,{recordingKey:e})]})}function t3({recordingKey:e}){let t=(0,C.kl)("isInstanceSelected"),n=(0,C.kl)("isNonEditableInstanceSublayerSelected");return"GRID"!==(0,C.kl)("stackMode")?null:(0,i.jsx)(X.iZ,{leftLabel:(0,y.t)("fullscreen.properties_panel.stack_panel.grid"),rightLabel:(0,y.t)("fullscreen.properties_panel.section_autoLayout.label_gap"),leftInput:(0,i.jsx)(tc,{recordingKey:g.Pt(e,"gridPicker"),disabled:!!(t||n)}),topRightInput:(0,i.jsx)(t9,{recordingKey:g.Pt(e,"gridColumnSpacingControl")}),bottomRightInput:(0,i.jsx)(nt,{recordingKey:g.Pt(e,"gridRowSpacingControl")}),topIcon:(0,i.jsx)(t$,{recordingKey:g.Pt(e,"stackLayoutDetails")}),bottomIcon:null})}let t8=["GRID_COLUMN_GAP"];function t9({recordingKey:e}){let t=(0,ed.Wx)(),n=(0,ed.Y9)(),{bigNudgeAmount:a,smallNudgeAmount:l}=(0,eZ.sT)(),[c,p]=(0,C.lJ)("gridColumnGap"),u=r.useCallback((e,t)=>{s.l7.user("grid-panel",()=>{(0,R.SX)(e)||p(e,t)})},[p]),h=(0,i.jsx)(P.$j,{bigNudgeAmount:a,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.gap_between_columns"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-col-spacing-control",dispatch:eD.lQ,inputClassName:ta.hF,isTokenizable:!0,noBorderOnHover:!0,onBlur:()=>t(o.RN9.SPACING,!1),onFocus:()=>t(o.RN9.SPACING,!0),onMouseEnter:()=>n(o.RN9.SPACING,!0),onMouseLeave:()=>n(o.RN9.SPACING,!1),onScrubBegin:()=>t(o.RN9.SPACING,!0),onScrubEnd:()=>t(o.RN9.SPACING,!1),onValueChange:u,recordingKey:e,smallNudgeAmount:l,value:c??0,children:(0,i.jsx)(eU.E,{className:ta.QK})});return(0,d.kc)().grid_gap_vars?(0,i.jsx)(eq.sA,{fields:t8,resolvedType:o.rXF.FLOAT,currentFieldValue:(0,R.hS)(c)?c:void 0,children:h}):h}let ne=["GRID_ROW_GAP"];function nt({recordingKey:e}){let t=(0,ed.Wx)(),n=(0,ed.Y9)(),{bigNudgeAmount:a,smallNudgeAmount:l}=(0,eZ.sT)(),[c,p]=(0,C.lJ)("gridRowGap"),u=r.useCallback((e,t)=>{s.l7.user("grid-panel",()=>{(0,R.SX)(e)||p(e,t)})},[p]),h=(0,i.jsx)(P.$j,{bigNudgeAmount:a,"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.gap_between_rows"),"data-tooltip-type":E.Ib.TEXT,dataTestId:"grid-row-spacing-control",dispatch:eD.lQ,inputClassName:ta.hF,isTokenizable:!0,noBorderOnHover:!0,onBlur:()=>t(o.RN9.COUNTER_SPACING,!1),onFocus:()=>t(o.RN9.COUNTER_SPACING,!0),onMouseEnter:()=>n(o.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(o.RN9.COUNTER_SPACING,!1),onScrubBegin:()=>t(o.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(o.RN9.COUNTER_SPACING,!1),onValueChange:u,recordingKey:e,smallNudgeAmount:l,value:c??0,children:(0,i.jsx)(eW.W,{className:ta.QK})});return(0,d.kc)().grid_gap_vars?(0,i.jsx)(eq.sA,{fields:ne,resolvedType:o.rXF.FLOAT,currentFieldValue:(0,R.hS)(c)?c:void 0,children:h}):h}var nn=n(936774),ni=n(224781),nr=n(4921),na=n(962856),nl=n(771882),no=n(554730),ns=n(166612),nd=n(790009),nc=n(324109),np=n(299117),nu=n(795033),nh=n(190028),ng=n(653899),n_=n(755444),nm=n(244205),nf=n(422872),ny=n(381059),nx=n(143277),nv=n(381888),nS=n(61102),nC=n(654200),nk=n(441030);let nE="grid-onboarding-key";function nT(){let e=(0,nu.md)(ny.Fy),t=(0,nu.md)(ny.mp),{show:n,isShowing:r,complete:a}=(0,nf.e)({overlay:nk.c$$,priority:nx.N.SECONDARY_MODAL},[e,t]);(0,ng.h)(()=>{n({canShow:(e,t)=>e&&null!=t&&(0,nh.A)(t).isBefore("2025-05-07")})});let l=()=>{a()};return(0,i.jsx)(nS.rq,{arrowPosition:nC.F_.RIGHT_BODY,description:(0,y.tx)("fullscreen.grid_onboarding.body"),disableHighlight:!0,isShowing:r,media:(0,i.jsx)(nv.y,{src:(0,n_.ck)("2e525d09f6957555822a1b327dea20c644cea10d"),alt:"A GIF demonstrating a frame with grid layout applied.",aspectRatio:16/9}),onClose:l,onTargetLost:l,pointToLeftEdge:!0,primaryCta:{label:(0,y.tx)("general.got_it"),type:"button",onClick:l,ctaTrackingDescriptor:nm.c.GOT_IT},secondaryCta:{label:(0,y.tx)("general.learn_more"),type:"link",href:"https://help.figma.com/hc/articles/31289469907863",ctaTrackingDescriptor:nm.c.LEARN_MORE},targetKey:nE,title:(0,i.jsx)("p",{"data-testid":"grid-onboarding-title",children:(0,y.tx)("fullscreen.grid_onboarding.title")}),trackingContextName:"Grid Onboarding"})}var nw=n(84567),nI=n(564941);function nb(){return(0,c.R)(e=>{let{mirror:{appModel:t,selectionProperties:{propertiesPanelShouldShowRemoveAutoLayout:n,propertiesPanelShouldShowAddAutoLayout:i,containsStacksNeedingAlignmentMigration:r,stackMode:a,stackWrap:l}}}=e;return{showMigrationUi:r,actionEnabledStackSelection:(0,nI.Yh)(t,"stack-selection"),actionEnabledMultiStackSelection:(0,nI.Yh)(t,"run-multi-stack-auto-layout"),actionEnabledUnstackSelection:(0,nI.Yh)(t,"unstack-selection"),propertiesPanelShouldShowRemoveAutoLayout:n,propertiesPanelShouldShowAddAutoLayout:i,wrappingEnabled:("HORIZONTAL"===a||(0,R.gl)(a))&&("WRAP"===l||(0,R.gl)(l))}})}var nj=n(691201),nN=n(179975),nA=n(299062);function nR({recordingKey:e,isSelectionStackOrGrid:t}){let n=(0,C.kl)("stackMode"),r=(0,a.d4)(ei.Sh),l=(0,w.b7)(),o=(0,a.d4)(e=>(0,w.aW)(void 0,e.mirror.selectionProperties,void 0)),s=(0,C.kl)("isInstanceSelected"),d=(0,C.kl)("isSlotSelected"),c=!!(0,C.kl)("isSlotDefinitionSelected"),u=(0,C.kl)("nodesAllAcceptLayoutChanges"),h=r.length>1,{propertiesPanelShouldShowAddAutoLayout:g,propertiesPanelShouldShowRemoveAutoLayout:_}=nb(),{isNoLayoutControlReadOnly:m,isStackControlReadOnly:x,isGridControlReadOnly:v}=function(){let e=(0,er.cJ)(),t=(0,a.d4)(ei.F4),n=(0,eX.getActiveTSSceneGraph)(),i={isNoLayoutControlReadOnly:!1,isStackControlReadOnly:!1,isGridControlReadOnly:!1};if(!n||!e||!nw.e)return i;for(let e of t){if(e.isInPrimaryBreakpointFrame)return{isNoLayoutControlReadOnly:!1,isStackControlReadOnly:!1,isGridControlReadOnly:!1};{let t=e.primaryGluedNodeId;if(t){let r=n.get(t);if(r&&r.visible&&(e.isGrid?(i.isNoLayoutControlReadOnly=!0,i.isStackControlReadOnly=!0):(e.isStack?i.isNoLayoutControlReadOnly=!0:i.isStackControlReadOnly=!0,i.isGridControlReadOnly=!0),i.isNoLayoutControlReadOnly&&i.isStackControlReadOnly&&i.isGridControlReadOnly))break}}}return i}(),k=function(){let e=(0,C.kl)("isSlotDefinitionSelected");return(0,nc.$)()&&e?{"data-tooltip":(0,y.t)("fullscreen.properties_panel.grid.disabled_for_slots"),"data-tooltip-type":E.Ib.TEXT}:{"data-tooltip":nL,"data-tooltip-type":E.Ib.SPECIAL}}();return(o||t)&&(u||s||d)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.DE,{input:(0,i.jsxs)(ni.bL,{value:h&&!l&&g&&!_?R.oV:n,readonly:!o,onChange:e=>{"NONE"===e?S.Y5.triggerActionInUserEditScope("unstack-selection",{source:"panel"}):S.Y5.triggerActionInUserEditScope("stack-selected-nodes",{source:"panel",stackMode:e})},recordingKey:"layout",legend:(0,i.jsx)(el.q,{children:(0,y.t)("fullscreen.properties_panel.stack_panel.layout")}),htmlAttributes:{"data-onboarding-key":nE},children:[(0,i.jsx)(ni.c$,{value:"NONE",readonly:!o||m||void 0,icon:(0,i.jsx)(nl.x,{"data-testid":"Icon24AlLayoutGridNoneSmall"}),"aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.freeform")}),(0,i.jsx)(ni.c$,{value:"VERTICAL",readonly:!o||x||void 0,icon:(0,i.jsx)(no.z,{"data-testid":"Icon24AlLayoutGridVerticalSmall"}),"aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.vertical")}),(0,i.jsx)(ni.c$,{value:"HORIZONTAL",readonly:!o||x||void 0,icon:(0,i.jsx)(ns.Z,{"data-testid":"Icon24AlLayoutGridHorizontalSmall"}),"aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.horizontal")}),(0,i.jsx)(ni.c$,{value:"GRID",readonly:!o||!l||v||c||void 0,icon:(0,i.jsx)(f.B,{svgClassName:nj.m7,svg:nN.A,dataTestId:"gridLayoutIcon"}),"aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.grid"),htmlAttributes:{...k}})]}),icon:(0,i.jsx)(nO,{recordingKey:e}),label:(0,y.t)("fullscreen.properties_panel.grid.flow")}),(0,i.jsx)(np.p,{children:(0,i.jsx)(nT,{})})]}):null}function nO(e){let t=(0,C.kl)("stackMode"),n=(0,C.kl)("stackWrap"),r=(0,h.am)(),l=(0,a.d4)(ei.Sh),d=(0,a.d4)(e=>(0,w.aW)(void 0,e.mirror.selectionProperties,void 0));return"HORIZONTAL"!==t?null:(0,i.jsx)(nr.f,{variant:"highlighted","aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.wrap"),checked:"WRAP"===n,disabled:!d,onIcon:(0,i.jsx)(f.B,{svg:nA.A}),offIcon:(0,i.jsx)(f.B,{svg:nA.A}),onChange:()=>{let e="WRAP"===n?"HORIZONTAL":"WRAP";r("Stack Mode Changed",{newStackWrap:e,nodeIds:l}),s.l7.user("set-stack-mode",()=>o.Qa7?.setStackModeAndFlipPrimaryAndCounterAxisValues(e))},recordingKey:g.Pt(e,"stackWrap")})}let nL=(0,q.ex)("grid_beta_special_tooltip",function({gridString:e,betaString:t}){return(0,i.jsxs)("span",{className:nj.Hh,children:[e,(0,i.jsx)(nd.J,{mode:"light",children:(0,i.jsx)(na.E,{variant:"inverseFilled",children:t})})]})},e=>({gridString:(0,y.t)("fullscreen.properties_panel.stack_panel.grid"),betaString:(0,y.t)("general.beta")}));var nM=n(94906),nP=n(34246);function nB({recordingKey:e}){let[t,n]=(0,r.useState)(!1),[l,s]=(0,r.useState)(!1),d=(0,nP.U)();(0,k.f4)(e=>{let{stackHorizontalPadding:t,stackPaddingRight:i,stackVerticalPadding:r,stackPaddingBottom:a}=e.mirror.selectionProperties,l=(0,R.q)(t,i),o=(0,R.q)(r,a);n((0,R.gl)(l)||(0,R.gl)(o)||d)});let c=(0,h.am)(),p=(0,a.d4)(ei.Sh),u=(0,i.jsx)(tb.d,{onClick:()=>{n(!t),o.Qa7.setFocusStackPanelInput(o.RN9.PADDING_ALL,!1),c(t?"Disable autolayout independent padding":"Enable autolayout independent padding",{nodeIds:p})},"aria-expanded":t,actionOnPointerDown:!0,"aria-label":(0,y.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),recordingKey:g.Pt(e,"showAllPaddingControls"),htmlAttributes:{"data-tooltip":(0,y.t)("fullscreen.properties_panel.stack_panel.independent_paddings"),"data-tooltip-type":E.Ib.TEXT,"data-test-id":"stack-padding-toggle"},children:(0,i.jsx)(nM.s,{})});return(0,i.jsx)(_.E,{name:"stack_padding_controls",children:(0,i.jsx)(nF,{showAllPaddingControls:t,showSinglePaddingControl:l,setShowSinglePaddingControl:s,recordingKey:e,handleClick:function(e){(0,Q.Fo)(e)&&s(!0)},showAllPaddingControlsToggle:u})})}function nF({showAllPaddingControls:e,showSinglePaddingControl:t,setShowSinglePaddingControl:n,recordingKey:r,handleClick:a,showAllPaddingControlsToggle:l}){return(0,i.jsx)(X.W7,{bottomIcon:null,collapsedLeftInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.HORIZONTAL,onClick:a,recordingKey:r,inputTestId:"padding-horizontal"}),collapsedRightInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.VERTICAL,onClick:a,recordingKey:r,inputTestId:"padding-vertical"}),expandedBottomLeftInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.RIGHT,onClick:a,recordingKey:r}),expandedBottomRightInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.BOTTOM,onClick:a,recordingKey:r}),expandedTopLeftInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.LEFT,onClick:a,recordingKey:r}),expandedTopRightInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.TOP,onClick:a,recordingKey:r}),leftLabel:(0,y.tx)("fullscreen.properties_panel.section_autoLayout.label_padding"),rightLabel:null,showAllPaddingControls:e,showSinglePaddingControl:t,singleInput:(0,i.jsx)(nH,{paddingSelection:ed.mx.ALL,focusOnMount:!0,recordingKey:r,setShowSinglePaddingControl:n}),topIcon:l})}function nH({className:e,paddingSelection:t,recordingKey:n,inputTestId:r,onClick:a,onBlur:l,focusOnMount:s,setShowSinglePaddingControl:d}){let c=(0,ed.Wx)(),p=(0,ed.Y9)();return(0,i.jsx)(nP.s,{focusOnMount:s,inputTestId:r,onBlur:e=>{o.Qa7.setFocusStackPanelInput(t,!1),l?.(e)},onClick:a,onFocus:()=>o.Qa7.setFocusStackPanelInput(t,!0),onMouseEnter:()=>p(t,!0),onMouseLeave:()=>p(t,!1),onNudge:()=>o.glU.temporarilyHideOverlay(o.hJs.SELECTION),onScrubBegin:()=>c(t,!0),onScrubEnd:()=>c(t,!1),outerClassName:e,paddingSelection:t,recordingKey:g.Pt(n,"stackPadding",ed.mx[t]),setShowSinglePaddingControl:d,source:"panel"})}var nK=n(419282),nG=n(739268);function nD(e){let{propertiesPanelShouldShowRemoveAutoLayout:t}=nb(),n=t?(0,y.t)("fullscreen.properties_panel.stack_panel.remove_auto_layout"):(0,y.t)("fullscreen.properties_panel.stack_panel.use_auto_layout"),{actionEnabledStackSelection:a,actionEnabledUnstackSelection:l}=nb(),o=t?l:a,s=t?"unstack-selection":"stack-selection",d=(0,r.useCallback)(()=>{S.Y5.triggerActionInUserEditScope(s,{source:"panel"})},[s]);return(0,i.jsx)(nr.f,{checked:t,variant:"highlighted","aria-label":(0,y.t)("fullscreen.accessibility.auto_layout_toggled"),onIcon:(0,i.jsx)(nV,{}),offIcon:(0,i.jsx)(nV,{}),onChange:d,disabled:!o,recordingKey:g.Pt(e.recordingKey,t?"removeButton":"addButton"),htmlAttributes:{"data-tooltip":n,"data-tooltip-type":E.Ib.TEXT,"data-tooltip-shortcut-key":s}})}function nV(){let{propertiesPanelShouldShowRemoveAutoLayout:e}=nb();return e?(0,i.jsx)(nG.v,{}):(0,i.jsx)(nK.Q,{})}var nz=n(259595),nU=n(388041);function nW(e){return(0,i.jsx)(u.l,{id:"StackPanelV4",children:(0,i.jsx)(m.k,{name:"stack_panel",children:(0,i.jsx)("div",{className:"displayContents","data-test-id":"stack_panel",children:(0,i.jsx)(nX,{...e})})})})}let nX=r.memo(e=>(0,i.jsx)(nY,{...e}));function nY({onlyStacksAndGridsSelected:e,onlyShowResizingRow:t,hideToggleButton:n,recordingKey:r,disabled:l=!1,showBuzzTemplateType:o=!1}){let s=e?(0,y.tx)("fullscreen.properties_panel.stack_panel.auto_layout"):(0,y.tx)("fullscreen.properties_panel.stack_panel.layout"),d=(0,C.kl)("numSelectedByType"),c=!!d&&(0,v.Kl)(d,["CODE_INSTANCE","CODE_LAYER","CODE_COMPONENT","CODE_FILE","CODE_LIBRARY"]),p=(0,a.d4)(e=>(0,w.aW)(void 0,e.mirror.selectionProperties,void 0)),u=(0,w.Ti)();return(0,i.jsxs)(I.Zk,{"data-onboarding-key":Y.W,children:[(0,i.jsxs)(W.Wv,{titleTx:s,children:[u&&(0,i.jsx)(T.hw,{recordingKey:g.Pt(r,"frameFitButton")}),!n&&p&&(0,i.jsx)(nD,{recordingKey:r})]}),(0,i.jsx)(n$,{onlyStacksAndGridsSelected:e,onlyShowResizingRow:c||t,recordingKey:r,disabled:l,showBuzzTemplateType:o})]})}let n$=r.memo(function({onlyStacksAndGridsSelected:e,onlyShowResizingRow:t,recordingKey:n,disabled:l,showBuzzTemplateType:o}){let{showMigrationUi:s,wrappingEnabled:c}=nb(),u=(0,B.Df)(),h=(0,C.kl)("stackMode"),_=(0,r.useRef)(null),m=(0,C.kl)("nodesAreAllInsideStacks"),f=(0,ed.rX)(),{hasSelectedText:v,disableFontControls:S,enabledTypePanelControls:k,textAutoResize:E}=(0,U.SA)(),T=(0,d.kc)().ce_tv_grid_min_max?f:e||m,I=(0,a.d4)(e=>(0,w.aW)(void 0,e.mirror.selectionProperties,void 0)),j="transformPanel",N=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z.Ws,{recordingKey:j,forwardedRef:_,disabled:l}),(0,i.jsx)(V.J,{visible:!!T,widthHeightRowRef:_})]}),A=u.fixedFrameOptions&&(0,i.jsx)(b.u,{recordingKey:n}),R=v&&(0,i.jsx)(U.fB,{disabled:S,enabledTypePanelControls:k,textAutoResize:E,recordingKey:n}),O=(0,ed.o0)(),L=(0,i.jsx)(H,{recordingKey:j}),M=(0,i.jsx)(t7,{recordingKey:n,isSelectionStackOrGrid:e}),P=(0,i.jsx)(nR,{recordingKey:n,isSelectionStackOrGrid:e}),F=o?(0,i.jsx)(p.DE,{icon:null,input:(0,i.jsx)(x.k,{isAssetPanel:!0}),label:(0,y.tx)("cooper.properties_panel.asset_size.title")}):null;return!e||t?(0,i.jsxs)(i.Fragment,{children:[I&&P,F,R,N,M,L,A]}):s?(0,i.jsx)(nQ,{}):(0,i.jsxs)(i.Fragment,{children:[P,F,N,M,O&&(0,i.jsx)(X.iZ,{leftLabel:(0,y.tx)("fullscreen.properties_panel.section_autoLayout.label_alignment"),leftInput:(0,i.jsx)(eH,{recordingKey:g.Pt(n,"alignment")}),rightLabel:(0,y.tx)("fullscreen.properties_panel.section_autoLayout.label_gap"),topRightInput:(0,i.jsx)(nq,{recordingKey:n}),bottomRightInput:c&&(0,i.jsx)(nJ,{recordingKey:n}),topIcon:e&&(0,i.jsx)(t$,{recordingKey:g.Pt(n,"stackLayoutDetails")}),bottomIcon:null}),"NONE"!==h&&(0,i.jsx)(nB,{recordingKey:n}),L,(0,i.jsx)(b.u,{recordingKey:n})]})}),nZ=!1;function nQ(){let e;let t=(0,h.am)(),[n,a]=(0,r.useState)(!1),{isOrInInstance:d,containsComponents:p}=(0,c.R)(e=>{let{isInstanceSelected:t,isInstanceSublayerSelected:n,numSelectedByType:i}=e.mirror.selectionProperties;return{isOrInInstance:!!(t||n),containsComponents:!!i&&!!i.SYMBOL}});(0,r.useEffect)(()=>{nZ||(t("stack_v2_migration_info_shown"),nZ=!0)},[t]),(0,k.f4)(()=>{a(!1)});let u=(0,r.useCallback)(()=>{let e=o.AlE.getActiveCanvas();s.l7.user("update-stack-to-alv3",()=>{o.Qa7.updateStackToAutoLayoutV3(e,o.Ez5.bigNudgeAmount())}),S.Y5.triggerAction("commit"),a(!0),t("stack_v2_migration_updated")},[t]),g=(0,r.useCallback)(e=>{S.Y5.triggerActionInUserEditScope("undo"),a(!1)},[]);if(n)return(0,i.jsxs)(I.fI,{className:ta.A5,children:[(0,i.jsx)("span",{className:ta.Yv,children:(0,y.tx)("fullscreen.properties_panel.stack_panel.auto_layout_updated")}),(0,i.jsx)("span",{className:ta.QP,children:(0,i.jsx)(l.$n,{variant:"ghost",onClick:g,children:(0,y.tx)("fullscreen.properties_panel.stack_panel.undo")})})]});let _=o.AlE.getActiveCanvas(),m=o.Qa7.isOrInInstanceWithDeprecatedAlignmentOverride(_);return e=d?m?(0,y.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance_overrides"):(0,y.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_instance"):p?(0,y.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version_components"):(0,y.t)("fullscreen.properties_panel.stack_panel.tooltip_old_version"),(0,i.jsxs)(I.fI,{className:ta.A5,children:[(0,i.jsxs)("div",{className:ta.Yv,children:[(0,y.tx)("fullscreen.properties_panel.stack_panel.new_auto_layout_version_available"),(0,i.jsx)(f.B,{className:ta.zp,svg:nU.A,"data-tooltip-type":E.Ib.SPECIAL,"data-tooltip":J,"data-tooltip-interactive":!0,"data-tooltip-show-immediately":!0,"data-tooltip-text":e})]}),(0,i.jsx)("span",{className:ta.Z6,children:(0,i.jsx)(l.IK,{variant:"secondary",onClick:u,disabled:d&&!m,children:(0,y.tx)("fullscreen.properties_panel.stack_panel.update")})})]})}function nq(e){let t=(0,ed.Wx)(),n=(0,ed.Y9)();return(0,i.jsx)(_.E,{name:"stack_spacing_control",children:(0,i.jsx)(nz.KI,{onBlur:()=>t(o.RN9.SPACING,!1),onFocus:()=>t(o.RN9.SPACING,!0),onMouseEnter:()=>n(o.RN9.SPACING,!0),onMouseLeave:()=>n(o.RN9.SPACING,!1),onNudge:()=>o.glU.temporarilyHideOverlay(o.hJs.SELECTION),onScrubBegin:()=>t(o.RN9.SPACING,!0),onScrubEnd:()=>t(o.RN9.SPACING,!1),onboardingKey:"stack-spacing-input",recordingKey:g.Pt(e,"stackSpacing"),source:"panel"})})}function nJ(e){let t=(0,ed.Wx)(),n=(0,ed.Y9)();return(0,i.jsx)(_.E,{name:"stack_counter_spacing_input",children:(0,i.jsx)(nn.q,{inputTestId:"stack-counter-spacing",onBlur:()=>t(o.RN9.COUNTER_SPACING,!1),onFocus:()=>t(o.RN9.COUNTER_SPACING,!0),onMouseEnter:()=>n(o.RN9.COUNTER_SPACING,!0),onMouseLeave:()=>n(o.RN9.COUNTER_SPACING,!1),onNudge:()=>o.glU.temporarilyHideOverlay(o.hJs.SELECTION),onScrubBegin:()=>t(o.RN9.COUNTER_SPACING,!0),onScrubEnd:()=>t(o.RN9.COUNTER_SPACING,!1),recordingKey:g.Pt(e,"stackCounterSpacing"),source:"panel"})})}},28446:(e,t,n)=>{n.d(t,{J:()=>O});var i=n(104076),r=n(716976),a=n(798879),l=n(14069);let o=(0,r.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"m11.854 10.854 2-2a.5.5 0 0 0-.708-.708L12 9.293V5.5a.5.5 0 0 0-1 0v3.793L9.854 8.146a.5.5 0 1 0-.708.708l2 2a.5.5 0 0 0 .708 0m0 3.292 2 2a.5.5 0 0 1-.708.708L12 15.707V19.5a.5.5 0 0 1-1 0v-3.793l-1.146 1.147a.5.5 0 0 1-.708-.708l2-2a.5.5 0 0 1 .708 0M5.5 12a.5.5 0 0 0 0 1h12a.5.5 0 0 0 0-1z",clipRule:"evenodd"})})}),s=(0,r.memo)(function(e){return(0,i.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,i.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",fillRule:"evenodd",d:"M6.5 5a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zm0 13a.5.5 0 0 0 0 1h10a.5.5 0 0 0 0-1zm4.646-10.854a.5.5 0 0 1 .708 0l2.5 2.5a.5.5 0 0 1-.708.708L12 8.707v6.586l1.646-1.647a.5.5 0 0 1 .708.708l-2.5 2.5a.5.5 0 0 1-.708 0l-2.5-2.5a.5.5 0 0 1 .708-.708L11 15.293V8.707l-1.646 1.647a.5.5 0 0 1-.708-.708z",clipRule:"evenodd"})})});var d=n(266808),c=n(980852),p=n(795033),u=n(228172),h=n(560809),g=n.n(h),_=n(385446),m=n.n(_),f=n(641518),y=n(192075),x=n(354114),v=n(553065),S=n(567862),C=n(754446),k=n(74620),E=n(863995),T=n(777807),w=n(954741),I=n(211264),b=n(425045),j=n(259595),N=n(924837),A=n(387271),R=n(758052);function O(e){let t=(0,b.Wr)(),n=function(){let[e,t]=(0,p.fp)(b.Kl),n=(0,b.Wr)(),i=(0,k.KH)(),a=(0,r.useMemo)(()=>({selection:i,height:{max:n.height.max.value,min:n.height.min.value},width:{max:n.width.max.value,min:n.width.min.value},visibleState:e}),[n.height.max.value,n.height.min.value,n.width.max.value,n.width.min.value,i,e]),l=function(e){let t=(0,r.useRef)(e),n=t.current;return t.current=e,n}(a),o=(0,C.kl)("aspectRatioLockToggled"),s=(0,r.useMemo)(()=>{if(l.selection!==a.selection||!o)return e;let t=g()(e);for(let e of["min","max"]){let n=!a.visibleState.height[e]&&l.visibleState.height[e]||!a.visibleState.width[e]&&l.visibleState.width[e];if(o&&n){t.height[e]=!1,t.width[e]=!1;continue}let i=a.visibleState.width[e]||a.visibleState.height[e];if(o&&i){t.height[e]=!0,t.width[e]=!0;continue}let r=a.height[e]&&a.height[e]!==l.height[e]&&!a.visibleState.height[e],s=a.width[e]&&a.width[e]!==l.width[e]&&!a.visibleState.width[e];if(r||s){t.height[e]=!0,t.width[e]=!0;continue}}return t},[a,l,o,e]);return(0,r.useEffect)(()=>{m()(s,e)||t(s)},[s,e,t]),s}(),a=(0,p.md)(b.Md),l=(0,b.Fp)(),o=(0,r.useRef)(null),s=!e.visible||!(0,b.tH)(n),d=(0,C.kl)("aspectRatioLockToggled");if((0,b.Nu)(!s,()=>l("minmax",null,b.qi.YES),o,e.widthHeightRowRef),s)return null;let c=0,h=0,_=[];function f(e){let t=null!=a&&a.widthOrHeight===e.widthOrHeight&&a.minOrMax===e.minOrMax;return"width"===e.widthOrHeight&&d?(0,i.jsxs)("div",{className:R.BG,children:[(0,i.jsx)(N.W,{shouldAnimateIn:!1}),(0,i.jsx)(M,{minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`},`${e.widthOrHeight}-${e.minOrMax}`)]}):(0,i.jsx)(M,{minMaxApi:e,shouldFocus:t,recordingKey:`minMaxDropdown.${e.minOrMax}${e.widthOrHeight}`},`${e.widthOrHeight}-${e.minOrMax}`)}function x(e){switch(e.minOrMaxWidthOrHeight){case"minWidth":return(0,y.tx)("properties.label.min_width");case"maxWidth":return(0,y.tx)("properties.label.max_width");case"minHeight":return(0,y.tx)("properties.label.min_height");case"maxHeight":return(0,y.tx)("properties.label.max_height")}}n.width.min&&(c++,_.push(t.width.min)),n.width.max&&(c++,_.push(t.width.max)),n.height.min&&(h++,_.push(t.height.min)),n.height.max&&(h++,_.push(t.height.max));let v=_.map(f),S=_.map(x);if(c+h===1){let e=1===c;return(0,i.jsx)(u.fn,{ref:o,leftLabel:e?S[0]:null,leftInput:e?v[0]:null,rightLabel:e?null:S[0],rightInput:e?null:v[0],icon:null})}if(1===c&&1===h)return(0,i.jsx)(u.fn,{ref:o,leftLabel:S[0],leftInput:v[0],rightLabel:S[1],rightInput:v[1],icon:null});if(c+h===2){let e=2===c;return(0,i.jsxs)("div",{ref:o,children:[(0,i.jsx)(u.fn,{ref:o,leftLabel:e?S[0]:null,leftInput:e?v[0]:null,rightLabel:e?null:S[0],rightInput:e?null:v[0],icon:null}),(0,i.jsx)(u.fn,{ref:o,leftLabel:e?S[1]:null,leftInput:e?v[1]:null,rightLabel:e?null:S[1],rightInput:e?null:v[1],icon:null})]})}return(0,i.jsxs)("div",{ref:o,children:[(0,i.jsx)(u.fn,{leftLabel:x(t.width.min),leftInput:f(t.width.min),rightLabel:x(t.height.min),rightInput:f(t.height.min),icon:null}),(0,i.jsx)(u.fn,{leftLabel:x(t.width.max),leftInput:f(t.width.max),rightLabel:x(t.height.max),rightInput:f(t.height.max),icon:null})]})}function L(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_tt"):(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_tt");case"height":return"min"===e.minOrMax?(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_tt"):(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_tt")}}function M(e){let t;let{minMaxApi:n,shouldFocus:u}=e,h=(0,C.kl)("isNonEditableInstanceSublayerSelected"),g=(0,C.kl)(n.widthOrHeight),_=(0,C.kl)(n.minOrMaxWidthOrHeight),m=(0,b.Fp)(),k=(0,r.useRef)(0),N=(0,r.useRef)(new Map),O=(0,p.Xr)(b.Md),[M,P]=(0,p.fp)(b.Kl),B=[];g!==n.value&&B.push(b.vC),B.push(b.Bn);let F=B.map(t=>{let n=(0,v.gl)(g);return(0,i.jsx)(w.c$,{recordingKey:f.Pt(e.recordingKey,"select",t),value:t,disabled:!!h||t===b.vC&&n},t)}),H=r.useRef(null),K=function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?"MIN_WIDTH":"MAX_WIDTH";case"height":return"min"===e.minOrMax?"MIN_HEIGHT":"MAX_HEIGHT"}}(n);switch(n.widthOrHeight){case"width":t="min"===n.minOrMax?(0,i.jsx)(a.l,{}):(0,i.jsx)(l.R,{});break;case"height":t="min"===n.minOrMax?(0,i.jsx)(o,{}):(0,i.jsx)(s,{})}let G="width"===n.widthOrHeight?d._0v.X:d._0v.Y;r.useEffect(()=>{u&&(H.current?.focus(),H.current?.select())},[u]);let D=(0,b.VY)(n),{clearVariableConsumption:V}=(0,I.O)(K,d.rXF.FLOAT),z=(0,r.useCallback)((e,t=E.zk.YES)=>{if(V(E.zk.NO),e===b.vC)"number"==typeof g&&n.set(g||null,E.zk.NO);else if(e===b.Bn){n.set(null,E.zk.NO);let e={[n.widthOrHeight]:{...M[n.widthOrHeight],[n.minOrMax]:!1}};P({...M,...e}),O(null)}else("number"==typeof e||null==e)&&n.set(e,E.zk.NO,k.current);t===E.zk.YES&&x.Y5.triggerAction("commit")},[V,g,n,M,P,O]);class U extends S.M{getValueForNode(e){return d.Egt.getNodeTransformProperties(e.guid)[n.minOrMaxWidthOrHeight]}setValueForNode(e,t,i){let r={[n.minOrMaxWidthOrHeight]:t};if(i&&N.current.has(e.guid)){let i=N.current.get(e.guid);r[n.widthOrHeight]=i;let a=(0,b.jz)(e,i,t,n.widthOrHeight);a!==i&&(r[n.widthOrHeight]=a),r.sizeChangeIsAutomatic=!0}d.Egt.setNodeTransformProperties(e.guid,r)}}return(0,i.jsx)(T.ow,{value:{select:j.pW,inputComponent:j.gm},children:(0,i.jsx)(w.tV,{value:{chevron:A.t},children:(0,i.jsx)(I.S,{allowEmpty:!0,"aria-label":L(n),"data-tooltip-max-width":200,dropdownAlignment:"width"===n.widthOrHeight?"left":"right",dropdownWidth:162,formatter:D,icon:t,iconId:`icon-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,id:`minMaxDropdown.${e.minMaxApi.minOrMax}${e.minMaxApi.widthOrHeight}`,inputRef:H,inputTestId:`transform-${e.minMaxApi.widthOrHeight}-${e.minMaxApi.minOrMax}`,mixedMathHandler:new U,noBorderOnFocus:!0,omitValueFromDropdown:!0,onBlur:()=>{m("minmax",{axis:G,renderLabels:!0},b.qi.YES_ONLY_MIN_MAX),O(null)},onChange:z,onFocus:()=>m("minmax",{axis:G,renderLabels:!0},b.qi.YES),onMouseEnter:()=>m("minmax",{axis:G,renderLabels:!0}),onMouseLeave:()=>m("minmax",null),onScrubBegin:()=>{(0,v.gl)(_)?(0,c.getActiveTSSceneGraph)().getDirectlySelectedNodes().forEach(e=>{N.current.set(e.guid,e.size[G===d._0v.X?"x":"y"])}):"number"==typeof g?k.current=g:k.current=0},onScrubEnd:()=>{N.current.clear(),k.current=0},openBelowTarget:!0,options:F,outerClassName:"width"===n.widthOrHeight?R.Kw:R.X8,placeholder:function(e){switch(e.widthOrHeight){case"width":return"min"===e.minOrMax?(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.min_width_short"):(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.max_width_short");case"height":return"min"===e.minOrMax?(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.min_height_short"):(0,y.t)("fullscreen.properties_panel.stack_panel.minmax.max_height_short")}}(n),recordingKey:e.recordingKey,shiftVariableOptionToAlign:!0,shouldFocus:u,showTooltipOnTargetOnly:!0,source:"panel",tooltipText:L(n),value:n.value,variableField:K})})})}},166612:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(716976),r=n(104076);let a=(0,i.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M15.147 13.147a.5.5 0 0 1 .707 0l2 2a.5.5 0 0 1 0 .707l-2 2a.5.5 0 0 1-.707-.707L16.293 16H6.5l-.101-.01a.5.5 0 0 1 0-.98L6.5 15h9.793l-1.146-1.146a.5.5 0 0 1 0-.707m-5.493-7.14A1.5 1.5 0 0 1 11 7.5v2l-.007.153a1.5 1.5 0 0 1-1.34 1.34L9.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L6 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 6h2zm7 0A1.5 1.5 0 0 1 18 7.5v2l-.007.153a1.5 1.5 0 0 1-1.34 1.34L16.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L13 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L14.5 6h2zM14.5 7a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm-7 0a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})})},771882:(e,t,n)=>{n.d(t,{x:()=>a});var i=n(716976),r=n(104076);let a=(0,i.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M11.653 13.008A1.5 1.5 0 0 1 13 14.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L11.5 18h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L8 16.5v-2a1.5 1.5 0 0 1 1.347-1.492L9.5 13h2zM9.5 14a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm7.153-5.992A1.5 1.5 0 0 1 18 9.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L16.5 13h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L13 11.5v-2a1.5 1.5 0 0 1 1.347-1.492L14.5 8h2zM14.5 9a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zM9.653 6.008A1.5 1.5 0 0 1 11 7.5v2l-.008.153a1.5 1.5 0 0 1-1.339 1.34L9.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.34-1.339L6 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 6h2zM7.5 7a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})})},554730:(e,t,n)=>{n.d(t,{z:()=>a});var i=n(716976),r=n(104076);let a=(0,i.memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,"data-fpl-icon-size":"24",children:(0,r.jsx)("path",{fill:"var(--fpl-icon-color, var(--color-icon))",d:"M9.654 13.008A1.5 1.5 0 0 1 11 14.5v2l-.008.153a1.5 1.5 0 0 1-1.338 1.34L9.5 18h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L6 16.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 13h2zM15.5 6a.5.5 0 0 1 .49.4l.01.1v9.794l1.146-1.146a.501.501 0 0 1 .708.707l-2 2a.5.5 0 0 1-.707 0l-2-2a.5.5 0 0 1 .707-.707L15 16.294V6.5l.01-.1a.5.5 0 0 1 .49-.4m-8 8a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5zm2.154-7.992A1.5 1.5 0 0 1 11 7.5v2l-.008.153a1.5 1.5 0 0 1-1.338 1.34L9.5 11h-2l-.153-.008a1.5 1.5 0 0 1-1.339-1.339L6 9.5v-2a1.5 1.5 0 0 1 1.347-1.492L7.5 6h2zM7.5 7a.5.5 0 0 0-.5.5v2a.5.5 0 0 0 .5.5h2a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 0-.5-.5z"})})})}}]);

//# debugId=6cc3f166-2705-5cc0-9fc9-39dfccb6d988

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f695da755526e966524d3a207f8e1d2f4d77a41b/4372-919b98bb903165b1.min.js.map